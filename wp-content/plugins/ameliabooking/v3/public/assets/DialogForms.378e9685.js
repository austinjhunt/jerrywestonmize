import{y as D,E as n,c5 as b,p as i,B as g,D as k,s as B,a3 as C,k as p,a2 as z,e as v,w as R,b as o,a8 as V,ak as W,j as _,C as M,o as h,ac as S}from"./stepForm.27d9b9aa.js";import{e as $}from"./catalogForm.5fdce7e6.js";import j from"./EventsListForm.cb87e62a.js";import"./customizeForm.a063f050.js";const L={name:"EventsListFormWrapper"},I=Object.assign(L,{setup(N){let e=_("shortcodeData"),y=D({sbsNew:n(b),cbf:n($),elf:n(j)}),l=i(0);g("dialogWrapperWidth",l);let a=i(!1);g("formDialogVisibility",a);let m=i(!1),u=e.value.trigger_type&&e.value.trigger_type==="class"?[...document.getElementsByClassName(e.value.trigger)]:[document.getElementById(e.value.trigger)];function w(r){m.value=r}let d=i(100);u.forEach(r=>{r.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),a.value=!0,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},d.value)})}),k(m,r=>{r&&u.forEach(s=>{s.dispatchEvent(new Event("click"))})});function E(){a.value=!1}B(()=>{C("renderPopup",{resizeAfter:d})});const c=_("settings");let t=p(()=>c.customizedData&&"elf"in c.customizedData?c.customizedData[e.value.triggered_form].colors:M[e.value.triggered_form].colors),x=p(()=>({"--am-c-primary":t.value.colorPrimary,"--am-c-success":t.value.colorSuccess,"--am-c-error":t.value.colorError,"--am-c-warning":t.value.colorWarning,"--am-c-main-bgr":t.value.colorMainBgr,"--am-c-main-heading-text":t.value.colorMainHeadingText,"--am-c-main-text":t.value.colorMainText}));return z(()=>{e.value.triggered_form==="sbsNew"&&(l.value="760px"),e.value.triggered_form==="cbf"&&(l.value="1140px"),e.value.triggered_form==="elf"&&(l.value="792px")},{flush:"post"}),(r,s)=>(h(),v(W,{modelValue:o(a),"onUpdate:modelValue":s[0]||(s[0]=f=>V(a)?a.value=f:a=f),"append-to-body":!0,"modal-class":`amelia-v2-booking am-forms-dialog am-${o(e).triggered_form}`,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-styles":o(x),"used-for-shortcode":!0,width:o(l),onClosed:E},{default:R(()=>[(h(),v(S(o(y)[o(e).triggered_form]),{onIsRestored:w}))]),_:1},8,["modelValue","modal-class","custom-styles","width"]))}});export{I as default};
