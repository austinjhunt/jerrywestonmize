import{d as Ht,_ as kt,u as tt,o as t,c as i,a,b as e,e as ye,w as O,f as ue,t as n,g as Ae,h as r,i as J,j as Rt,k as F,l as y,m as ae,F as K,r as ge,n as N,p as ce,q as S,s as Ie,v as Re,x as ht,y as qt,z as at,A as Xe,I as da,B as pt,C as se,D as lt,E as Ct,G as Pe,H as ma,J as pa,K as _a,L as va,M as fa,N as ga,O as ya,P as ha,Q as ba,R as ka,S as Ca,T as $a,U as wa,V as Sa,W as He,X as Tt,Y as xa,Z as Pt,$ as Mt,a0 as mt,a1 as Gt,a2 as Pa,a3 as Ia,a4 as Yt,a5 as Ve,a6 as qe,a7 as Ea,a8 as La,a9 as re,aa as Da,ab as Ot,ac as Ta,ad as Qt,ae as Ba,af as Fa,ag as Xt,ah as za,ai as Aa,aj as Bt,ak as $t,al as ct,am as Ft,an as Nt,ao as _t,ap as wt,aq as Me,ar as St,as as xt,at as Ra,au as Ma,av as Oa,aw as Na,ax as Va,ay as Ua}from"./stepForm.0d506831.js";const Wa={class:"am-cat__header-inner"},ja={class:"am-cat__back-btn"},Ha={key:0,class:"am-cat__cart-btn"},qa={class:"am-cat__cart-number"},Ga={name:"MainHeader"},Vt=Object.assign(Ga,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(v,{emit:B}){const h=v;let x=Ht({components:{IconComponent:kt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),w=Ht({components:{IconComponent:kt},template:'<IconComponent icon="cart"/>'});function D(){B("goBack")}const u=tt();function s(){Rt(u),B("goToCart")}return(d,b)=>(t(),i("div",Wa,[a("div",ja,[e(h).backBtnVisibility?(t(),ye(Ae,{key:0,prefix:e(x),category:"secondary",type:v.btnType,size:v.btnSize,onClick:D},{default:O(()=>[ue(n(e(h).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(h).cartBtnVisibility?(t(),i("div",Ha,[a("span",qa,n(e(h).cartItemsNumber),1),J(Ae,{category:"secondary",type:v.btnType,size:v.btnSize,round:!0,"icon-only":!0,icon:e(w),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const Ja={class:"am-cat__sidemenu-item__wrapper"},Ya=["onClick"],Qa={key:0,class:"am-cat__sidemenu-footer"},Xa={class:"am-cat__sidemenu-footer__text"},Za=["href"],Ka={name:"SideMenu"},ei=Object.assign(Ka,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(v,{emit:B}){const h=v;function x(u){B("click",u)}let w=F("amColors"),D=y(()=>({"--am-c-csm-text-op10":ae(w.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(w.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(w.value.colorSbText,.6),"--am-c-csm-text-op80":ae(w.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:ce(e(D))},[a("div",Ja,[(t(!0),i(K,null,ge(v.menuItems,(d,b)=>(t(),i("div",{key:b,class:N(["am-cat__sidemenu-item",{"am-active":e(h).initSelection===d[e(h).identifier]}]),onClick:()=>x(d)},n(d[e(h).nameIdentifier]),11,Ya))),128))]),e(h).companyEmail?(t(),i("div",Qa,[a("span",Xa,n(e(h).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(h).companyEmail}`},n(e(h).companyEmail),9,Za)])):r("",!0)],4))}});const ti={name:"MainContent"},Ut=Object.assign(ti,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(v,{expose:B}){let h=S(null),x=S(0),w=S(null),D=S(0),u=S(null),s=S(0),d=S(null),b=S(null),L=S(0);window.addEventListener("resize",k);function k(){Ie(()=>{h.value&&(x.value=h.value.offsetWidth),w.value&&(D.value=w.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Re(()=>{Ie(()=>{if(u.value&&d.value){let U=u.value.offsetHeight-d.value.offsetHeight-2;L.value=U<=656?656:U}k()})}),B({catHeaderWidth:x,catFormWidth:s,catContainerWidth:D});let P=F("amColors"),_=y(()=>({"--am-h-cat-content":`${L.value}px`,"--am-c-scroll-op30":ae(P.value.colorPrimary,.3),"--am-c-scroll-op10":ae(P.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:N(["am-cat__wrapper",v.wrapperClass])},[a("div",{ref_key:"catHeader",ref:h,class:"am-cat__header"},[ht(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:w,class:"am-cat__main"},[ht(U.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:N(["am-cat__form",v.formClass]),style:ce(e(_))},[a("div",{ref_key:"catHeading",ref:d,class:N(["am-cat__heading",v.headingClass])},[ht(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:N(["am-cat__content",v.contentClass])},[ht(U.$slots,"content")],2)],6)],512)],2))}}),ai={name:"AmImagePlaceholder"},nt=Object.assign(ai,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(v){const B=v;function h(w){return w.pictureFullPath?{backgroundImage:`url(${w.pictureFullPath})`}:{backgroundColor:`${qt.value[Math.floor(Math.random()*qt.value.length)]}`}}function x(w){return w.pictureFullPath?"":("firstName"in w?`${w.firstName} ${w.lastName}`:w.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,B.trimString).replace(/[^\w\s]/g,"")}return(w,D)=>(t(),i("span",{class:N(e(B).itemClass),style:ce({...h(e(B).itemData)})},n(x(e(B).itemData)),7))}}),zt=at(window.wpAmeliaSettings),Jt=at(window.wpAmeliaLabels);function Zt(v,B,h,x=null,w=null){let D=[],u=v&&v.service?v.service.split(",").map(s=>parseInt(s)):null;return B&&B.serviceList.forEach(s=>{x?x in h.entitiesRelations&&s.id in h.entitiesRelations[x]&&(w?h.entitiesRelations[x][s.id].find(d=>d===w):!0)&&s.status==="visible"&&s.show&&!D.filter(d=>d===s.id).length&&(!u||u.includes(s.id))&&D.push(s.id):h.employees.forEach(d=>{d.id in h.entitiesRelations&&s.id in h.entitiesRelations[d.id]&&(w?h.entitiesRelations[d.id][s.id].find(b=>b===w):!0)&&s.status==="visible"&&s.show&&!D.filter(b=>b===s.id).length&&(!u||u.includes(s.id))&&D.push(s.id)})}),D}function Kt(v,B){let h=[],x=[];v.employees.forEach(u=>{if(u.id in v.entitiesRelations&&B in v.entitiesRelations[u.id]){let s=u.serviceList.find(d=>d.id===B);h.push(s.maxCapacity),x.push(s.minCapacity)}});let w=x.reduce((u,s)=>s<u?s:u,x[0]),D=h.reduce((u,s)=>s>u?s:u,h[0]);return w!==D?`${w}/${D}`:w}function ea(v){let B=Math.floor(v/3600),h=v/60%60;return(B?B+Jt.h+" ":"")+" "+(h?h+Jt.min:"")}function ot(v,B){let h=[];v.employees.forEach(D=>{if(D.id in v.entitiesRelations&&B in v.entitiesRelations[D.id]){let u=D.serviceList.find(s=>s.id===B);h.push(u.price)}});let x=h.reduce((D,u)=>u<D?u:D,h[0]),w=h.reduce((D,u)=>u>D?u:D,h[0]);return x!==w?{price:`${Xe(x,!zt.payments.hideCurrencySymbolFrontend)} - ${Xe(w,!zt.payments.hideCurrencySymbolFrontend)}`,min:x,max:w}:{price:Xe(x,zt.payments.hideCurrencySymbolFrontend),min:x,max:w}}function et(v,B){let h=[];return v.employees.forEach(x=>{x.id in v.entitiesRelations&&B in v.entitiesRelations[x.id]&&v.entitiesRelations[x.id][B].length&&v.locations.forEach(w=>{v.entitiesRelations[x.id][B].some(D=>D===w.id)&&!h.find(D=>D===w.id)&&h.push(w)})}),h}function ii(v,B){let h=[],x=Object.keys(v.entitiesRelations);return B.bookable.forEach(w=>{let D=[];x.forEach(u=>{v.entitiesRelations[u]&&v.entitiesRelations[u][w.service.id]&&!D.find(s=>s?s.id===parseInt(u):!0)&&D.push(v.employees.find(s=>s.id===parseInt(u)))}),D.length||h.push(!1)}),h.filter(w=>w===!1).length}function si(v,B,h){let x=[],w=Object.keys(v.entitiesRelations),D=h&&h.employee?h.employee.split(",").map(s=>parseInt(s)):null,u=S(D?v.unfilteredEmployees.filter(s=>D.map(d=>parseInt(d)).includes(s.id)):v.unfilteredEmployees);return B.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(L=>{u.value.find(k=>k.id===b.id)&&v.entitiesRelations[b.id]&&v.entitiesRelations[b.id][s.service.id]&&v.entitiesRelations[b.id][s.service.id].indexOf(L.id)!==-1&&!d.find(k=>k.id===b.id)&&d.push(u.value.find(k=>k.id===b.id))}):u.value.find(L=>L.id===b.id)&&!d.find(L=>L.id===b.id)&&d.push(u.value.find(L=>L.id===b.id))}):w.forEach(b=>{s.locations.length?s.locations.forEach(L=>{v.entitiesRelations[b]&&v.entitiesRelations[b][s.service.id]&&v.entitiesRelations[b][s.service.id].indexOf(L.id)!==-1&&u.value.find(k=>k.id===parseInt(b))&&!d.find(k=>k.id===parseInt(b))&&d.push(u.value.find(k=>k.id===parseInt(b)))}):v.entitiesRelations[b]&&v.entitiesRelations[b][s.service.id]&&u.value.find(L=>L.id===parseInt(b))&&!d.find(L=>L.id===parseInt(b))&&d.push(u.value.find(L=>L.id===parseInt(b)))}),x.push(!!d.length)}),!x.filter(s=>s===!1).length}function ta(v,B,h){let x=[],w=Object.keys(v.entitiesRelations),D=h&&h.employee?h.employee.split(",").map(s=>parseInt(s)):null,u=S(D?v.unfilteredEmployees.filter(s=>D.map(d=>parseInt(d)).includes(s.id)):v.unfilteredEmployees);return B.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(b=>{u.value.find(L=>L.id===d.id)&&v.entitiesRelations[d.id]&&v.entitiesRelations[d.id][s.service.id]&&v.entitiesRelations[d.id][s.service.id].indexOf(b.id)!==-1&&!x.find(L=>L.id===d.id)&&x.push(u.value.find(L=>L.id===d.id))}):u.value.find(b=>b.id===d.id)&&!x.find(b=>b.id===d.id)&&x.push(u.value.find(b=>b.id===d.id))}):w.forEach(d=>{s.locations.length?s.locations.forEach(b=>{v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id]&&v.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===parseInt(d))&&!x.find(L=>L.id===parseInt(d))&&x.push(u.value.find(L=>L.id===parseInt(d)))}):v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id]&&u.value.find(b=>b.id===parseInt(d))&&!x.find(b=>b.id===parseInt(d))&&x.push(u.value.find(b=>b.id===parseInt(d)))})}),x}function At(v,B,h){let x=[],w=Object.keys(v.entitiesRelations),D=h&&h.location?h.location.split(",").map(s=>parseInt(s)):null,u=S(D?v.unfilteredLocations.filter(s=>D.map(d=>parseInt(d)).includes(s.id)):v.unfilteredLocations);return B.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{u.value.find(b=>b.id===d.id)&&!x.find(b=>b.id===d.id)&&x.push(u.value.find(b=>b.id===d.id))}):w.forEach(d=>{u.value.forEach(b=>{d in v.entitiesRelations&&s.service.id in v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===b.id)&&!x.find(L=>L.id===parseInt(b.id))&&x.push(u.value.find(L=>L.id===b.id))})})}),x}function bt(v,B,h=null,x=null){let w=[];return v.categories.forEach(D=>{let u=Zt(B,D,v,h,x);D.serviceIdList=u,D.packageList=[],v.packages.forEach(s=>{u.forEach(d=>{s.bookable.filter(b=>b.service.id===d).length&&!D.packageList.filter(b=>b===s.id).length&&s.available&&s.status==="visible"&&!ii(v,s)&&si(v,s,B)&&D.packageList.push(s.id)})}),D.status==="visible"&&D.serviceList.length&&!!u.length&&(B.show==="packages"?!!D.packageList.length:!0)&&w.push(D)}),w}const li={class:"am-fcl__item-inner"},ni={class:"am-fcl__item-name"},oi={class:"am-fcl__item-segments"},ci={key:0,class:"am-fcl__item-segments__item"},ri=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),ui={class:"am-fcl__item-segments__item-count"},di={key:1,class:"am-fcl__item-segments__item"},mi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),pi={class:"am-fcl__item-segments__item-count"},_i={class:"am-fcl__item-footer"},vi=["src"],fi={class:"am-empty__heading"},gi={class:"am-empty__subheading"},yi={class:"am-empty__text"},hi={key:0},bi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ki={key:1},Ci={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},$i={name:"CategoriesList",key:"categoriesList"},wi=Object.assign($i,{setup(v){const B=F("baseUrls");let h=S(null),x=S(0);window.addEventListener("resize",w);function w(){h.value&&(x.value=h.value.offsetWidth)}Re(()=>{h.value&&(x.value=h.value.offsetWidth)});let D=y(()=>x.value<=500?"am-w100":x.value<=600?"am-w50":x.value<=768?"am-w33":""),{nextPage:u}=F("changingPageFunctions",{nextPage:()=>{}});const s=F("settings");let d=tt(),b=F("amEntities"),L=F("customizedDataForm"),k=y(()=>L.value.categoriesList.options);const P=F("shortcodeData"),_=y(()=>d.getters["entities/getPreselected"]);let U=F("availableCategories"),te=y(()=>U.value),E=F("categorySelected");function z(he){E.value=he,d.commit("booking/setCategoryId",parseInt(he)),pt(d,{},"SelectCategory","appointment",null,null),u()}let c=y(()=>te.value.length===0);const j=F("labels"),oe=F("localLanguage");let Q=y(()=>s.general.usedLanguages.includes(oe.value)),pe=y(()=>{let he=at({...j});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let ne=s.customizedData.cbf.categoriesList.translations;Object.keys(ne).forEach(p=>{ne[p][oe.value]&&Q.value?he[p]=ne[p][oe.value]:ne[p].default&&(he[p]=ne[p].default)})}return he}),ke=F("amColors"),V=y(()=>({"--am-c-fcl-card-text-op80":ae(ke.value.colorCardText,.8)}));return(he,ne)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:h,class:"am-empty"},[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,vi),a("div",fi,n(e(pe).oops),1),a("div",gi,n(e(_).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",yi,[e(_).show!=="packages"?(t(),i("span",hi,n(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",bi,n(e(pe).add_services_url)+"\xA0 ",1),e(_).show!=="packages"?(t(),i("span",ki,n(e(pe).and)+"\xA0 ",1)):r("",!0),e(_).show!=="packages"?(t(),i("a",Ci,n(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:h,class:"am-fcl",style:ce(e(V))},[(t(!0),i(K,null,ge(e(te),p=>(t(),i("div",{key:p.id,class:N(["am-fcl__item",e(D)])},[a("div",li,[a("div",{class:"am-fcl__item-content",style:ce(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:p.color}:{})},[a("div",{class:"am-fcl__item-heading",style:ce(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ae)(p.color,.1)}:{})},[p.pictureFullPath?(t(),i("div",{key:0,style:ce({backgroundImage:`url(${p.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",ni,n(p.name),1),a("div",oi,[(!e(_).show||e(_).show==="services")&&e(k).services.visibility?(t(),i("div",ci,[ri,a("span",ui,n(e(Zt)(e(P),p,e(b)).length),1)])):r("",!0),(!e(_).show||e(_).show==="packages")&&p.packageList.length&&e(k).packages.visibility?(t(),i("div",di,[mi,a("span",pi,n(p.packageList.length),1)])):r("",!0)])],4),a("div",_i,[J(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(da),onClick:fe=>z(p.id)},{default:O(()=>[ue(n(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Si=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),xi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Pi=["href"],Ii={class:"am-fs-sb__step-wrapper"},Ei={class:"am-fs-sb__step-inner"},Li={class:"am-fs-sb__step-icon"},Di={key:0,class:"am-icon-check"},Ti={key:0},Bi={key:1},Fi={key:1},zi={key:0,class:"am-fs-sb__step"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Oi={key:0,class:"am-fs-sb__support"},Ni=["href"],Vi={key:1,class:"am-icon-phone"},Ui=["href"],Wi={key:1,class:"am-icon-email"},ji={key:0,class:"am-fs-sb__menu-text"},Hi={key:2,class:"am-no-services"},qi=["src"],Gi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ji={style:{"font-size":"14px"}},Yi={href:"https://wpamelia.com/employees/",rel:"nofollow"},Qi={name:"CategoryBooking"},Wt=Object.assign(Qi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(v,{emit:B}){const h=v;let x=S(null),w=S();se("containerWidth",w);let D=S(!1);window.addEventListener("resize",u);function u(){x.value&&(w.value=x.value.offsetWidth)}Re(()=>{Ie(()=>{x.value&&(w.value=x.value.offsetWidth)}),pt(c,{containerWidth:w},"ContainerWidth","appointment",null,null)});const s=F("settings"),d=s.customizedData?s.customizedData.sbsNew:lt.sbsNew;d&&se("amCustomize",d);let b=y(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(o.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(o.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(o.email=d.sidebar.options.companyEmail.visibility),o});const L=S(s.customizedData?s.customizedData.fonts:lt.fonts);se("amFonts",L);let k=S(!1);se("sidebarCollapsed",k);let P=S(""),_=F("bookingDialogWidth");Ct(k,o=>{o?setTimeout(()=>{P.value="am-collapsed",setTimeout(()=>{_.value="592px"},200)},1e3):(P.value="",_.value="760px")}),Re(()=>{d.sidebar.options.self.visibility||(_.value="520px")});let U=S(null),te=S(0);Re(()=>{setTimeout(()=>{Ie(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let E=S(d.sidebar?d.sidebar.options.self.visibility:!0);const z=F("baseUrls"),c=tt();let j=y(()=>{let o=c.getters["entities/getOriginalPreselected"],g={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(I=>{I in g||(g[I]=o[I])}),g});c.commit("entities/setPreselected",j.value);let oe=F("restoreFormData");const Q=Pe(ma),pe=Pe(pa),ke=Pe(_a),V=Pe(va),he=Pe(fa),ne=Pe(ga),p=Pe(ya),fe=Pe(ha),$e=Pe(ba),_e=Pe(ka),ve=Pe(Ca),ee=Pe($a),Te=Pe(wa),Be=Pe(Sa),m=S(He(c)?[Q,ne,_e,ve,$e]:[Q,ne,ve,$e]);se("stepsArray",m);const Z=F("labels"),H=F("localLanguage");let R=y(()=>s.general.usedLanguages.includes(H.value)),Fe=Tt(c),de=y(()=>{let o=at({...Z});return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(g=>{if(g!=="colors"&&s.customizedData.sbsNew[g].translations){let I=s.customizedData.sbsNew[g].translations;Object.keys(I).forEach(X=>{I[X][H.value]&&R.value?o[X]=I[X][H.value]:I[X].default&&(o[X]=I[X].default)})}}),o});se("amLabels",de);let Ce=y(()=>{let o={};if(s.customizedData){let g=s.customizedData.sbsNew[m.value[$.value].key]?s.customizedData.sbsNew[m.value[$.value].key].translations:null;s.customizedData&&g&&Object.keys(g).forEach(I=>{g[I][H.value]&&R.value?o[I]=g[I][H.value]:g[I].default&&(o[I]=g[I].default)})}return Object.keys(o).length?o:Z}),ze=y(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[m.value[$.value].key]&&(o=s.customizedData.sbsNew[m.value[$.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",ze),se("primDescBtnType",ze);let we=y(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[m.value[$.value].key]&&s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton.buttonType),o}),Y=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),W=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function A(o,g){let I="";if(s.customizedData){let X=s.customizedData.sbsNew[g]?s.customizedData.sbsNew[g].translations:null;s.customizedData&&X&&X[o]&&(I===""&&X[o][H.value]&&R.value?I=X[o][H.value]:I===""&&X[o].default&&(I=X[o].default))}return I||Z[o]}let le=y(()=>xa(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Oe(){let o=c.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(m.value.splice(0,1),G.value.splice(0,1),De()),Se();else{C();let g=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,I=!d.initStep.options.employee.visibility,X=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Le=!d.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||g||I)&&(o.location.length>0||X||Le)&&(le.value.availability?(m.value.splice(0,1,Be),G.value.splice(0,1)):(m.value.splice(0,1),G.value.splice(0,1)),Se())}}function Ee(o,g,I,X){o.value.map((Ue,Qe)=>g.includes(Ue.name)?Qe:null).filter(Ue=>Ue!==null).reverse().forEach(Ue=>{o.value.splice(Ue,1)});let je={value:X};I.forEach(Ue=>{o.value.indexOf(Ue)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?o.value.splice(je.value,0,Ue):o.value.splice(je.value+1,0,Ue))})}se("goToPackageStep",{goToPackageStep:Ze});function Ze(o){c.commit("booking/setPackageId",o.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",Pt(0,o)),c.commit("booking/setMultipleAppointmentsIndex",0);let g=o.bookable.reduce((Le,je)=>Le+je.maximumScheduled,0),I=[],X=[];m.value[0]!==pe&&I.push("ExtrasStep"),m.value[0]!==ne&&I.push("DateTimeStep"),m.value[0]!==_e&&I.push("CartStep"),g>0?X=X.concat([fe,p,ke]):X.push(ke),Ee(m,I,X,$.value),Ee(G,I,[],$.value),Se(),st()}function De(){let g=c.state.entities.packages.find(Le=>Le.id===c.getters["booking/getPackageId"]).bookable.reduce((Le,je)=>Le+je.maximumScheduled,0),I=[],X=[];m.value.find(Le=>Le.name==="ExtrasStep")&&I.push("ExtrasStep"),m.value.find(Le=>Le.name==="DateTimeStep")&&I.push("DateTimeStep"),g>0?X=X.concat([fe,p,ke]):X.push(ke),Ee(m,I,X,$.value),Ee(G,I,[],$.value),Se(),st()}function it(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),mt(c);let o=[];m.value[0]!==ne&&(He(c)&&o.push(_e),o.push(ne)),m.value[0]!==pe&&T.value&&T.value.length&&o.push(pe),Ee(m,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,$.value-1),Ee(G,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],$.value),Se()}se("goToRecurringStep",{goToRecurringStep:rt}),se("removeRecurringStep",{removeRecurringStep:q});function rt(){He(c)&&ia();let o=0;for(let g=0;g<m.value.length;g++)if(m.value[g].name==="DateTimeStep"){o=g;break}m.value.splice(o+1,0,V),m.value.splice(o+2,0,he),Se(),st()}function q(){for(let o=m.value.length-1;o>=0;o--)(m.value[o].name==="RecurringStep"||m.value[o].name==="RecurringSummary")&&m.value.splice(o+1,1);He(c)&&aa($.value),Se()}let T=y(()=>{let o=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return o?o.extras:[]});function C(){T.value.length&&!m.value.find(o=>o.name==="ExtrasStep")&&(m.value.splice($.value+1,0,pe),Se()),G.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(T.value).length&&(m.value.splice(1,1),G.value.splice(1,1)),h.showCart||mt(c)}se("initDataChanges",{changeInitStepDataService:C});const $=S(0);se("stepIndex",$);let ut=F("stepName",S(""));Ct($,(o,g)=>{o<G.value.length&&(G.value[g].selected=!1,G.value[o].selected=!0),o===G.value.length&&(G.value[g].selected=!1),ut.value=m.value[o].name});let Ge=S(!1);se("goBackToPackageBooking",Ge);function vt(){f(!1),ie.value||(m.value[$.value].name===ke.name&&it(),m.value[$.value].name===V.name&&(m.value.splice($.value,2),G.value.splice($.value,2),He(c)&&(m.value.splice($.value,0,_e),Ee(G,[],[],$.value),Se())),m.value[$.value].name===fe.name&&(Ge.value=!0),$.value=$.value-1),Ke.value=!Ke.value}function st(){ie.value||(G.value[$.value].finished=!0,$.value=$.value+1)}let ft=y(()=>c.getters["entities/getReady"]),gt=y(()=>c.getters["booking/getLoading"]),Je=y(()=>c.getters["booking/getBooked"]),It=y(()=>c.getters["booking/getPaymentGateway"]),dt=S(!1),yt=S(!1),Ke=S(!1);function xe(){dt.value=!0}function Et(){dt.value=!1}function Lt(){Ke.value=!0}function M(){Ke.value=!1}function f(o){yt.value=o}function l(){Je.value&&(Je.value.customerCabinetUrl?window.location.href=Je.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:l});let ie=S(!1);se("changingStepsFunctions",{nextStep:st,previousStep:vt,footerButtonClick:xe,footerButtonReset:Et,footerBtnDisabledUpdater:f,headerButtonPreviousClick:Lt,headerButtonPreviousReset:M,footerBtnDisabled:yt,footerButtonClicked:dt,headerButtonPreviousClicked:Ke,navigateInsideStep:ie});const G=S([]);se("sidebarSteps",G);function We(o){G.value[$.value].stepSelectedData.filter(g=>g.reference===o.reference).length?G.value[$.value].stepSelectedData.forEach((g,I,X)=>{g.reference===o.reference&&o.value&&o.value!==g.value&&(g.value=o.value),g.reference===o.reference&&!o.value&&X.splice(I,1)}):o.value&&G.value[$.value].stepSelectedData.push(o),G.value[$.value].stepSelectedData.sort((g,I)=>g.position-I.position)}function Ye(){m.value.forEach((o,g)=>{if(o.name!=="CongratulationsStep"){let I=o.sidebarData.label,X={name:o.name,key:o.key,label:de.value[I],labelKey:I,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===$.value};G.value.splice(g,0,X)}})}Mt(()=>{Ye(),Oe()}),Re(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":h.showCart||mt(c);break}if(h.showCart&&Gt(m,$),oe.value){m.value.splice(0,m.value.length),G.value.splice(0,G.value.length),$.value=0,oe.value.steps.forEach(g=>{switch(g){case"packageStep":m.value.push(Te);break;case"bringingAnyone":m.value.push(Be);break;case"initStep":m.value.push(Q);break;case"packageInfoStep":m.value.push(ke);break;case"packageAppointmentsStep":m.value.push(p);break;case"packageAppointmentsListStep":m.value.push(fe);break;case"extrasStep":m.value.push(pe);break;case"dateTimeStep":m.value.push(ne);break;case"recurringStep":m.value.push(V);break;case"recurringSummary":m.value.push(he);break;case"cartStep":m.value.push(_e);break;case"infoStep":m.value.push(ve);break;case"paymentStep":m.value.push(ee);break;case"congratulations":m.value.push($e);break}let I=oe.value.sidebar.find(X=>X.key===g);Se(),typeof I<"u"&&I.data&&I.data.forEach(X=>{We({reference:X.reference,position:X.position,value:X.value})}),$.value++}),c.commit("booking/setLoading",!1);let o=-1;oe.value.result==="success"?o=m.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(o=m.value.length-2);for(let g=0;g<=o;g++)m.value[g].finished=!0;for(let g=0;g<=o-1;g++)G.value[g].finished=!0,G.value[g].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(G.value[o].finished=!1,G.value[o].selected=!0),$.value=o}});function Se(){m.value.forEach((o,g)=>{if(o.name!=="CongratulationsStep"&&!G.value.find(I=>I.labelKey===o.sidebarData.label)){let I=o.sidebarData.label,X={name:o.name,key:o.key,label:de.value[I],labelKey:I,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===$.value};G.value.splice(g,0,X)}})}se("sidebarStepsFunctions",{sidebarDataCollector:We}),se("addPaymentsStep",{addPaymentsStep:me}),se("removePaymentsStep",{removePaymentsStep:jt});function me(){m.value.splice(m.value.length-1,0,ee),Se()}function jt(){let o=["PaymentStep"];Ee(m,o,[],$.value),Ee(G,o,[],$.value)}function aa(o){Ee(m,[],[_e],o),Ee(G,[],[],o)}function ia(){Ee(m,["CartStep"],[],$.value),Ee(G,["CartStep"],[],$.value)}function sa(){if(c.getters["entities/getPreselected"].show==="packages"){let g=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return g.length>0&&g.filter(I=>I.price>0).length===g.length}if(!c.getters["booking/getPackageId"]){let g=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],I=0;for(let X of g){let Le=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],je=c.getters["booking/getBookingDuration"];if(Le.filter(Qe=>Qe.serviceList.find(Ne=>Ne.id===X.id&&(Ne.price>0||Ne.customPricing&&Ne.customPricing.enabled&&(Object.values(Ne.customPricing.durations).length===Object.values(Ne.customPricing.durations).filter(Dt=>Dt.price>0).length||je&&Ne.customPricing.durations[je].price>0)))).length===Le.filter(Qe=>Qe.serviceList.find(Ne=>Ne.id===X.id)).length)I++;else{let Qe=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Qe.length>0&&Qe.reduce((Ne,Dt)=>Ne+Dt.price,0)>0&&I++}}return g.length>0&&I===g.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let la=y(()=>Tt(c).length?Pa(c)!==0:sa());Ia(()=>{let o=Tt(c);!o[0].serviceId&&Object.keys(o[0].services).length===0&&B("emptiedCart"),!oe.value&&!la.value?jt():oe.value||m.value.indexOf(ee)===-1&&me()},{flush:"post"});function na(){G.value.forEach(o=>{o.finished=!1,o.selected=!1}),m.value.forEach(o=>{o.finished=!1,o.selected=!1}),$.value=0,Xt(c,!0),za(c),mt(c),B("addToCart")}function oa(){let o=c.getters["booking/getCurrentCartItem"],g=c.getters["booking/getAllMultipleAppointments"];o?(c.commit("booking/setCartItem",o),c.commit("booking/setCartItemIndex",g.length-1),c.commit("booking/setCurrentCartItem",null)):(g.pop(),c.commit("booking/setCartItemIndex",g.length-1),c.commit("booking/setServiceId",g[g.length-1].serviceId),c.commit("booking/setEmployeeId",g[g.length-1].services[g[g.length-1].serviceId].providerId),c.commit("booking/setLocationId",g[g.length-1].services[g[g.length-1].serviceId].locationId)),Gt(m,$)}let be=y(()=>s.customizedData?s.customizedData.sbsNew.colors:lt.sbsNew.colors);se("amColors",be);let ca=y(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ae(be.value.colorMainText,.2),"--am-c-skeleton-op60":ae(be.value.colorMainText,.6),"--am-font-family":L.value.fontFamily,"--am-mw-main":E.value?k.value?"592px":"760px":"520px","--am-brad-main":E.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ra(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let g=`@font-face {font-family: '${L.value.fontFamily}'; src: url(${L.value.fontUrl});}`,I=document.createElement("style");o.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(g))}L.value.customFontSelected&&ra();let ua=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),Re(()=>{Yt("renderForm",{ameliaContainer:x,containerWidth:w,empty:D,amCustomize:d,amFonts:L,sidebarCollapsed:k,sidebarCollapseItemsClass:P,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:E})}),(o,g)=>(t(),i(K,null,[L.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Si,xi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(z).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Pi)],64)),e(D)?(t(),i("div",Hi,[a("img",{src:e(z).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,qi),a("h1",null,n(e(de).oops),1),a("h3",null,n(e(de).no_services_employees),1),a("p",null,n(e(de).add_services_employees),1),a("a",Gi,n(e(de).add_services_url)+"\xA0 ",1),a("span",Ji,n(e(de).and)+"\xA0",1),a("a",Yi,n(e(de).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:x,class:N(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:ce(e(ca))},[e(w)>560&&e(E)?(t(),ye(Da,{key:0,class:N(["am-fs-sb",{"am-collapsed":e(k)}]),style:ce({width:e(k)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":O(()=>[a("div",Ii,[m.value[$.value]!==e($e)||!e(s).general.addToCalendar||e(Je)&&e(Je).data.length===0?(t(!0),i(K,{key:0},ge(G.value,I=>(t(),i("div",{key:I.key,class:"am-fs-sb__step"},[a("div",Ei,[a("div",Li,[a("span",{class:N(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(Ve)(e(c))!==0?(t(),i("span",{key:0,class:N(["am-fs-sb__step-icon__number",e(P)])},n(e(Ve)(e(c))),3)):r("",!0)]),J(qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),i("p",{key:0,class:N(["am-fs-sb__step-heading",e(P)])},n(I.label),3))]),_:2},1024),a("div",{class:N(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(P)]])},[J(qe,{name:"fade"},{default:O(()=>[I.finished?(t(),i("span",Di)):r("",!0)]),_:2},1024)],2)]),J(Ea,{tag:"span",name:"fade",appear:"",class:N(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(p).key&&I.stepSelectedData.length>3}])},{default:O(()=>[e(k)?r("",!0):(t(!0),i(K,{key:0},ge(I.stepSelectedData,(X,Le)=>(t(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[I.key!==e(p).key||Le<3?(t(),i("span",Ti,n(X.value),1)):(t(),i("span",Bi,n(e(de).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Fi,[J(qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),ye(La,{key:0}))]),_:1}),e(k)?(t(),i("div",zi,[a("div",Ai,[a("div",Ri,[a("span",{class:N(`am-icon-${m.value[$.value].sidebarData.icon}`)},null,2)]),a("div",{class:N(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":m.value[$.value].sidebarData.selected},e(P)]])},[J(qe,{name:"fade"},{default:O(()=>[m.value[$.value].sidebarData.finished?(t(),i("span",Mi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":O(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",Oi,[J(qe,{name:"fade"},{default:O(()=>[!e(k)&&e(b).heading?(t(),i("div",{key:0,class:N(["am-fs-sb__support-heading",e(P)])},n(e(de).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Vi)):(t(),i(K,{key:0},[ue(n(e(s).company.phone),1)],64))],8,Ni)):r("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",Wi)):(t(),i(K,{key:0},[ue(n(e(s).company.email),1)],64))],8,Ui)):r("",!0)])):r("",!0),a("div",{class:N(["am-fs-sb__menu",e(P)]),onClick:g[0]||(g[0]=I=>re(k)?k.value=!e(k):k=!e(k))},[J(qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),i("span",ji,n(e(de).collapse_menu),1))]),_:1}),a("span",{class:N(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Fa,null,Ot({step:O(()=>[(t(),ye(Qt(m.value[$.value]),{"global-class":"am-fs__main-content"}))]),footer:O(()=>[J(e(Ba),{"second-button-show":m.value[$.value]===e($e)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(He)(e(c))&&m.value[$.value]===e(_e),"back-to-cart-button-show":e(He)(e(c))&&e(Fe).length>1&&m.value[$.value]!==e(_e)&&m.value[$.value]!==e(ve)&&m.value[$.value]!==e(ee)&&m.value[$.value]!==e($e),booked:e(Je),loading:e(gt),ready:e(ft),"payment-gateway":e(It),"customized-labels":e(Ce),"primary-footer-button-type":e(ze),"secondary-footer-button-type":e(we),"add-to-cart-button-type":e(Y),"back-to-cart-button-type":e(W),"back-to-cart-label":A("cancel","cartStep"),onAddToCart:na,onBackToCart:oa},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[m.value[$.value]!==e($e)?{name:"header",fn:O(()=>[J(Ta,{"sidebar-visible":e(E),ready:e(ft)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Xi={class:"am-fcil__filter-buttons"},Zi={class:"am-fcil__filter"},Ki={class:"am-fcil__filter-item__btn-wrapper"},es={class:"am-fcil__heading"},ts={key:0,class:"am-fcil__item-badge__wrapper"},as={class:"am-fcil__item-badge am-package"},is=a("span",{class:"am-icon-shipment"},null,-1),ss={class:"am-fcil__item-heading"},ls={class:"am-fcil__item-name"},ns={key:0,class:"am-fcil__item-cost"},os={key:0,class:"am-fcil__item-discount"},cs={class:"am-fcil__item-price"},rs={key:1,class:"am-fcil__item-price"},us={class:"am-fcil__item-info"},ds={key:0,class:"am-fcil__item-info__inner"},ms=a("span",{class:"am-icon-folder"},null,-1),ps={key:1,class:"am-fcil__item-info__inner"},_s=a("span",{class:"am-icon-clock"},null,-1),vs={key:0},fs={key:1},gs={key:2},ys={key:2,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-user"},null,-1),bs=a("span",null,"1/1",-1),ks=[hs,bs],Cs={key:3,class:"am-fcil__item-info__inner"},$s=a("span",{class:"am-icon-locations"},null,-1),ws={key:2,class:"am-fcil__item-services"},Ss={key:0,class:"am-fcil__item-badge__wrapper"},xs={class:"am-fcil__item-badge am-service"},Ps=a("span",{class:"am-icon-service"},null,-1),Is={class:"am-fcil__item-heading"},Es={class:"am-fcil__item-name"},Ls={key:0,class:"am-fcil__item-cost"},Ds={key:0,class:"am-fcil__item-price"},Ts={key:1,class:"am-fcil__item-price"},Bs={class:"am-fcil__item-info"},Fs={key:0,class:"am-fcil__item-info__inner"},zs=a("span",{class:"am-icon-folder"},null,-1),As={key:1,class:"am-fcil__item-info__inner"},Rs=a("span",{class:"am-icon-clock"},null,-1),Ms={key:2,class:"am-fcil__item-info__inner"},Os=a("span",{class:"am-icon-user"},null,-1),Ns={key:3,class:"am-fcil__item-info__inner"},Vs=a("span",{class:"am-icon-locations"},null,-1),Us={class:"am-fcil-employee__header"},Ws={class:"am-fcil-employee__heading"},js={class:"am-fcil-employee__heading-left"},Hs={class:"am-fcil-employee__name"},qs={key:0,class:"am-fcil-employee__heading-right"},Gs={class:"am-fcil-employee__price"},Js=["innerHTML"],Ys={key:1,ref:"ameliaContainer",class:"am-empty"},Qs=["src"],Xs={class:"am-empty__heading"},Zs={class:"am-empty__subheading"},Ks={class:"am-empty__text"},el={key:0},tl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},al={key:1},il={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},sl={name:"CategoryItemsList",key:"categoryItemsList"},ll=Object.assign(sl,{setup(v){let B=F("licence"),{nextPage:h,previousPage:x}=F("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const w=F("baseUrls");let D=S(!1),u=S(!1),s=S("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let b=S(!1),L=S(),k=F("containerWidth"),P=F("customizedDataForm"),_=y(()=>P.value.categoryItemsList.options),U=y(()=>"pageScroll"in _.value?_.value.pageScroll.visibility:!0);const te=F("settings");let E=tt();const z=F("shortcodeData"),c=y(()=>E.getters["entities/getPreselected"]);let j=y(()=>{let M=Array.isArray(z.value.category)?z.value.category:z.value.category.split(",");return M=M.filter(f=>f),M.length}),oe=y(()=>{let M=L.value&&L.value.catContainerWidth?L.value.catContainerWidth>768:!0;return j.value!==1&&_.value.sidebar.visibility&&M}),Q=F("amEntities"),pe=y(()=>He(E)&&Ve(E)>0),ke=y(()=>Ve(E));const V=F("labels"),he=F("localLanguage");let ne=y(()=>te.general.usedLanguages.includes(he.value)),p=y(()=>{let M=at({...V});if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let f=te.customizedData.cbf.categoryItemsList.translations;Object.keys(f).forEach(l=>{f[l][he.value]&&ne.value?M[l]=f[l][he.value]:f[l].default&&(M[l]=f[l].default)})}return M}),fe=S(""),$e={components:{IconComponent:kt},template:'<IconComponent icon="search"/>'},_e=S(!0),ve={components:{IconComponent:kt},template:'<IconComponent icon="filter"/>'},ee=y(()=>L.value&&L.value.catHeaderWidth?L.value.catHeaderWidth:0);window.addEventListener("resize",Te);function Te(){Ie(()=>{ee.value>480&&(_e.value=!0)})}Re(()=>{Te()});function Be(M){let f=[];return fe.value.toLowerCase().split(" ").forEach(l=>{f.push(M.toLowerCase().includes(l))}),f.filter(l=>l===!1).length<=0}let m=F("availableCategories"),Z=y(()=>{let M=[...m.value],f=[];return M.forEach(l=>{f.push({id:l.id,name:l.name})}),f.unshift({id:0,name:p.value.filter_all}),f}),H=F("categorySelected"),R=y(()=>bt(Q.value,z.value,Ce.value,ze.value)),Fe=y(()=>{let M=[];return R.value.find(f=>f.id===H.value)?Q.value.packages.forEach(f=>{R.value.find(l=>l.id===H.value).packageList.forEach(l=>{f.id===l&&(fe.value?Be(f.name):!0)&&M.push(f)})}):Q.value.packages.forEach(f=>{R.value.forEach(l=>{l.packageList.forEach(ie=>{f.id===ie&&!M.find(G=>G.id===ie)&&(fe.value?Be(f.name):!0)&&M.push(f)})})}),M}),de=y(()=>{let M=[];return H.value&&R.value.find(f=>f.id===H.value)?Q.value.services.forEach(f=>{R.value.find(l=>l.id===H.value).serviceIdList.forEach(l=>{f.id===l&&(fe.value?Be(f.name):!0)&&M.push(f)})}):Q.value.services.forEach(f=>{R.value.forEach(l=>{l.serviceIdList.forEach(ie=>{f.id===ie&&(fe.value?Be(f.name):!0)&&M.push(f)})})}),M}),Ce=S(null),ze=S(null),we=S(!0),Y=S(!0);function W(M){M==="all"&&(we.value=!0,Y.value=!0),M==="packages"&&(we.value=!0,Y.value=!1),M==="services"&&(we.value=!1,Y.value=!0)}Mt(()=>{c.value.show&&W(c.value.show)});let A=y(()=>{let M=z.value.employee,f=Q.value.employees.length,l=z.value.location,ie=Q.value.locations.length,G=_.value.searchInput.visibility,We=_.value.filterEmployee.visibility&&M.length!==1&&f>1&&!B.isLite,Ye=_.value.filterLocation.visibility&&l.length!==1&&ie>1&&!B.isLite&&!B.isStarter,Se=_.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Fe.value.length!==0&&de.value.length!==0&&!Ve(E),me={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!G||!Se?(me.employee=!G&&!Se?"am-w50":"am-w35",me.location=!G&&!Se?"am-w50":"am-w35",me.search=!Se&&!Ye&&!We?"am-w100":"am-w30",We||(me.location=!G&&!Se?"am-w100":"am-w70"),Ye||(me.employee=!G&&!Se?"am-w100":"am-w70")):(We||(me.location="am-w40"),Ye||(me.employee="am-w40"),!We&&!Ye&&(me.search="am-w70")):ee.value>768||ee.value>480?(me.search=Se?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",me.buttons=G?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",me.employee=Ye?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",me.location=We?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",me.category="am-w100 am-tablet am-order5"):(me.employee="am-w100 am-mobile",me.location="am-w100 am-mobile",me.search="am-w100 am-mobile",me.buttons="am-w100 am-mobile",me.category="am-w100 am-mobile"),me}),le=y(()=>L.value&&L.value.catContainerWidth?L.value.catContainerWidth:0),Oe=y(()=>{let M=Fe.value.length&&!Ve(E)?Fe.value.length:0,f=de.value.length>1?p.value.heading_services:p.value.heading_service,l=M?M>1?p.value.packages:p.value.package:"";if(!de.value.length&&!M)return p.value.no_search_data;if(Y.value&&(!we.value||!M))return`${p.value.available} - ${de.value.length} ${f}`;if((!Y.value||!de.value.length)&&we.value)return`${p.value.available} - ${M} ${l}`;let ie=M?"/":"";return`${p.value.available} - ${de.value.length} ${f} ${ie} ${M} ${l}`});Re(()=>{Ie(()=>{D.value=Fe.value.length===0&&de.value.length===0})});function Ee(M){const f=M.id===0?null:M.id;H.value=f,E.commit("booking/setCategoryId",f)}let Ze=F("itemType");function De(M){E.commit("booking/setServiceId",parseInt(M)),E.commit("booking/setBookableType","appointment"),Ze.value="appointment",pt(E,{},"SelectService","appointment",null,null),Ie(()=>{h()})}function it(M){E.commit("booking/setServiceId",null),E.commit("booking/setPackageId",M.id),E.commit("booking/setBookableType","package"),E.commit("booking/setMultipleAppointments",Pt(0,M)),E.commit("booking/setCartItemIndex",0),Ze.value="package",pt(E,{},"SelectPackage","package",null,null),Ie(()=>{h()})}function rt(){H.value=null,E.commit("booking/setCategoryId",null),x()}function q(){Rt(E),b.value=!0,u.value=!0}let T=S(!1),C=S(""),$=S([]),ut=S({}),Ge=S(null);function vt(){C.value="",$.value=[],ut.value={},Ge.value=null}function st(M){$.value=ta(Q.value,M,z.value),ut.value=M,T.value=!0}function ft(M){let f=[];Object.keys(Q.value.entitiesRelations).forEach(ie=>{ie in Q.value.entitiesRelations&&M in Q.value.entitiesRelations[ie]&&Q.value.employees.find(G=>G.id===parseInt(ie))&&f.push(Q.value.employees.find(G=>G.id===parseInt(ie)))}),$.value=f,C.value="service",T.value=!0,Ge.value=M}function gt(M){let f=Q.value.services.find(ie=>ie.id===Ge.value).price,l=M.serviceList.find(ie=>ie.id===Ge.value).price;return l!==f?`${l-f>0?f>0?"+":"":"-"} ${Xe(l-f)}`:0}function Je(){C.value==="service"?De(Ge.value):it(ut.value),vt()}function It(M,f){let l="";return M>1?(f==="day"&&(l=p.value.expires_days),f==="week"&&(l=p.value.expires_weeks),f==="month"&&(l=p.value.expires_months)):(f==="day"&&(l=p.value.expires_day),f==="week"&&(l=p.value.expires_week),f==="month"&&(l=p.value.expires_month)),l}function dt(M,f){let l=At(M,f);return l.length===1||l.length&&l.every(ie=>ie.id===l[0].id)?l[0].address?l[0].address:l[0].name:p.value.multiple_locations}function yt(M,f){let l=et(M,f);return l.length===1||l.length&&l.every(ie=>ie.id===l[0].id)?l[0].address?l[0].address:l[0].name:p.value.multiple_locations}let Ke=F("amFonts",S({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),xe=F("amColors"),Et=y(()=>({"--am-c-fcil-text-op-10":ae(xe.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(xe.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(xe.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(xe.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(xe.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(xe.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(xe.value.colorInpText,.1),"--am-w-fcil-main":m.value.length!==1&&j.value!==1&&_.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":L.value&&L.value.catFormWidth<580?"100%":"50%"})),Lt=y(()=>({"--am-f-fcil-employee-f":Ke.value.fontFamily,"--am-c-fcil-employee-bgr":xe.value.colorMainBgr,"--am-c-fcil-employee-heading":xe.value.colorMainHeadingText,"--am-c-fcil-employee-text":xe.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(xe.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(xe.value.colorMainText,.15),"--am-c-fcil-employee-primary":xe.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(xe.value.colorPrimary,.1),"--am-c-inp-border":xe.value.colorInpBorder,"--am-c-main-text":xe.value.colorMainText}));return(M,f)=>e(D)?(t(),i("div",Ys,[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,Qs),a("div",Xs,n(e(p).oops),1),a("div",Zs,n(e(c).show!=="packages"?e(p).no_services_employees:e(p).no_package_services),1),a("div",Ks,[e(c).show!=="packages"?(t(),i("span",el,n(e(p).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",tl,n(e(p).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",al,n(e(p).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",il,n(e(p).add_employees_url),1)):r("",!0)])],512)):(t(),ye(Ut,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:ce(e(Et))},Ot({header:O(()=>[a("span",Xi,[e(j)!==1&&!e(z).categories_hidden&&e(m).length!==1?(t(),ye(Vt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(p).back_btn,"btn-type":e(_).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e(ke),onGoBack:rt,onGoToCart:q},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),ye(Ae,{key:1,size:"medium",category:"secondary",type:e(_).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ve),onClick:f[0]||(f[0]=()=>re(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",Zi,[e(_).searchInput.visibility?(t(),i("div",{key:0,class:N(["am-fcil__filter-item",e(A).search])},[J(Aa,{modelValue:e(fe),"onUpdate:modelValue":f[1]||(f[1]=l=>re(fe)?fe.value=l:fe=l),placeholder:e(p).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(qe,{name:"slide-fade"},{default:O(()=>[e(z).employee.length!==1&&e(Q).employees.length>1&&e(_).filterEmployee.visibility&&e(_e)&&!e(B).isLite?(t(),i("div",{key:0,class:N(["am-fcil__filter-item",e(A).employee])},[J(Bt,{modelValue:e(Ce),"onUpdate:modelValue":f[2]||(f[2]=l=>re(Ce)?Ce.value=l:Ce=l),clearable:"",filterable:"",placeholder:e(p).filter_employee,"fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(Q).employees,l=>(t(),ye(Ft,{key:l.id,value:l.id,label:`${l.firstName} ${l.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(qe,{name:"slide-fade"},{default:O(()=>[e(z).location.length!==1&&e(Q).locations.length>1&&e(_).filterLocation.visibility&&e(_e)&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",{key:0,class:N(["am-fcil__filter-item",e(A).location])},[J(Bt,{modelValue:e(ze),"onUpdate:modelValue":f[3]||(f[3]=l=>re(ze)?ze.value=l:ze=l),clearable:"",filterable:"",placeholder:e(p).filter_location,"fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(Q).locations,l=>(t(),ye(Ft,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(qe,{name:"slide-fade"},{default:O(()=>[e(m).length!==1&&e(j)!==1&&e(_).sidebar.visibility&&!e(oe)&&e(_e)?(t(),i("div",{key:0,class:N(["am-fcil__filter-item am-w100",e(A).category])},[J(Bt,{modelValue:e(H),"onUpdate:modelValue":f[4]||(f[4]=l=>re(H)?H.value=l:H=l),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(Z),l=>(t(),ye(Ft,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(_).filterButtons.visibility&&e(Fe).length!==0&&e(de).length!==0&&!e(Ve)(e(E))?(t(),i("div",{key:1,class:N(["am-fcil__filter-item",e(A).buttons])},[a("div",Ki,[a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":e(we)&&e(Y)}]),onClick:f[5]||(f[5]=l=>W("all"))},[a("span",null,n(e(p).filter_all),1)],2),a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":e(we)&&!e(Y)}]),onClick:f[6]||(f[6]=l=>W("packages"))},[a("span",null,n(e(p).filter_packages),1)],2),a("div",{class:N(["am-fcil__filter-item__btn",{"am-active":!e(we)&&e(Y)}]),onClick:f[7]||(f[7]=l=>W("services"))},[a("span",null,n(e(p).filter_services),1)],2)])],2)):r("",!0)])]),heading:O(()=>[a("div",es,n(e(Oe)),1)]),content:O(()=>[e(we)&&!e(Ve)(e(E))?(t(!0),i(K,{key:0},ge(e(Fe),l=>(t(),i("div",{key:l.id,class:N(["am-fcil__item",{"am-mobile":e(le)<481}])},[a("div",{class:N(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(l.color,.1)}:{})},[e(_).packageBadge.visibility?(t(),i("div",ts,[a("div",as,[is,a("span",null,n(e(p).package),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",ss,[a("div",ls,n(l.name),1),e(_).packagePrice.visibility?(t(),i("div",ns,[l.discount?(t(),i("span",os,n(`${e(p).save} ${l.discount}%`),1)):r("",!0),a("span",cs,n(l.price?e(Xe)(e(Nt)(l)):e(p).free),1),l.price&&(e(_).tax?.visibility??!0)&&e(_t)(e(E),l.id,"package")?(t(),i("span",rs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[ue(n(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(n(e(p).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",us,[e(_).packageCategory.visibility&&e(H)?(t(),i("div",ds,[ms,a("span",null,n(e(m).find(ie=>ie.id===e(H)).name),1)])):r("",!0),e(_).packageDuration.visibility?(t(),i("div",ps,[_s,l.endDate?(t(),i("span",vs,n(`${e(p).expires_at} ${l.endDate.split(" ")[0]}`),1)):l.durationCount?(t(),i("span",fs,n(`${e(p).expires_after} ${l.durationCount} ${It(l.durationCount,l.durationType)}`),1)):(t(),i("span",gs,n(e(p).without_expiration),1))])):r("",!0),e(_).packageCapacity.visibility?(t(),i("div",ys,ks)):r("",!0),e(At)(e(Q),l,e(z)).length&&e(_).packageLocation.visibility?(t(),i("div",Cs,[$s,a("span",null,n(dt(e(Q),l)),1)])):r("",!0)]),e(_).packageServices.visibility?(t(),i("div",ws,[a("span",null,n(`${e(p).in_package}:`),1),(t(!0),i(K,null,ge(l.bookable,ie=>(t(),i("span",{key:ie.id},n(ie.service.name),1))),128))])):r("",!0)],4),a("div",{class:N(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(_).cardEmployeeBtn.visibility?(t(),ye(Ae,{key:0,class:N({"am-w100":e(le)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ie=>st(l)},{default:O(()=>[ue(n(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:N([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ie=>it(l)},{default:O(()=>[ue(n(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),e(Y)?(t(!0),i(K,{key:1},ge(e(de),l=>(t(),i("div",{key:l.id,class:N(["am-fcil__item",{"am-mobile":e(le)<481}])},[a("div",{class:N(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(l.color,.1)}:{})},[e(_).serviceBadge.visibility?(t(),i("div",Ss,[a("div",xs,[Ps,a("span",null,n(e(p).heading_service),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",Is,[a("div",Es,n(l.name),1),e(_).servicePrice.visibility?(t(),i("div",Ls,[e(ot)(e(Q),l.id).min||e(ot)(e(Q),l.id).max?(t(),i("span",Ds,n(e(ot)(e(Q),l.id).price),1)):r("",!0),(e(_).tax?.visibility??!0)&&e(_t)(e(E),l.id,"service")?(t(),i("span",Ts,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[ue(n(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(n(e(p).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Bs,[e(_).serviceCategory.visibility&&e(H)?(t(),i("div",Fs,[zs,a("span",null,n(e(m).find(ie=>ie.id===e(H)).name),1)])):r("",!0),e(_).serviceDuration.visibility?(t(),i("div",As,[Rs,a("span",null,n(e(ea)(l.duration)),1)])):r("",!0),e(_).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Ms,[Os,a("span",null,n(e(Kt)(e(Q),l.id)),1)])):r("",!0),e(et)(e(Q),l.id).length&&e(_).serviceLocation.visibility?(t(),i("div",Ns,[Vs,a("span",null,n(yt(e(Q),l.id)),1)])):r("",!0)])],4),a("div",{class:N(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(_).cardEmployeeBtn.visibility&&!e(B).isLite?(t(),ye(Ae,{key:0,class:N({"am-w100":e(le)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ie=>ft(l.id)},{default:O(()=>[ue(n(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:N([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ie=>De(l.id)},{default:O(()=>[ue(n(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),J(ct,{modelValue:e(T),"onUpdate:modelValue":f[9]||(f[9]=l=>re(T)?T.value=l:T=l),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Lt),width:"648px",onClose:vt},{title:O(()=>[a("div",Us,n(e(p).employee_info),1)]),default:O(()=>[a("div",null,[J($t,null,{default:O(()=>[(t(!0),i(K,null,ge(e($),(l,ie)=>(t(),ye(wt,{key:ie,side:""},{heading:O(()=>[a("div",Ws,[a("div",js,[J(nt,{"item-class":"am-fcil-employee__img","item-data":l,"trim-string":2},null,8,["item-data"]),a("div",Hs,[ue(n(`${l.firstName} ${l.lastName}`)+" ",1),l.badge?(t(),i("span",{key:0,style:ce({background:l.badge.color}),class:"am-fcil-employee__badge"},n(l.badge.content),5)):r("",!0)])]),e(C)==="service"&&gt(l)!==0?(t(),i("div",qs,[a("div",Gs,n(gt(l)),1)])):r("",!0)])]),default:O(()=>[e(Me)(l.description)?(t(),i("div",{key:0,class:N(["am-fcil-employee__text",{"ql-description":l.description.includes("<!-- Content -->")}]),innerHTML:l.description},null,10,Js)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:O(()=>[e(_).dialogEmployeeBtn.visibility?(t(),ye(Ae,{key:0,type:e(_).dialogEmployeeBtn.buttonType,category:"primary",onClick:f[8]||(f[8]=l=>Je())},{default:O(()=>[ue(n(e(C)==="service"?e(p).book_service:e(p).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(ct,{modelValue:e(u),"onUpdate:modelValue":f[10]||(f[10]=l=>re(u)?u.value=l:u=l),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:O(()=>[J(Wt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(m).length!==1&&e(j)!==1&&e(_).sidebar.visibility&&e(oe)?{name:"side",fn:O(()=>[J(ei,{"menu-items":e(Z),"init-selection":e(H),identifier:"id","name-identifier":"name","footer-string":e(p).get_in_touch,"company-email":e(te).company.email,onClick:Ee},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const nl={class:"am-fcis__header-text"},ol={class:"am-fcis__header-name"},cl={key:0,class:"am-fcis__badge am-service"},rl=a("span",{class:"am-icon-service"},null,-1),ul={class:"am-fcis__header-action"},dl={key:0,class:"am-fcis__header-price"},ml={key:1,class:"am-fcis__header-tax"},pl={class:"am-fcis__header-btn"},_l={key:0,class:"am-fcis__header-bottom"},vl={class:"am-fcis__mini-info"},fl={key:0,class:"am-fcis__mini-info__inner"},gl=a("span",{class:"am-icon-folder"},null,-1),yl={key:1,class:"am-fcis__mini-info__inner"},hl=a("span",{class:"am-icon-clock"},null,-1),bl={key:2,class:"am-fcis__mini-info__inner"},kl=a("span",{class:"am-icon-user"},null,-1),Cl={key:3,class:"am-fcis__mini-info__inner"},$l=a("span",{class:"am-icon-locations"},null,-1),wl={key:0,class:"am-fcis__gallery"},Sl={key:0,class:"am-fcis__gallery-thumb__wrapper"},xl={class:"am-gd__display-wrapper"},Pl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Il=["src","alt"],El={class:"am-gd__selection"},Ll={class:"am-gd__thumb-wrapper"},Dl=["onClick"],Tl={key:1,class:"am-fcis__info"},Bl={class:"am-fcis__info-tab__wrapper"},Fl={class:"am-fcis__info-content__wrapper"},zl={key:0,class:"am-fcis__info-content"},Al=["innerHTML"],Rl={key:1,class:"am-fcis__info-content"},Ml={class:"am-fcis__info-employee__hero"},Ol={class:"am-fcis__info-employee__heading"},Nl={class:"am-fcis__info-employee__name"},Vl={key:0,class:"am-fcis__info-employee__price"},Ul=["innerHTML"],Wl={key:2,class:"am-fcis__include-wrapper"},jl={class:"am-fcis__include-heading"},Hl={class:"am-fcis__include-heading__text"},ql=["onClick"],Gl={class:"am-fcis__include-hero"},Jl={key:0,class:"am-fcis__include-cost"},Yl={key:0,class:"am-fcis__include-discount"},Ql={class:"am-fcis__include-price"},Xl={key:1,class:"am-fcis__include-price"},Zl={class:"am-fcis__include-info"},Kl={key:0,class:"am-fcis__include-info__inner"},en=a("span",{class:"am-icon-folder"},null,-1),tn={key:1,class:"am-fcis__include-info__inner"},an=a("span",{class:"am-icon-clock"},null,-1),sn={key:0},ln={key:1},nn={key:2},on={key:2,class:"am-fcis__include-info__inner"},cn=a("span",{class:"am-icon-user"},null,-1),rn=a("span",null,"1/1",-1),un=[cn,rn],dn={key:3,class:"am-fcis__include-info__inner"},mn=a("span",{class:"am-icon-locations"},null,-1),pn={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},_n={key:1,ref:"ameliaContainer",class:"am-empty"},vn=["src"],fn={class:"am-empty__heading"},gn={class:"am-empty__subheading"},yn={class:"am-empty__text"},hn={key:0},bn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},kn={key:1},Cn={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},$n={name:"CategoryService"},wn=Object.assign($n,{setup(v){let B=F("licence"),{previousPage:h}=F("changingPageFunctions",{previousPage:()=>{}}),x=y(()=>U.getters["entities/getReady"]);const w=F("baseUrls");let D=S(),u=F("containerWidth");const s=F("settings");let d=F("amFonts");const b=F("labels"),L=F("localLanguage");let k=y(()=>s.general.usedLanguages.includes(L.value)),P=y(()=>{let q=at({...b});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(C=>{T[C][L.value]&&k.value?q[C]=T[C][L.value]:T[C].default&&(q[C]=T[C].default)})}return q}),_=S(0),U=tt(),te=F("amEntities"),E=y(()=>He(U)&&Ve(U)>0),z=y(()=>Ve(U)),c=F("customizedDataForm"),j=y(()=>c.value.categoryService.options),oe=y(()=>"pageScroll"in j.value?j.value.pageScroll.visibility:!0),Q=F("itemType"),pe=F("categorySelected"),ke=y(()=>te.value.categories.find(q=>q.id===pe.value)),V=y(()=>{let q=te.value.services.find(T=>T.id===U.getters["booking/getServiceId"]);return q||{}});function he(q,T){let C=et(q,T);return C.length===1||C.length&&C.every($=>$.id===C[0].id)?C[0].address?C[0].address:C[0].name:P.value.multiple_locations}let ne=S("description"),p=y(()=>{let q=[];return Object.keys(te.value.entitiesRelations).forEach(C=>{te.value.entitiesRelations[C][V.value.id]&&te.value.employees.find($=>$.id===parseInt(C))&&q.push(te.value.employees.find($=>$.id===parseInt(C)))}),q});function fe(q){let T=q.serviceList.find(C=>C.id===V.value.id).price;return T-V.value.price!==0?`${T-V.value.price>0?V.value.price>0?"+":"":"-"} ${Xe(T-V.value.price)}`:""}Re(()=>{j.value.serviceDescription.visibility||(ne.value="employees"),Me(V.value.description)||(ne.value="employees")});let $e=y(()=>{let q=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)}),_e=y(()=>{let q=[];return te.value.packages.forEach(T=>{T.bookable.filter(C=>C.service.id===V.value.id).length&&!q.filter(C=>C.id===T.id).length&&T.available&&T.status==="visible"&&q.push(T)}),q}),ve=S(!1),ee=y(()=>{let q=[..._e.value];return ve.value?q:q.slice(0,2)}),Te=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Be(){Q.value="",Ie(()=>{h()})}let m=S(!1);function Z(){Rt(U),m.value=!0,R.value=!0}function H(){R.value=!1,U.getters["entities/getPreselected"].service.length>1&&Be()}let R=S(!1),Fe=S("760px");se("bookingDialogWidth",Fe);function de(){let q=U.getters["entities/getPreselected"];p.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),q.employee=[parseInt(p.value[0].id)],U.commit("entities/setPreselected",q)),m.value=!1,R.value=!1,Ra(U),Xt(U,!1),mt(U);let T=et(te.value,V.value.id);T.length===1&&(U.commit("booking/setLocationId",parseInt(T[0].id)),q.location=[parseInt(T[0].id)],U.commit("entities/setPreselected",q)),U.commit("booking/setBookableType","appointment"),R.value=!0}F("restoreFormData").value&&de();function ze(q){U.commit("booking/setPackageId",q.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",Pt(0,q)),U.commit("booking/setMultipleAppointmentsIndex",0),p.value.length===1&&U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),et(te.value,V.value.id).length===1&&U.commit("booking/setLocationId",parseInt(et(te.value,V.value.id)[0].id)),Ie(()=>{R.value=!0})}const we=y(()=>U.getters["entities/getPreselected"]);let Y=y(()=>te.value.services.length!==1&&we.value.service.length!==1),W=S("");se("stepName",W);function A(){let q=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),T=q.settings?JSON.parse(q.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function le(){if(W.value&&W.value==="CongratulationsStep")A();else{if(W.value&&W.value==="DateTimeStep"){let q=Ma(U);q&&console.log(q)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Fe.value="760px"}let Oe=S(!1);function Ee(q,T){let C="";return q>1?(T==="day"&&(C=P.value.expires_days),T==="week"&&(C=P.value.expires_weeks),T==="month"&&(C=P.value.expires_months)):(T==="day"&&(C=P.value.expires_day),T==="week"&&(C=P.value.expires_week),T==="month"&&(C=P.value.expires_month)),C}let Ze=y(()=>Object.keys(V.value).length===0||p.value.length===0),De=F("amColors"),it=y(()=>({"--am-c-fcis-success-op20":ae(De.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(De.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(De.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(De.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(De.value.colorBtnSec,.5)})),rt=y(()=>({"--am-c-fcis-bgr":De.value.colorMainBgr,"--am-c-fcis-text":De.value.colorMainText,"--am-c-fcis-success":De.value.colorSuccess,"--am-c-fcis-primary":De.value.colorPrimary,"--am-c-scroll-op30":ae(De.value.colorPrimary,.3),"--am-c-scroll-op10":ae(De.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(q,T)=>e(x)?(t(),i(K,{key:0},[e(Ze)?r("",!0):(t(),ye(Ut,{key:0,ref_key:"contentRef",ref:D,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:ce(e(it))},{header:O(()=>[J(Vt,{"btn-string":e(P).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(Y),"cart-btn-visibility":e(E),"cart-items-number":e(z),onGoBack:Be,onGoToCart:Z},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:O(()=>[a("div",{class:N([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"])},[a("div",nl,[a("span",ol,n(e(V).name),1),e(j).serviceBadge.visibility?(t(),i("div",cl,[rl,a("span",null,n(e(P).heading_service),1)])):r("",!0)]),a("div",ul,[e(j).servicePrice.visibility?(t(),i("span",dl,n(e(ot)(e(te),e(V).id).min||e(ot)(e(te),e(V).id).max?e(ot)(e(te),e(V).id).price:e(P).free),1)):r("",!0),(e(j).tax?.visibility??!0)&&e(_t)(e(U),e(V).id,"service")?(t(),i("span",ml,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[ue(n(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(n(e(P).incl_tax),1)],64))])):r("",!0),a("span",pl,[J(Ae,{type:e(j).bookingBtn.buttonType,onClick:de},{default:O(()=>[ue(n(e(P).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(t(),i("div",_l,[a("div",vl,[e(j).serviceCategory.visibility&&e(ke)?(t(),i("div",fl,[gl,a("span",null,n(e(ke).name),1)])):r("",!0),e(j).serviceDuration.visibility?(t(),i("div",yl,[hl,a("span",null,n(e(ea)(e(V).duration)),1)])):r("",!0),e(j).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",bl,[kl,a("span",null,n(e(Kt)(e(te),e(V).id)),1)])):r("",!0),e(et)(e(te),e(V).id).length&&e(j).serviceLocation.visibility&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",Cl,[$l,a("span",null,n(he(e(te),e(V).id)),1)])):r("",!0)])])):r("",!0)]),content:O(()=>[e(V).gallery.length?(t(),i("div",wl,[a("div",{class:N(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:ce({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e($e).length&&e(u)>677?(t(),i("div",Sl,[(t(!0),i(K,null,ge(e($e),(C,$)=>(t(),i("div",{key:$,class:N(["am-fcis__gallery-thumb",{"am-one-thumb":e($e).length===1}]),style:ce({backgroundImage:`url(${C.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>re(Oe)?Oe.value=!0:Oe=!0)},{default:O(()=>[ue(n(e(P).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ct,{modelValue:e(Oe),"onUpdate:modelValue":T[4]||(T[4]=C=>re(Oe)?Oe.value=C:Oe=C),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:ce(e(rt))},[a("div",xl,[a("div",Pl,[a("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>re(_)?_.value=e(_)<=0?e(V).gallery.length-1:e(_)-1:_=e(_)<=0?e(V).gallery.length-1:e(_)-1)}),a("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>re(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)})]),(t(!0),i(K,null,ge(e(V).gallery,(C,$)=>(t(),i("div",{key:$,class:"am-gd__display",style:ce({display:$===e(_)?"flex":"none"}),onClick:T[3]||(T[3]=()=>re(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)},[a("img",{src:C.pictureFullPath,alt:$},null,8,Il)],4))),128))]),a("div",El,n(`${e(_)+1}/${e(V).gallery.length}`),1),a("div",Ll,[(t(!0),i(K,null,ge(e(V).gallery,(C,$)=>(t(),i("div",{key:$,class:N(["am-gd__thumb",{"am-active":$===e(_)}]),style:ce({backgroundImage:`url(${C.pictureFullPath})`}),onClick:()=>re(_)?_.value=$:_=$},null,14,Dl))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Me)(e(V).description)||e(j).serviceEmployees.visibility?(t(),i("div",Tl,[a("div",Bl,[e(Me)(e(V).description)&&e(j).serviceDescription.visibility?(t(),i("div",{key:0,class:N(["am-fcis__info-tab",{"am-active":e(ne)==="description"}]),onClick:T[5]||(T[5]=()=>re(ne)?ne.value="description":ne="description")},n(e(P).about_service),3)):r("",!0),e(j).serviceEmployees.visibility&&!e(B).isLite?(t(),i("div",{key:1,class:N([{"am-active":e(ne)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>re(ne)?ne.value="employees":ne="employees")},n(e(P).tab_employees),3)):r("",!0)]),a("div",Fl,[e(Me)(e(V).description)&&e(j).serviceDescription.visibility?St((t(),i("div",zl,[a("div",{class:N(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Al)],512)),[[xt,e(ne)==="description"]]):r("",!0),e(j).serviceEmployees.visibility?St((t(),i("div",Rl,[J($t,null,{default:O(()=>[(t(!0),i(K,null,ge(e(p),C=>(t(),ye(wt,{key:C.id,side:""},{heading:O(()=>[a("div",{class:N([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Ml,[J(nt,{"item-class":"am-fcis__info-employee__img","item-data":C,"trim-string":3},null,8,["item-data"]),a("div",Ol,[a("div",Nl,[ue(n(C.firstName)+" "+n(C.lastName)+" ",1),C.badge?(t(),i("span",{key:0,style:ce({background:C.badge.color}),class:"am-fcis__info-employee__badge"},n(C.badge.content),5)):r("",!0)]),fe(C)&&e(j).serviceEmployeePrice.visibility?(t(),i("div",Vl,n(fe(C)),1)):r("",!0)])])],2)]),default:O(()=>[e(Me)(C.description)?(t(),i("div",{key:0,class:N(["am-fcis__info-employee__description",{"ql-description":C.description.includes("<!-- Content -->")}]),innerHTML:C.description},null,10,Ul)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(ne)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(we).show!=="services"&&e(j).servicePackages.visibility&&!e(Ve)(e(U))?(t(),i("div",Wl,[a("div",jl,[a("span",Hl,n(e(P).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>re(ve)?ve.value=!e(ve):ve=!e(ve))},[e(ve)?(t(),i(K,{key:1},[ue(n(e(P).less_packages),1)],64)):(t(),i(K,{key:0},[ue(n(e(P).more_packages),1)],64))])):r("",!0)]),(t(!0),i(K,null,ge(e(ee),C=>(t(),i("div",{key:C.id,class:"am-fcis__include",onClick:$=>ze(C)},[a("div",Gl,[e(u)>450?(t(),ye(nt,{key:0,"item-class":"am-fcis__include-img","item-data":C,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:N([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:N(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:N(["am-fcis__include-name",{"am-mobile":e(u)<600}])},n(C.name),3),e(j).packagePrice.visibility?(t(),i("div",Jl,[C.discount?(t(),i("span",Yl,n(`${e(P).save} ${C.discount}%`),1)):r("",!0),a("span",Ql,n(C.price?e(Xe)(e(Nt)(C)):e(P).free),1),(e(j).tax?.visibility??!0)&&e(_t)(e(U),C.id,"package")?(t(),i("span",Xl,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[ue(n(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(n(e(P).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",Zl,[e(j).packageCategory.visibility&&e(ke)?(t(),i("div",Kl,[en,a("span",null,n(e(ke).name),1)])):r("",!0),e(j).packageDuration.visibility?(t(),i("div",tn,[an,C.endDate?(t(),i("span",sn,n(`${e(P).expires_at} ${C.endDate.split(" ")[0]}`),1)):C.durationCount?(t(),i("span",ln,n(`${e(P).expires_after} ${C.durationCount} ${Ee(C.durationCount,C.durationType)}`),1)):(t(),i("span",nn,n(e(P).without_expiration),1))])):r("",!0),e(j).packageCapacity.visibility?(t(),i("div",on,un)):r("",!0),e(j).packageLocation.visibility&&e(Te).length?(t(),i("div",dn,[mn,a("span",null,n(e(Te).length===1?e(Te)[0].address?e(Te)[0].address:e(Te)[0].name:e(P).multiple_locations),1)])):r("",!0),e(j).packageServices.visibility?(t(),i("div",pn,[a("span",null,n(`${e(P).in_package}:`),1),(t(!0),i(K,null,ge(C.bookable,$=>(t(),i("span",{key:$.id},n($.service.name),1))),128))])):r("",!0)])],2)])],8,ql))),128))])):r("",!0),J(ct,{modelValue:e(R),"onUpdate:modelValue":T[9]||(T[9]=C=>re(R)?R.value=C:R=C),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Fe),onClosed:le},{default:O(()=>[J(Wt,{"show-cart":e(m),onAddToCart:H,onEmptiedCart:T[8]||(T[8]=C=>re(R)?R.value=!1:R=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ze)?(t(),i("div",_n,[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,vn),a("div",fn,n(e(P).oops),1),a("div",gn,n(e(we).show!=="packages"?e(P).no_services_employees:e(P).no_package_services),1),a("div",yn,[e(we).show!=="packages"?(t(),i("span",hn,n(e(P).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",bn,n(e(P).add_services_url)+"\xA0 ",1),e(we).show!=="packages"?(t(),i("span",kn,n(e(P).and)+"\xA0 ",1)):r("",!0),e(we).show!=="packages"?(t(),i("a",Cn,n(e(P).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Sn={class:"am-fcip__header-text"},xn={class:"am-fcip__header-name"},Pn={key:0,class:"am-fcip__badge am-package"},In=a("span",{class:"am-icon-shipment"},null,-1),En={class:"am-fcip__header-action"},Ln={key:0,class:"am-fcip__header-discount"},Dn={key:1,class:"am-fcip__header-price"},Tn={key:2,class:"am-fcip__header-tax"},Bn={class:"am-fcip__header-btn"},Fn={key:0,class:"am-fcip__header-bottom"},zn={class:"am-fcip__mini-info"},An={key:0,class:"am-fcip__mini-info__inner"},Rn=a("span",{class:"am-icon-folder"},null,-1),Mn={key:1,class:"am-fcip__mini-info__inner"},On=a("span",{class:"am-icon-clock"},null,-1),Nn={key:0},Vn={key:1},Un={key:2},Wn={key:2,class:"am-fcip__mini-info__inner"},jn=a("span",{class:"am-icon-user"},null,-1),Hn=a("span",null,"1/1",-1),qn=[jn,Hn],Gn={key:3,class:"am-fcip__mini-info__inner"},Jn=a("span",{class:"am-icon-locations"},null,-1),Yn={key:0,class:"am-fcip__gallery"},Qn={key:0,class:"am-fcip__gallery-thumb__wrapper"},Xn=a("span",{class:"am-icon-gallery"},null,-1),Zn={class:"am-gd__display-wrapper"},Kn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},eo=["src","alt"],to={class:"am-gd__selection"},ao={class:"am-gd__thumb-wrapper"},io=["onClick"],so={key:1,class:"am-fcip__info"},lo={class:"am-fcip__info-tab__wrapper"},no={class:"am-fcip__info-content__wrapper"},oo={key:0,class:"am-fcip__info-content"},co=["innerHTML"],ro={key:1,class:"am-fcip__info-content"},uo={class:"am-fcip__info-employee"},mo={class:"am-fcip__info-employee__hero"},po={class:"am-fcip__info-employee__name"},_o=["innerHTML"],vo={key:2,class:"am-fcip__include-wrapper"},fo={class:"am-fcip__include-heading"},go={class:"am-fcip__include-heading__text"},yo={class:"am-fcip__include-service"},ho={class:"am-fcip__include-service__info"},bo={key:0},ko=["innerHTML"],Co={class:"am-fcip__include-footer"},$o={class:"am-fcip__include-footer__text"},wo={key:1,ref:"ameliaContainer",class:"am-empty"},So=["src"],xo={class:"am-empty__heading"},Po={class:"am-empty__subheading"},Io={class:"am-empty__text"},Eo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Lo={name:"CategoryPackage"},Do=Object.assign(Lo,{setup(v){let{previousPage:B}=F("changingPageFunctions",{previousPage:()=>{}}),h=S(),x=F("containerWidth");const w=F("settings"),D=F("baseUrls");let u=tt();const s=F("shortcodeData"),d=y(()=>u.getters["entities/getPreselected"]);let b=F("amEntities"),L=F("customizedDataForm"),k=y(()=>L.value.categoryPackage.options),P=y(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),_=F("itemType"),U=F("categorySelected"),te=y(()=>b.value.categories.find(Y=>Y.id===U.value)),E=y(()=>b.value.packages.find(Y=>Y.id===u.getters["booking/getPackageId"])),z=S(0),c=S("description"),j=y(()=>ta(b.value,E.value,s.value)),oe=y(()=>At(b.value,E.value,s.value)),Q=S(d.value.employee.length>0?b.value.unfilteredEmployees.filter(Y=>d.value.employee.map(W=>parseInt(W)).includes(Y.id)):b.value.unfilteredEmployees);function pe(Y){let W=[];return Y.providers.length?Y.providers.forEach(A=>{Q.value.find(le=>le.id===parseInt(A.id))&&W.push(Q.value.find(le=>le.id===parseInt(A.id)))}):W=Q.value.filter(A=>A.serviceList.find(le=>le.id===Y.service.id)),W}Re(()=>{k.value.packageDescription.visibility||(c.value="employees"),Me(E.value.description)||(c.value="employees")});let ke=S(!1);Mt(()=>{ke.value=u.getters["entities/getEmployees"].length===0||j.value.length===0});let V=S(!1),he=y(()=>{let Y=E.value.gallery.length?JSON.parse(JSON.stringify(E.value.gallery)):[];return E.value.gallery.length===1?[]:(Y.shift(),Y.length>2&&Y.splice(2,Y.length-2),Y)});function ne(){_.value="",Ie(()=>{B()})}let p=S(!1),fe=S("760px");se("bookingDialogWidth",fe);function $e(){u.commit("booking/setPackageId",E.value.id),u.commit("booking/setMultipleAppointments",Pt(0,E.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),Ie(()=>{p.value=!0})}F("restoreFormData").value&&$e();let ve=S("");se("stepName",ve);function ee(){let Y=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),W=Y.settings?JSON.parse(Y.settings):w;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:w.general.redirectUrlAfterAppointment?window.location.href=w.general.redirectUrlAfterAppointment:window.location.reload()}function Te(){ve.value&&ve.value==="CongratulationsStep"?ee():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),fe.value="760px"}let Be=F("amFonts");const m=F("labels"),Z=F("localLanguage");let H=y(()=>w.general.usedLanguages.includes(Z.value)),R=y(()=>{let Y=at({...m});if(w.customizedData&&w.customizedData.cbf&&w.customizedData.cbf.categoryPackage.translations){let W=w.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(A=>{W[A][Z.value]&&H.value?Y[A]=W[A][Z.value]:W[A].default&&(Y[A]=W[A].default)})}return Y});function Fe(Y){return Y.length===1||Y.length&&Y.every(W=>W.id===Y[0].id)?Y[0].address?Y[0].address:Y[0].name:R.value.multiple_locations}function de(Y,W){let A="";return Y>1?(W==="day"&&(A=R.value.expires_days),W==="week"&&(A=R.value.expires_weeks),W==="month"&&(A=R.value.expires_months)):(W==="day"&&(A=R.value.expires_day),W==="week"&&(A=R.value.expires_week),W==="month"&&(A=R.value.expires_month)),A}let Ce=F("amColors"),ze=y(()=>({"--am-c-fcip-success-op20":ae(Ce.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(Ce.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(Ce.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(Ce.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(Ce.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(Ce.value.colorBtnSec,.5)})),we=y(()=>({"--am-c-fcip-bgr":Ce.value.colorMainBgr,"--am-c-fcip-text":Ce.value.colorMainText,"--am-c-fcip-success":Ce.value.colorSuccess,"--am-c-fcip-primary":Ce.value.colorPrimary,"--am-c-scroll-op30":ae(Ce.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Ce.value.colorPrimary,.1),"--am-font-family":Be.fontFamily}));return(Y,W)=>(t(),i(K,null,[e(ke)?r("",!0):(t(),ye(Ut,{key:0,ref_key:"contentRef",ref:h,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(P)?"":"no-scroll"}`,style:ce(e(ze))},Ot({heading:O(()=>[a("div",{class:N([[{"am-tablet":e(x)<=678},{"am-mobile":e(x)<450}],"am-fcip__header-top"])},[a("div",Sn,[a("span",xn,[a("span",null,n(e(E).name),1)]),e(k).packageBadge.visibility?(t(),i("div",Pn,[In,a("span",null,n(e(R).package),1)])):r("",!0)]),a("div",En,[e(E).discount&&e(k).packagePrice.visibility?(t(),i("span",Ln,n(`${e(R).save} ${e(E).discount}%`),1)):r("",!0),e(k).packagePrice.visibility?(t(),i("span",Dn,n(e(E).price?e(Xe)(e(Nt)(e(E))):e(R).free),1)):r("",!0),e(E).price&&(e(k).tax?.visibility??!0)&&e(_t)(e(u),e(E).id,"package")?(t(),i("span",Tn,[e(w).payments.taxes.excluded?(t(),i(K,{key:0},[ue(n(`+${e(R).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[ue(n(e(R).incl_tax),1)],64))])):r("",!0),a("span",Bn,[J(Ae,{type:e(k).bookingBtn.buttonType,onClick:$e},{default:O(()=>[ue(n(e(R).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(d).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(oe).length?(t(),i("div",Fn,[a("div",zn,[e(d).package.length!==1&&e(k).packageCategory.visibility&&e(te)?(t(),i("div",An,[Rn,a("span",null,n(e(te).name),1)])):r("",!0),e(k).packageDuration.visibility?(t(),i("div",Mn,[On,e(E).endDate?(t(),i("span",Nn,n(`${e(R).expires_at} ${e(E).endDate.split(" ")[0]}`),1)):e(E).durationCount?(t(),i("span",Vn,n(`${e(R).expires_after} ${e(E).durationCount} ${de(e(E).durationCount,e(E).durationType)}`),1)):(t(),i("span",Un,n(e(R).without_expiration),1))])):r("",!0),e(k).packageCapacity.visibility?(t(),i("div",Wn,qn)):r("",!0),e(oe).length&&e(k).packageLocation.visibility?(t(),i("div",Gn,[Jn,a("span",null,n(Fe(e(oe))),1)])):r("",!0)])])):r("",!0)]),content:O(()=>[e(E).gallery.length?(t(),i("div",Yn,[a("div",{class:N(["am-fcip__gallery-hero",[{w100:e(E).gallery.length===1},{"am-mobile w100":e(x)<678}]]),style:ce({backgroundImage:`url(${e(E).gallery[0].pictureFullPath})`})},null,6),e(he).length&&e(x)>677?(t(),i("div",Qn,[(t(!0),i(K,null,ge(e(he),(A,le)=>(t(),i("div",{key:le,class:N(["am-fcip__gallery-thumb",{"am-one-thumb":e(he).length===1}]),style:ce({backgroundImage:`url(${A.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcip__gallery-btn${e(x)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>re(V)?V.value=!0:V=!0)},{default:O(()=>[Xn,a("span",null,n(e(R).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ct,{modelValue:e(V),"onUpdate:modelValue":W[4]||(W[4]=A=>re(V)?V.value=A:V=A),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:ce(e(we))},[a("div",Zn,[a("div",Kn,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>re(z)?z.value=e(z)<=0?e(E).gallery.length-1:e(z)-1:z=e(z)<=0?e(E).gallery.length-1:e(z)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>re(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)})]),(t(!0),i(K,null,ge(e(E).gallery,(A,le)=>(t(),i("div",{key:le,class:"am-gd__display",style:ce({display:le===e(z)?"flex":"none"}),onClick:W[3]||(W[3]=()=>re(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)},[a("img",{src:A.pictureFullPath,alt:le},null,8,eo)],4))),128))]),a("div",to,n(`${e(z)+1}/${e(E).gallery.length}`),1),a("div",ao,[(t(!0),i(K,null,ge(e(E).gallery,(A,le)=>(t(),i("div",{key:le,class:N(["am-gd__thumb",{"am-active":le===e(z)}]),style:ce({backgroundImage:`url(${A.pictureFullPath})`}),onClick:()=>re(z)?z.value=le:z=le},null,14,io))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Me)(e(E).description)||e(k).packageEmployees.visibility?(t(),i("div",so,[a("div",lo,[e(Me)(e(E).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:N(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>re(c)?c.value="description":c="description")},n(e(R).about_package),3)):r("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:N([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>re(c)?c.value="employees":c="employees")},n(e(R).tab_employees),3)):r("",!0)]),a("div",no,[e(Me)(e(E).description)&&e(k).packageDescription.visibility?St((t(),i("div",oo,[a("div",{class:N(["am-fcip__info-service__desc",{"ql-description":e(E).description.includes("<!-- Content -->")}]),innerHTML:e(E).description},null,10,co)],512)),[[xt,e(c)==="description"]]):r("",!0),e(k).packageEmployees.visibility?St((t(),i("div",ro,[J($t,null,{default:O(()=>[(t(!0),i(K,null,ge(e(j),A=>(t(),ye(wt,{key:A.id,side:""},{heading:O(()=>[a("div",uo,[a("div",mo,[J(nt,{"item-class":"am-fcip__info-employee__img","item-data":A,"trim-string":3},null,8,["item-data"]),a("div",po,[ue(n(A.firstName)+" "+n(A.lastName)+" ",1),A.badge?(t(),i("span",{key:0,style:ce({background:A.badge.color}),class:"am-fcip__info-employee__badge"},n(A.badge.content),5)):r("",!0)])])])]),default:O(()=>[e(Me)(A.description)?(t(),i("div",{key:0,class:N(["am-fcip__info-employee__description",{"ql-description":A.description.includes("<!-- Content -->")}]),innerHTML:A.description},null,10,_o)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(k).packageServices.visibility?(t(),i("div",vo,[a("div",fo,[a("span",go,n(`${e(R).package_includes}:`),1)]),J($t,null,{default:O(()=>[(t(!0),i(K,null,ge(e(E).bookable,A=>(t(),ye(wt,{key:A.id,side:!0},{heading:O(()=>[a("div",yo,[J(nt,{"item-class":"am-fcip__include-service__img","item-data":A.service},null,8,["item-data"]),ue(" "+n(A.service.name+(e(E).sharedCapacity?"":" x"+A.quantity)),1)])]),default:O(()=>[a("div",ho,[a("span",null,n(`${e(R).tab_employees}:`),1),(t(!0),i(K,null,ge(pe(A).slice(0,6),le=>(t(),ye(nt,{key:le.id,"item-class":"am-fcip__include-service__info-name","item-data":le,"trim-string":3},null,8,["item-data"]))),128)),pe(A).length>6?(t(),i("span",bo," + "+n(pe(A).length-6),1)):r("",!0),e(Me)(A.service.description)?(t(),i("div",{key:1,class:N(["am-fcip__include-service__info-description",{"ql-description":A.service.description.includes("<!-- Content -->")}]),innerHTML:A.service.description},null,10,ko)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Co,[a("span",$o,n(e(R).package_book_service),1)])])):r("",!0),J(ct,{modelValue:e(p),"onUpdate:modelValue":W[7]||(W[7]=A=>re(p)?p.value=A:p=A),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(fe),onClosed:Te},{default:O(()=>[J(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:O(()=>[J(Vt,{"btn-string":e(R).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:ne},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ke)?(t(),i("div",wo,[a("img",{src:e(D).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,So),a("div",xo,n(e(R).oops),1),a("div",Po,n(e(R).no_package_services),1),a("div",Io,[a("a",Eo,n(e(R).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const To={name:"CatalogSkeleton"},Bo=Object.assign(To,{setup(v){let B=S(null),h=S(0);window.addEventListener("resize",x);function x(){B.value&&(h.value=B.value.offsetWidth)}Re(()=>{B.value&&(h.value=B.value.offsetWidth)});let w=y(()=>h.value<=500?"am-w100":h.value<=600?"am-w50":h.value<=768?"am-w33":"");return(D,u)=>{const s=Na,d=Oa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:B,class:"am-skeleton-catalog__wrapper"},[J(d,{animated:"",class:"am-skeleton-catalog"},{template:O(()=>[(t(!0),i(K,null,ge(new Array(8),b=>(t(),i("div",{key:b,class:N(["am-skeleton-catalog__item",e(w)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Fo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),zo=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ao=["href"],Ro={name:"CatalogFormWrapper"},Mo=Object.assign(Ro,{emits:["isRestored"],setup(v,{emit:B}){let h=F("isMounted"),x=F("licence"),w=S(null),D=S(20);const u=F("baseUrls");let s=S(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){w.value&&(s.value=w.value.offsetWidth)}Re(()=>{P.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),pt(P,{},"ViewContent","appointment",null,null),d(),h.value=!0,Yt("scrollForm",{offsetFromTop:D})});let b=S(!1);const L=F("settings"),k=F("shortcodeData"),P=tt();P.commit("entities/setPreselected",k.value),P.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:x,loadEntities:k.value.hasApiCall,showHidden:!1,isPanel:!1});const _=Pe(wi),U=Pe(ll),te=Pe(wn),E=Pe(Do);let z=S([_,U]),c=S(0),j=S(null);se("categorySelected",j);let oe=S([]);se("availableCategories",oe);let Q=S("");se("itemType",Q),Ct(Q,()=>{Q.value==="appointment"&&z.value.push(te),Q.value==="package"&&z.value.push(E),Q.value===""&&z.value.forEach((Z,H)=>{Z.name==="CategoryService"&&pe(z.value,H),Z.name==="CategoryPackage"&&pe(z.value,H)})});function pe(Z,H){Z.splice(H,1)}function ke(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V(){if(c.value=c.value+1,ke())setTimeout(()=>{let Z=w.value.getBoundingClientRect().top+window.pageYOffset-D.value;window.scrollTo({top:Z,behavior:"smooth"})},500);else{let Z=w.value.getBoundingClientRect().top+window.pageYOffset-D.value;window.scrollTo({top:Z,behavior:"smooth"})}}function he(){c.value=c.value-1}se("changingPageFunctions",{nextPage:V,previousPage:he});let ne=y(()=>P.getters["entities/getReady"]),p=y(()=>P.state.entities);se("amEntities",p);function fe(){let Z=P.getters["entities/getPreselected"];if(Z.category.length!==1&&(k.value.categories_hidden&&(oe.value=JSON.parse(JSON.stringify(bt(p.value,k.value))),Ie(()=>{let H=z.value.findIndex(R=>R.name==="CategoriesList");z.value.splice(H,1)})),k.value.categories_hidden||(oe.value=JSON.parse(JSON.stringify(bt(p.value,k.value))),Ie(()=>{if(oe.value.length===1){P.commit("booking/setCategoryId",parseInt(oe.value[0].id)),j.value=parseInt(oe.value[0].id);let H=z.value.findIndex(R=>R.name==="CategoriesList");z.value.splice(H,1)}}))),Z.category.length===1&&(P.commit("booking/setCategoryId",parseInt(Z.category)),j.value=parseInt(Z.category[0]),oe.value=JSON.parse(JSON.stringify(bt(p.value,k.value).filter(H=>H.id===parseInt(Z.category[0])))),Ie(()=>{let H=z.value.findIndex(R=>R.name==="CategoriesList");z.value.splice(H,1)})),Z.service.length===1){P.commit("booking/setServiceId",parseInt(Z.service[0]));let H=P.getters["entities/getService"](parseInt(Z.service[0]));j.value=H?parseInt(H.categoryId):null,P.commit("booking/setCategoryId",H?parseInt(H.categoryId):null),Ie(()=>{z.value=[],z.value.push(te)})}Z.employee.length===1&&P.commit("booking/setEmployeeId",parseInt(Z.employee[0])),Z.location.length===1&&P.commit("booking/setLocationId",parseInt(Z.location[0])),Z.package.length===1&&P.getters["entities/getPackages"].length&&(z.value=[],P.commit("booking/setPackageId",parseInt(Z.package[0])),Ie(()=>{z.value.push(E)})),Z.show==="packages"?P.commit("booking/setBookableType","package"):P.commit("booking/setBookableType","appointment")}let $e=y(()=>ne.value?Ua(P,k.value):null);se("restoreFormData",$e),Ct(ne,Z=>{Z&&(fe(),b.value=P.getters["entities/getServices"].length===0||P.getters["entities/getEmployees"].length===0,$e.value&&(Q.value=P.state.booking.appointment.type,Ie(()=>{c.value=z.value.length-1,j.value=P.state.booking.appointment.categoryId,B("isRestored",$e.value)})))});let _e=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf:lt.cbf);se("customizedDataForm",_e);const ve=S(L.customizedData?L.customizedData.fonts:lt.fonts);se("amFonts",ve);let ee=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf.colors:lt.cbf.colors);se("amColors",ee);let Te=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Be(){let Z=document.head||document.getElementsByTagName("head")[0];Z.querySelector("#amCustomFont")&&Z.querySelector("#amCustomFont").remove();let H=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,R=document.createElement("style");Z.appendChild(R),R.setAttribute("type","text/css"),R.setAttribute("id","amCustomFont"),R.appendChild(document.createTextNode(H))}ve.value.customFontSelected&&Be();let m=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",m),(Z,H)=>(t(),i(K,null,[ve.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Fo,zo,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ao)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:w,class:"am-fc__wrapper",style:ce(e(Te))},[e(ne)&&e(z).length?(t(),ye(Qt(e(z)[e(c)]),{key:0})):(t(),ye(Bo,{key:1}))],4),J(e(Va))],64))}});var No=Object.freeze(Object.defineProperty({__proto__:null,default:Mo},Symbol.toStringTag,{value:"Module"}));export{No as C,ei as _,Vt as a,nt as b,Ut as c,Mo as d};
