import{d as qt,_ as $t,u as at,o as t,c as i,a,b as e,e as he,w as I,f as ue,t as l,g as la,h as ze,i as c,j as M,k as Mt,l as w,m as p,n as K,F as H,r as ge,p as D,q as oe,s as g,v as xe,x as Fe,y as kt,z as Gt,A as _t,B as oa,I as na,C as mt,D as ee,E as ot,G as wt,H as Se,J as ca,K as ra,L as ua,M as ma,N as da,O as pa,P as _a,Q as va,R as fa,S as ga,T as ya,U as ha,V as ba,W as ka,X as Je,Y as Ft,Z as Ca,$ as Pt,a0 as Ot,a1 as ut,a2 as Jt,a3 as $a,a4 as wa,a5 as Sa,a6 as Yt,a7 as Ue,a8 as Ye,a9 as xa,aa as Ia,ab as re,ac as Da,ad as Ut,ae as Pa,af as Qt,ag as Ta,ah as La,ai as Xt,aj as Ba,ak as Ct,al as Ea,am as At,an as St,ao as rt,ap as Nt,aq as dt,ar as Wt,as as pt,at as Vt,au as nt,av as Zt,aw as Kt,ax as tt,ay as xt,az as Ve,aA as ea,aB as It,aC as Dt,aD as za,aE as Fa,aF as Aa,aG as Na,aH as Va,aI as Ma}from"./stepForm.3a26f058.js";const Oa={class:"am-cat__header-inner"},Ua={class:"am-cat__back-btn"},Wa={key:0,class:"am-cat__cart-btn"},Ra={class:"am-cat__cart-number"},Ha={name:"MainHeader"},Rt=Object.assign(Ha,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(ye,{emit:Y}){const z=ye;let te=qt({components:{IconComponent:$t},template:'<IconComponent icon="arrow-left"></IconComponent>'}),O=qt({components:{IconComponent:$t},template:'<IconComponent icon="cart"/>'});function ve(){Y("goBack")}const E=at();function d(){Mt(E),Y("goToCart")}return(V,le)=>(t(),i("div",Oa,[a("div",Ua,[e(z).backBtnVisibility?(t(),he(ze,{key:0,prefix:e(te),category:"secondary",type:ye.btnType,size:ye.btnSize,onClick:ve,onKeydown:la(ve,["enter"])},{default:I(()=>[ue(l(e(z).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(z).cartBtnVisibility?(t(),i("div",Wa,[a("span",Ra,l(e(z).cartItemsNumber),1),M(ze,{"aria-label":"Go to cart button",category:"secondary",type:ye.btnType,size:ye.btnSize,round:!0,"icon-only":!0,icon:e(O),onClick:d},null,8,["type","size","icon"])])):c("",!0)]))}});const ja={class:"am-cat__sidemenu-item__wrapper"},qa=["onClick"],Ga={key:0,class:"am-cat__sidemenu-footer"},Ja={class:"am-cat__sidemenu-footer__text"},Ya=["href"],Qa={name:"SideMenu"},Xa=Object.assign(Qa,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(ye,{emit:Y}){const z=ye;function te(E){Y("click",E)}let O=w("amColors"),ve=p(()=>({"--am-c-csm-text-op10":K(O.value.colorSbText,.1),"--am-c-csm-primary-op10":K(O.value.colorPrimary,.1),"--am-c-csm-text-op60":K(O.value.colorSbText,.6),"--am-c-csm-text-op80":K(O.value.colorSbText,.8)}));return(E,d)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:oe(e(ve))},[a("div",ja,[(t(!0),i(H,null,ge(ye.menuItems,(V,le)=>(t(),i("div",{key:le,class:D(["am-cat__sidemenu-item",{"am-active":e(z).initSelection===V[e(z).identifier]}]),onClick:()=>te(V)},l(V[e(z).nameIdentifier]),11,qa))),128))]),e(z).companyEmail?(t(),i("div",Ga,[a("span",Ja,l(e(z).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(z).companyEmail}`},l(e(z).companyEmail),9,Ya)])):c("",!0)],4))}});const Za={name:"MainContent"},Ht=Object.assign(Za,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(ye,{expose:Y}){let z=g(null),te=g(0),O=g(null),ve=g(0),E=g(null),d=g(0),V=g(null),le=g(null),x=g(0);window.addEventListener("resize",G);function G(){xe(()=>{z.value&&(te.value=z.value.offsetWidth),O.value&&(ve.value=O.value.offsetWidth),E.value&&(d.value=E.value.offsetWidth)})}Fe(()=>{xe(()=>{if(E.value&&V.value){let P=E.value.offsetHeight-V.value.offsetHeight-2;x.value=P<=656?656:P}G()})}),Y({catHeaderWidth:te,catFormWidth:d,catContainerWidth:ve});let v=w("amColors"),m=p(()=>({"--am-h-cat-content":`${x.value}px`,"--am-c-scroll-op30":K(v.value.colorPrimary,.3),"--am-c-scroll-op10":K(v.value.colorPrimary,.1)}));return(P,L)=>(t(),i("div",{class:D(["am-cat__wrapper",ye.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:z,class:"am-cat__header"},[kt(P.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:O,class:"am-cat__main"},[kt(P.$slots,"side"),a("div",{ref_key:"catForm",ref:E,class:D(["am-cat__form",ye.formClass]),style:oe(e(m))},[a("div",{ref_key:"catHeading",ref:V,class:D(["am-cat__heading",ye.headingClass])},[kt(P.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:le,class:D(["am-cat__content",ye.contentClass])},[kt(P.$slots,"content")],2)],6)],512)],2))}}),Ka={name:"AmImagePlaceholder"},ct=Object.assign(Ka,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(ye){const Y=ye;function z(O){return O.pictureFullPath?{backgroundImage:`url(${O.pictureFullPath})`}:{backgroundColor:`${Gt.value[Math.floor(Math.random()*Gt.value.length)]}`}}function te(O){return O.pictureFullPath?"":("firstName"in O?`${O.firstName} ${O.lastName}`:O.name).split(" ").map(E=>E.charAt(0)).join("").toUpperCase().substring(0,Y.trimString).replace(/[^\w\s]/g,"")}return(O,ve)=>(t(),i("span",{class:D(e(Y).itemClass),style:oe({...z(e(Y).itemData)})},l(te(e(Y).itemData)),7))}});const ei={class:"am-fcl__item-inner"},ti={class:"am-fcl__item-name"},ai={class:"am-fcl__item-segments"},ii={key:0,class:"am-fcl__item-segments__item"},si=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),li={class:"am-fcl__item-segments__item-count"},oi={key:1,class:"am-fcl__item-segments__item"},ni=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),ci={class:"am-fcl__item-segments__item-count"},ri={class:"am-fcl__item-footer"},ui=["src","alt"],mi={class:"am-empty__heading"},di={class:"am-empty__subheading"},pi={class:"am-empty__text"},_i={key:0},vi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},fi={key:1},gi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},yi={name:"CategoriesList",key:"categoriesList"},hi=Object.assign(yi,{setup(ye){const Y=w("baseUrls");let z=g(null),te=g(0);window.addEventListener("resize",O);function O(){z.value&&(te.value=z.value.offsetWidth)}Fe(()=>{z.value&&(te.value=z.value.offsetWidth)});let ve=p(()=>te.value<=500?"am-w100":te.value<=600?"am-w50":te.value<=768?"am-w33":""),{nextPage:E}=w("changingPageFunctions",{nextPage:()=>{}});const d=w("settings");let V=at(),le=w("amEntities"),x=w("customizedDataForm"),G=p(()=>x.value.categoriesList.options);const v=w("shortcodeData"),m=p(()=>V.getters["entities/getPreselected"]);let P=w("availableCategories"),L=p(()=>P.value),j=w("categorySelected");function de(fe){j.value=fe,V.commit("booking/setCategoryId",parseInt(fe)),mt(V,{},"SelectCategory","appointment",null,null),E()}let o=p(()=>L.value.length===0);const h=w("labels"),se=w("localLanguage");let J=p(()=>d.general.usedLanguages.includes(se.value)),ne=p(()=>{let fe=_t({...h});if(d.customizedData&&d.customizedData.cbf&&d.customizedData.cbf.categoriesList.translations){let X=d.customizedData.cbf.categoriesList.translations;Object.keys(X).forEach(Q=>{X[Q][se.value]&&J.value?fe[Q]=X[Q][se.value]:X[Q].default&&(fe[Q]=X[Q].default)})}return fe}),ke=w("amColors"),T=p(()=>({"--am-c-fcl-card-text-op80":K(ke.value.colorCardText,.8)}));return(fe,X)=>e(o)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:z,class:"am-empty"},[a("img",{src:e(Y).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(m).show!=="packages"?e(ne).no_services_employees:e(ne).no_package_services},null,8,ui),a("div",mi,l(e(ne).oops),1),a("div",di,l(e(m).show!=="packages"?e(ne).no_services_employees:e(ne).no_package_services),1),a("div",pi,[e(m).show!=="packages"?(t(),i("span",_i,l(e(ne).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",vi,l(e(ne).add_services_url)+"\xA0 ",1),e(m).show!=="packages"?(t(),i("span",fi,l(e(ne).and)+"\xA0 ",1)):c("",!0),e(m).show!=="packages"?(t(),i("a",gi,l(e(ne).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:z,class:"am-fcl",role:"main",style:oe(e(T))},[(t(!0),i(H,null,ge(e(L),Q=>(t(),i("div",{key:Q.id,class:D(["am-fcl__item",e(ve)]),role:"group"},[a("div",ei,[a("div",{class:"am-fcl__item-content",style:oe(e(G).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:Q.color}:{})},[a("div",{class:"am-fcl__item-heading",style:oe(e(G).cardColor&&e(G).cardColor.visibility?{backgroundColor:e(K)(Q.color,.1)}:{})},[Q.pictureFullPath?(t(),i("div",{key:0,style:oe({backgroundImage:`url(${Q.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",ti,l(Q.name),1),a("div",ai,[(!e(m).show||e(m).show==="services")&&e(G).services.visibility?(t(),i("div",ii,[si,a("span",li,l(e(oa)(e(v),Q,e(le)).length),1)])):c("",!0),(!e(m).show||e(m).show==="packages")&&Q.packageList.length&&e(G).packages.visibility?(t(),i("div",oi,[ni,a("span",ci,l(Q.packageList.length),1)])):c("",!0)])],4),a("div",ri,[M(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(G).cardButton.buttonType,suffix:e(na),onClick:Te=>de(Q.id)},{default:I(()=>[ue(l(e(ne).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const bi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),ki=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ci=["href"],$i={class:"am-fs-sb__step-wrapper",tabindex:"0"},wi={class:"am-fs-sb__step-inner"},Si={class:"am-fs-sb__step-icon"},xi={key:0,class:"am-icon-check"},Ii={key:0},Di={key:1},Pi={key:1},Ti={key:0,class:"am-fs-sb__step"},Li={class:"am-fs-sb__step-inner"},Bi={class:"am-fs-sb__step-icon"},Ei={key:0,class:"am-icon-check"},zi={key:0,class:"am-fs-sb__support"},Fi=["aria-label","href"],Ai={key:1,class:"am-icon-phone"},Ni=["aria-label","href"],Vi={key:1,class:"am-icon-email"},Mi={key:0,class:"am-fs-sb__menu-text"},Oi={key:2,class:"am-no-services"},Ui=["src","alt"],Wi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ri={style:{"font-size":"14px"}},Hi={href:"https://wpamelia.com/employees/",rel:"nofollow"},ji={name:"CategoryBooking"},jt=Object.assign(ji,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(ye,{emit:Y}){const z=ye;let te=g(null),O=g();ee("containerWidth",O);let ve=g(!1);window.addEventListener("resize",E);function E(){te.value&&(O.value=te.value.offsetWidth)}Fe(()=>{xe(()=>{te.value&&(O.value=te.value.offsetWidth)}),mt(o,{containerWidth:O},"ContainerWidth","appointment",null,null)});const d=w("settings"),V=d.customizedData&&d.customizedData.sbsNew?d.customizedData.sbsNew:ot.sbsNew;V&&ee("amCustomize",V);let le=p(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in V.sidebar.options&&(n.heading=V.sidebar.options.supportHeading.visibility),"companyPhone"in V.sidebar.options&&(n.phone=V.sidebar.options.companyPhone.visibility),"companyEmail"in V.sidebar.options&&(n.email=V.sidebar.options.companyEmail.visibility),n});const x=g(d.customizedData?d.customizedData.fonts:ot.fonts);ee("amFonts",x);let G=g(!1);ee("sidebarCollapsed",G);let v=g(""),m=w("bookingDialogWidth");wt(G,n=>{n?setTimeout(()=>{v.value="am-collapsed",setTimeout(()=>{m.value="592px"},200)},1e3):(v.value="",m.value="760px")}),Fe(()=>{V.sidebar.options.self.visibility||(m.value="520px")});let P=g(null),L=g(0);Fe(()=>{setTimeout(()=>{xe(()=>{P.value&&setTimeout(()=>{P.value&&(L.value=P.value.offsetHeight)},200)})},800)});let j=g(V.sidebar?V.sidebar.options.self.visibility:!0);const de=w("baseUrls"),o=at();let h=p(()=>{let n=o.getters["entities/getOriginalPreselected"],y={category:o.state.booking.appointment.categoryId?[o.state.booking.appointment.categoryId]:[],counter:o.state.entities.preselected.counter,employee:o.state.booking.appointment.providerId?[o.state.booking.appointment.providerId]:[],hasApiCall:o.state.entities.preselected.hasApiCall,location:o.state.booking.appointment.locationId?[o.state.booking.appointment.locationId]:[],service:o.state.booking.appointment.serviceId?[o.state.booking.appointment.serviceId]:[],package:o.state.booking.packageId?[o.state.booking.packageId]:[],show:o.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(b=>{b in y||(y[b]=n[b])}),y});o.commit("entities/setPreselected",h.value);let se=w("restoreFormData");const J=Se(ca),ne=Se(ra),ke=Se(ua),T=Se(ma),fe=Se(da),X=Se(pa),Q=Se(_a),Te=Se(va),pe=Se(fa),R=Se(ga),Ce=Se(ya),Me=Se(ha),k=Se(ba),F=Se(ka),r=g(Je(o)?[J,X,R,Ce,pe]:[J,X,Ce,pe]);ee("stepsArray",r);const ce=w("labels"),Ee=w("localLanguage");let me=p(()=>d.general.usedLanguages.includes(Ee.value)),We=Ft(o),A=p(()=>{let n=_t({...ce});return d.customizedData&&d.customizedData.sbsNew&&Object.keys(d.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&d.customizedData.sbsNew[y].translations){let b=d.customizedData.sbsNew[y].translations;Object.keys(b).forEach(q=>{b[q][Ee.value]&&me.value?n[q]=b[q][Ee.value]:b[q].default&&(n[q]=b[q].default)})}}),n});ee("amLabels",A);let Ae=p(()=>{let n={};if(d.customizedData&&d.customizedData.sbsNew){let y=d.customizedData.sbsNew[r.value[_.value].key]?d.customizedData.sbsNew[r.value[_.value].key].translations:null;d.customizedData&&y&&Object.keys(y).forEach(b=>{y[b][Ee.value]&&me.value?n[b]=y[b][Ee.value]:y[b].default&&(n[b]=y[b].default)})}return Object.keys(n).length?n:ce}),Re=p(()=>{let n="filled";return d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew[r.value[_.value].key]&&(n=d.customizedData.sbsNew[r.value[_.value].key].options.primaryFooterButton.buttonType),n});ee("primFooterBtnType",Re),ee("primDescBtnType",Re);let Z=p(()=>{let n="text";return d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew[r.value[_.value].key]&&d.customizedData.sbsNew[r.value[_.value].key].options.secondaryFooterButton&&(n=d.customizedData.sbsNew[r.value[_.value].key].options.secondaryFooterButton.buttonType),n}),Ne=p(()=>d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew.cartStep?d.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Ie=p(()=>d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew.cartStep?d.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function U(n,y){let b="";if(d.customizedData&&d.customizedData.sbsNew){let q=d.customizedData.sbsNew[y]?d.customizedData.sbsNew[y].translations:null;d.customizedData&&q&&q[n]&&(b===""&&q[n][Ee.value]&&me.value?b=q[n][Ee.value]:b===""&&q[n].default&&(b=q[n].default))}return b||ce[n]}let B=p(()=>Ca(o.getters["entities/getEmployeeServices"](o.getters["booking/getSelection"])));function $(){let n=o.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(r.value.splice(0,1),ae.value.splice(0,1),we()),u();else{f();let y=o.getters["entities/filteredEmployees"](o.getters["booking/getSelection"]).length<=1,b=!V.initStep.options.employee.visibility,q=o.getters["entities/filteredLocations"](o.getters["booking/getSelection"]).length<=1,Be=!V.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||y||b)&&(n.location.length>0||q||Be)&&(B.value.availability?(r.value.splice(0,1,F),ae.value.splice(0,1)):(r.value.splice(0,1),ae.value.splice(0,1)),u())}}function W(n,y,b,q){n.value.map((Ge,sa)=>y.includes(Ge.name)?sa:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{n.value.splice(Ge,1)});let lt={value:q};b.forEach(Ge=>{n.value.indexOf(Ge)===-1&&(o.getters["entities/getPreselected"].show==="packages"&&o.getters["entities/getPreselected"].package.length>0?n.value.splice(lt.value,0,Ge):n.value.splice(lt.value+1,0,Ge))})}ee("goToPackageStep",{goToPackageStep:Le});function Le(n){o.commit("booking/setPackageId",n.id),o.commit("booking/setBookableType","package"),o.commit("booking/setMultipleAppointments",Pt(0,n)),o.commit("booking/setMultipleAppointmentsIndex",0);let y=n.bookable.reduce((Be,lt)=>Be+lt.maximumScheduled,0),b=[],q=[];r.value[0]!==ne&&b.push("ExtrasStep"),r.value[0]!==X&&b.push("DateTimeStep"),r.value[0]!==R&&b.push("CartStep"),y>0?q=q.concat([Te,Q,ke]):q.push(ke),W(r,b,q,_.value),W(ae,b,[],_.value),u(),Oe()}function we(){let y=o.state.entities.packages.find(Be=>Be.id===o.getters["booking/getPackageId"]).bookable.reduce((Be,lt)=>Be+lt.maximumScheduled,0),b=[],q=[];r.value.find(Be=>Be.name==="ExtrasStep")&&b.push("ExtrasStep"),r.value.find(Be=>Be.name==="DateTimeStep")&&b.push("DateTimeStep"),y>0?q=q.concat([Te,Q,ke]):q.push(ke),W(r,b,q,_.value),W(ae,b,[],_.value),u(),Oe()}function qe(){o.commit("booking/setBookableType","appointment"),o.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),o.commit("booking/setPackageId",null),o.commit("booking/setMultipleAppointmentsIndex",0),ut(o);let n=[];r.value[0]!==X&&(Je(o)&&n.push(R),n.push(X)),r.value[0]!==ne&&S.value&&S.value.length&&n.push(ne),W(r,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,_.value-1),W(ae,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],_.value),u()}ee("goToRecurringStep",{goToRecurringStep:De}),ee("removeRecurringStep",{removeRecurringStep:N});function De(){Je(o)&&Xe();let n=0;for(let y=0;y<r.value.length;y++)if(r.value[y].name==="DateTimeStep"){n=y;break}r.value.splice(n+1,0,T),r.value.splice(n+2,0,fe),u(),Oe()}function N(){for(let n=r.value.length-1;n>=0;n--)(r.value[n].name==="RecurringStep"||r.value[n].name==="RecurringSummary")&&r.value.splice(n+1,1);Je(o)&&Pe(_.value),u()}let S=p(()=>{let n=o.getters["entities/getService"](o.getters["booking/getServiceId"]);return n?n.extras:[]});function f(){S.value.length&&!r.value.find(n=>n.name==="ExtrasStep")&&(r.value.splice(_.value+1,0,ne),u()),ae.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(S.value).length&&(r.value.splice(1,1),ae.value.splice(1,1)),z.showCart||ut(o)}ee("initDataChanges",{changeInitStepDataService:f});const _=g(0);ee("stepIndex",_);let vt=w("stepName",g(""));wt(_,(n,y)=>{n<ae.value.length&&(ae.value[y].selected=!1,ae.value[n].selected=!0),n===ae.value.length&&(ae.value[y].selected=!1),vt.value=r.value[n].name});let ft=g(!1);ee("goBackToPackageBooking",ft);function Tt(){ht(!1),$e.value||(r.value[_.value].name===ke.name&&qe(),r.value[_.value].name===T.name&&(r.value.splice(_.value,2),ae.value.splice(_.value,2),Je(o)&&(r.value.splice(_.value,0,R),W(ae,[],[],_.value),u())),r.value[_.value].name===Te.name&&(ft.value=!0),_.value=_.value-1),et.value=!et.value}function Oe(){$e.value||(ae.value[_.value].finished=!0,_.value=_.value+1)}let Qe=p(()=>o.getters["entities/getReady"]),it=p(()=>o.getters["booking/getLoading"]),He=p(()=>o.getters["booking/getBooked"]),Ke=p(()=>o.getters["booking/getPaymentGateway"]),st=g(!1),gt=g(!1),et=g(!1);function yt(){st.value=!0}function Lt(){st.value=!1}function Bt(){et.value=!0}function Et(){et.value=!1}function ht(n){gt.value=n}function zt(){He.value&&(He.value.customerCabinetUrl?window.location.href=He.value.customerCabinetUrl:window.location.href=d.roles.customerCabinet.pageUrl)}ee("secondButton",{secondButtonClick:zt});let $e=g(!1);ee("changingStepsFunctions",{nextStep:Oe,previousStep:Tt,footerButtonClick:yt,footerButtonReset:Lt,footerBtnDisabledUpdater:ht,headerButtonPreviousClick:Bt,headerButtonPreviousReset:Et,footerBtnDisabled:gt,footerButtonClicked:st,headerButtonPreviousClicked:et,navigateInsideStep:$e});const ae=g([]);ee("sidebarSteps",ae);function bt(n){ae.value[_.value].stepSelectedData.filter(y=>y.reference===n.reference).length?ae.value[_.value].stepSelectedData.forEach((y,b,q)=>{y.reference===n.reference&&n.value&&n.value!==y.value&&(y.value=n.value),y.reference===n.reference&&!n.value&&q.splice(b,1)}):n.value&&ae.value[_.value].stepSelectedData.push(n),ae.value[_.value].stepSelectedData.sort((y,b)=>y.position-b.position)}function C(){r.value.forEach((n,y)=>{if(n.name!=="CongratulationsStep"){let b=n.sidebarData.label,q={name:n.name,key:n.key,label:A.value[b],labelKey:b,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===_.value};ae.value.splice(y,0,q)}})}Ot(()=>{C(),$()}),Fe(()=>{switch(o.getters["booking/getBookableType"]){case"appointment":z.showCart||ut(o);break}if(z.showCart&&Jt(r,_),se.value){r.value.splice(0,r.value.length),ae.value.splice(0,ae.value.length),_.value=0,se.value.steps.forEach(y=>{switch(y){case"packageStep":r.value.push(k);break;case"bringingAnyone":r.value.push(F);break;case"initStep":r.value.push(J);break;case"packageInfoStep":r.value.push(ke);break;case"packageAppointmentsStep":r.value.push(Q);break;case"packageAppointmentsListStep":r.value.push(Te);break;case"extrasStep":r.value.push(ne);break;case"dateTimeStep":r.value.push(X);break;case"recurringStep":r.value.push(T);break;case"recurringSummary":r.value.push(fe);break;case"cartStep":r.value.push(R);break;case"infoStep":r.value.push(Ce);break;case"paymentStep":r.value.push(Me);break;case"congratulations":r.value.push(pe);break}let b=se.value.sidebar.find(q=>q.key===y);u(),typeof b<"u"&&b.data&&b.data.forEach(q=>{bt({reference:q.reference,position:q.position,value:q.value})}),_.value++}),o.commit("booking/setLoading",!1);let n=-1;se.value.result==="success"?n=r.value.length-1:(se.value.result==="error"||se.value.result==="canceled")&&(n=r.value.length-2);for(let y=0;y<=n;y++)r.value[y].finished=!0;for(let y=0;y<=n-1;y++)ae.value[y].finished=!0,ae.value[y].selected=!1;(se.value.result==="error"||se.value.result==="canceled")&&(ae.value[n].finished=!1,ae.value[n].selected=!0),_.value=n}});function u(){r.value.forEach((n,y)=>{if(n.name!=="CongratulationsStep"&&!ae.value.find(b=>b.labelKey===n.sidebarData.label)){let b=n.sidebarData.label,q={name:n.name,key:n.key,label:A.value[b],labelKey:b,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===_.value};ae.value.splice(y,0,q)}})}ee("sidebarStepsFunctions",{sidebarDataCollector:bt}),ee("addPaymentsStep",{addPaymentsStep:s}),ee("removePaymentsStep",{removePaymentsStep:ie});function s(){r.value.splice(r.value.length-1,0,Me),u()}function ie(){let n=["PaymentStep"];W(r,n,[],_.value),W(ae,n,[],_.value)}function Pe(n){W(r,[],[R],n),W(ae,[],[],n)}function Xe(){W(r,["CartStep"],[],_.value),W(ae,["CartStep"],[],_.value)}let Ze=p(()=>Ft(o).length?$a(o)!==0:wa(o));Sa(()=>{let n=Ft(o);!n[0].serviceId&&Object.keys(n[0].services).length===0&&Y("emptiedCart"),!se.value&&!Ze.value?ie():se.value||r.value.indexOf(Me)===-1&&s()},{flush:"post"});function je(){ae.value.forEach(n=>{n.finished=!1,n.selected=!1}),r.value.forEach(n=>{n.finished=!1,n.selected=!1}),_.value=0,Xt(o,!0),Ba(o),ut(o),Y("addToCart")}function _e(){let n=o.getters["booking/getCurrentCartItem"],y=o.getters["booking/getAllMultipleAppointments"];n?(o.commit("booking/setCartItem",n),o.commit("booking/setCartItemIndex",y.length-1),o.commit("booking/setCurrentCartItem",null)):(y.pop(),o.commit("booking/setCartItemIndex",y.length-1),o.commit("booking/setServiceId",y[y.length-1].serviceId),o.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),o.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Jt(r,_)}let be=p(()=>d.customizedData&&d.customizedData.sbsNew?d.customizedData.sbsNew.colors:ot.sbsNew.colors);ee("amColors",be);let ta=p(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":K(be.value.colorMainText,.2),"--am-c-skeleton-op60":K(be.value.colorMainText,.6),"--am-font-family":x.value.fontFamily,"--am-mw-main":j.value?G.value?"592px":"760px":"520px","--am-brad-main":j.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function aa(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${x.value.fontFamily}'; src: url(${x.value.fontUrl});}`,b=document.createElement("style");n.appendChild(b),b.setAttribute("type","text/css"),b.setAttribute("id","amCustomFont"),b.appendChild(document.createTextNode(y))}x.value.customFontSelected&&aa();let ia=p(()=>({colorInputBorderRadius:"6px"}));return ee("amDesignProperties",ia),Fe(()=>{Yt("renderForm",{ameliaContainer:te,containerWidth:O,empty:ve,amCustomize:V,amFonts:x,sidebarCollapsed:G,sidebarCollapseItemsClass:v,sidebarFooterRef:P,sidebarFooterHeight:L,sidebarVisibility:j})}),(n,y)=>(t(),i(H,null,[x.value.customFontSelected?c("",!0):(t(),i(H,{key:0},[bi,ki,a("link",{rel:"stylesheet",type:"text/css",href:`${e(de).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ci)],64)),e(ve)?(t(),i("div",Oi,[a("img",{src:e(de).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(A).no_services_employees},null,8,Ui),a("h1",null,l(e(A).oops),1),a("h3",null,l(e(A).no_services_employees),1),a("p",null,l(e(A).add_services_employees),1),a("a",Wi,l(e(A).add_services_url)+"\xA0 ",1),a("span",Ri,l(e(A).and)+"\xA0",1),a("a",Hi,l(e(A).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:te,class:D(["am-fs__wrapper",{"am-collapsed":e(G)}]),style:oe(e(ta))},[e(O)>560&&e(j)?(t(),he(Da,{key:0,class:D(["am-fs-sb",{"am-collapsed":e(G)}]),style:oe({width:e(G)?"72px":"240px",paddingBottom:`${e(L)+16}px`})},{"step-list":I(()=>[a("div",$i,[r.value[_.value]!==e(pe)||!e(d).general.addToCalendar||e(He)&&e(He).data.length===0?(t(!0),i(H,{key:0},ge(ae.value,b=>(t(),i("div",{key:b.key,class:"am-fs-sb__step"},[a("div",wi,[a("div",Si,[a("span",{class:D(`am-icon-${b.icon}`)},null,2),b.key==="cartStep"&&e(Ue)(e(o))!==0?(t(),i("span",{key:0,class:D(["am-fs-sb__step-icon__number",e(v)])},l(e(Ue)(e(o))),3)):c("",!0)]),M(Ye,{name:"fade"},{default:I(()=>[e(G)?c("",!0):(t(),i("p",{key:0,class:D(["am-fs-sb__step-heading",e(v)])},l(b.label),3))]),_:2},1024),a("div",{class:D(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":b.selected},e(v)]])},[M(Ye,{name:"fade"},{default:I(()=>[b.finished?(t(),i("span",xi)):c("",!0)]),_:2},1024)],2)]),M(xa,{tag:"span",name:"fade",appear:"",class:D(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":b.key===e(Q).key&&b.stepSelectedData.length>3}])},{default:I(()=>[e(G)?c("",!0):(t(!0),i(H,{key:0},ge(b.stepSelectedData,(q,Be)=>(t(),i("p",{key:q.position,class:"am-fs-sb__step-selection"},[b.key!==e(Q).key||Be<3?(t(),i("span",Ii,l(q.value),1)):(t(),i("span",Di,l(e(A).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Pi,[M(Ye,{name:"fade"},{default:I(()=>[e(G)?c("",!0):(t(),he(Ia,{key:0}))]),_:1}),e(G)?(t(),i("div",Ti,[a("div",Li,[a("div",Bi,[a("span",{class:D(`am-icon-${r.value[_.value].sidebarData.icon}`)},null,2)]),a("div",{class:D(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":r.value[_.value].sidebarData.selected},e(v)]])},[M(Ye,{name:"fade"},{default:I(()=>[r.value[_.value].sidebarData.finished?(t(),i("span",Ei)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":I(()=>[a("div",{ref_key:"sidebarFooterRef",ref:P,class:"am-fs-sb__footer"},[(e(d).company.email||e(d).company.phone)&&(e(le).heading||e(le).phone||e(le).email)?(t(),i("div",zi,[M(Ye,{name:"fade"},{default:I(()=>[!e(G)&&e(le).heading?(t(),i("div",{key:0,class:D(["am-fs-sb__support-heading",e(v)])},l(e(A).get_in_touch),3)):c("",!0)]),_:1}),e(d).company.phone&&e(le).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(d).company.phone}`,href:`tel:${e(d).company.phone}`},[e(G)?(t(),i("span",Ai)):(t(),i(H,{key:0},[ue(l(e(d).company.phone),1)],64))],8,Fi)):c("",!0),e(d).company.email&&e(le).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(d).company.email}`,href:`mailto:${e(d).company.email}`},[e(G)?(t(),i("span",Vi)):(t(),i(H,{key:0},[ue(l(e(d).company.email),1)],64))],8,Ni)):c("",!0)])):c("",!0),a("div",{class:D(["am-fs-sb__menu",e(v)]),onClick:y[0]||(y[0]=b=>re(G)?G.value=!e(G):G=!e(G))},[M(Ye,{name:"fade"},{default:I(()=>[e(G)?c("",!0):(t(),i("span",Mi,l(e(A).collapse_menu),1))]),_:1}),a("span",{class:D(`am-icon-arrow-circle-${e(G)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),M(La,null,Ut({step:I(()=>[(t(),he(Qt(r.value[_.value]),{"global-class":"am-fs__main-content","show-cart":e(z).showCart&&r.value[_.value]===e(X)},null,8,["show-cart"]))]),footer:I(()=>[M(e(Ta),{"second-button-show":r.value[_.value]===e(pe)&&e(d).roles.customerCabinet.enabled&&e(d).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(o))&&r.value[_.value]===e(R),"back-to-cart-button-show":e(Je)(e(o))&&e(We).length>1&&r.value[_.value]!==e(R)&&r.value[_.value]!==e(Ce)&&r.value[_.value]!==e(Me)&&r.value[_.value]!==e(pe),booked:e(He),loading:e(it),ready:e(Qe),"payment-gateway":e(Ke),"customized-labels":e(Ae),"primary-footer-button-type":e(Re),"secondary-footer-button-type":e(Z),"add-to-cart-button-type":e(Ne),"back-to-cart-button-type":e(Ie),"back-to-cart-label":U("cancel","cartStep"),onAddToCart:je,onBackToCart:_e},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[r.value[_.value]!==e(pe)?{name:"header",fn:I(()=>[M(Pa,{"sidebar-visible":e(j),ready:e(Qe)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const qi={class:"am-fcil__filter-buttons"},Gi={class:"am-fcil__filter"},Ji=["aria-label"],Yi=["aria-label"],Qi=["aria-label"],Xi={class:"am-fcil__filter-item__btn-wrapper"},Zi={role:"heading","aria-level":"2",class:"am-fcil__heading"},Ki={key:0,class:"am-fcil__item-badge__wrapper"},es={class:"am-fcil__item-badge am-package"},ts=a("span",{class:"am-icon-shipment"},null,-1),as={class:"am-fcil__item-heading"},is={class:"am-fcil__item-name"},ss={key:0,class:"am-fcil__item-cost"},ls={key:0,class:"am-fcil__item-discount"},os={class:"am-fcil__item-price"},ns={key:1,class:"am-fcil__item-price"},cs={class:"am-fcil__item-info"},rs={key:0,class:"am-fcil__item-info__inner"},us=a("span",{class:"am-icon-folder"},null,-1),ms={key:1,class:"am-fcil__item-info__inner"},ds=a("span",{class:"am-icon-clock"},null,-1),ps={key:0},_s={key:1},vs={key:2},fs={key:2,class:"am-fcil__item-info__inner"},gs=a("span",{class:"am-icon-user"},null,-1),ys=a("span",null,"1/1",-1),hs=[gs,ys],bs={key:3,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-locations"},null,-1),Cs={key:2,class:"am-fcil__item-services"},$s={key:0,class:"am-fcil__item-badge__wrapper"},ws={class:"am-fcil__item-badge am-service"},Ss=a("span",{class:"am-icon-service"},null,-1),xs={class:"am-fcil__item-heading"},Is={class:"am-fcil__item-name"},Ds={key:0,class:"am-fcil__item-cost"},Ps={key:0,class:"am-fcil__item-price"},Ts={key:1,class:"am-fcil__item-price"},Ls={class:"am-fcil__item-info"},Bs={key:0,class:"am-fcil__item-info__inner"},Es=a("span",{class:"am-icon-folder"},null,-1),zs={key:1,class:"am-fcil__item-info__inner"},Fs=a("span",{class:"am-icon-clock"},null,-1),As={key:2,class:"am-fcil__item-info__inner"},Ns=a("span",{class:"am-icon-user"},null,-1),Vs={key:3,class:"am-fcil__item-info__inner"},Ms=a("span",{class:"am-icon-locations"},null,-1),Os={class:"am-fcil-employee__header"},Us={class:"am-fcil-employee__heading"},Ws={class:"am-fcil-employee__heading-left"},Rs={class:"am-fcil-employee__name"},Hs={key:0,class:"am-fcil-employee__heading-right"},js={class:"am-fcil-employee__price"},qs=["innerHTML"],Gs={key:1,ref:"ameliaContainer",class:"am-empty"},Js=["src"],Ys={class:"am-empty__heading"},Qs={class:"am-empty__subheading"},Xs={class:"am-empty__text"},Zs={key:0},Ks={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},el={key:1},tl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},al={name:"CategoryItemsList",key:"categoryItemsList"},il=Object.assign(al,{setup(ye){let Y=w("licence"),{nextPage:z,previousPage:te}=w("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const O=w("baseUrls");let ve=g(!1),E=g(!1),d=g("760px");ee("bookingDialogWidth",d);function V(){d.value="760px"}let le=g(!1),x=g(),G=w("containerWidth"),v=w("customizedDataForm"),m=p(()=>v.value.categoryItemsList.options),P=p(()=>"pageScroll"in m.value?m.value.pageScroll.visibility:!0);const L=w("settings");let j=at();const de=w("shortcodeData"),o=p(()=>j.getters["entities/getPreselected"]);let h=p(()=>{let C=Array.isArray(de.value.category)?de.value.category:de.value.category.split(",");return C=C.filter(u=>u),C.length}),se=p(()=>{let C=x.value&&x.value.catContainerWidth?x.value.catContainerWidth>768:!0;return h.value!==1&&m.value.sidebar.visibility&&C}),J=w("amEntities"),ne=g("");function ke(C){ne.value=C.toLowerCase()}let T=p(()=>ne.value?J.value.employees.filter(C=>`${C.firstName} ${C.lastName}`.toLowerCase().includes(ne.value)):J.value.employees),fe=g("");function X(C){fe.value=C.toLowerCase()}let Q=p(()=>fe.value?J.value.locations.filter(C=>C.name.toLowerCase().includes(fe.value)):J.value.locations),Te=p(()=>Je(j)&&Ue(j)>0),pe=p(()=>Ue(j));const R=w("labels"),Ce=w("localLanguage");let Me=p(()=>L.general.usedLanguages.includes(Ce.value)),k=p(()=>{let C=_t({...R});if(L.customizedData&&L.customizedData.cbf&&L.customizedData.cbf.categoryItemsList.translations){let u=L.customizedData.cbf.categoryItemsList.translations;Object.keys(u).forEach(s=>{u[s][Ce.value]&&Me.value?C[s]=u[s][Ce.value]:u[s].default&&(C[s]=u[s].default)})}return C}),F=g(""),r={components:{IconComponent:$t},template:'<IconComponent icon="search"/>'},ce=g(!0),Ee={components:{IconComponent:$t},template:'<IconComponent icon="filter"/>'},me=p(()=>x.value&&x.value.catHeaderWidth?x.value.catHeaderWidth:0);window.addEventListener("resize",We);function We(){xe(()=>{me.value>480&&(ce.value=!0)})}Fe(()=>{We()});function A(C){let u=[];return F.value.toLowerCase().split(" ").forEach(s=>{u.push(C.toLowerCase().includes(s))}),u.filter(s=>s===!1).length<=0}let Ae=w("availableCategories"),Re=p(()=>{let C=[...Ae.value],u=[];return C.forEach(s=>{u.push({id:s.id,name:s.name})}),u.unshift({id:0,name:k.value.filter_all}),u}),Z=w("categorySelected"),Ne=p(()=>Ct(J.value,de.value,B.value,$.value)),Ie=p(()=>{let C=[];return Ne.value.find(u=>u.id===Z.value)?J.value.packages.forEach(u=>{Ne.value.find(s=>s.id===Z.value).packageList.forEach(s=>{u.id===s&&(F.value?A(u.name):!0)&&C.push(u)})}):J.value.packages.forEach(u=>{Ne.value.forEach(s=>{s.packageList.forEach(ie=>{u.id===ie&&!C.find(Pe=>Pe.id===ie)&&(F.value?A(u.name):!0)&&C.push(u)})})}),C}),U=p(()=>{let C=[];return Z.value&&Ne.value.find(u=>u.id===Z.value)?J.value.services.forEach(u=>{Ne.value.find(s=>s.id===Z.value).serviceIdList.forEach(s=>{u.id===s&&(F.value?A(u.name):!0)&&C.push(u)})}):J.value.services.forEach(u=>{Ne.value.forEach(s=>{s.serviceIdList.forEach(ie=>{u.id===ie&&(F.value?A(u.name):!0)&&C.push(u)})})}),C}),B=g(null),$=g(null),W=g(!0),Le=g(!0);function we(C){C==="all"&&(W.value=!0,Le.value=!0),C==="packages"&&(W.value=!0,Le.value=!1),C==="services"&&(W.value=!1,Le.value=!0)}Ot(()=>{o.value.show&&we(o.value.show)});let qe=p(()=>{let C=de.value.employee,u=J.value.employees.length,s=de.value.location,ie=J.value.locations.length,Pe=m.value.searchInput.visibility,Xe=m.value.filterEmployee.visibility&&C.length!==1&&u>1&&!Y.isLite,Ze=m.value.filterLocation.visibility&&s.length!==1&&ie>1&&!Y.isLite&&!Y.isStarter,je=m.value.filterButtons.visibility&&o.value.show!=="packages"&&o.value.show!=="services"&&Ie.value.length!==0&&U.value.length!==0&&!Ue(j),_e={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return me.value>992?!Pe||!je?(_e.employee=!Pe&&!je?"am-w50":"am-w35",_e.location=!Pe&&!je?"am-w50":"am-w35",_e.search=!je&&!Ze&&!Xe?"am-w100":"am-w30",Xe||(_e.location=!Pe&&!je?"am-w100":"am-w70"),Ze||(_e.employee=!Pe&&!je?"am-w100":"am-w70")):(Xe||(_e.location="am-w40"),Ze||(_e.employee="am-w40"),!Xe&&!Ze&&(_e.search="am-w70")):me.value>768||me.value>480?(_e.search=je?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",_e.buttons=Pe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",_e.employee=Ze?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",_e.location=Xe?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",_e.category="am-w100 am-tablet am-order5"):(_e.employee="am-w100 am-mobile",_e.location="am-w100 am-mobile",_e.search="am-w100 am-mobile",_e.buttons="am-w100 am-mobile",_e.category="am-w100 am-mobile"),_e}),De=p(()=>x.value&&x.value.catContainerWidth?x.value.catContainerWidth:0),N=p(()=>{let C=Ie.value.length&&!Ue(j)?Ie.value.length:0,u=U.value.length>1?k.value.heading_services:k.value.heading_service,s=C?C>1?k.value.packages:k.value.package:"";if(!U.value.length&&!C)return k.value.no_search_data;if(Le.value&&(!W.value||!C))return`${k.value.available} - ${U.value.length} ${u}`;if((!Le.value||!U.value.length)&&W.value)return`${k.value.available} - ${C} ${s}`;let ie=C?"/":"";return`${k.value.available} - ${U.value.length} ${u} ${ie} ${C} ${s}`});Fe(()=>{xe(()=>{ve.value=Ie.value.length===0&&U.value.length===0})});function S(C){const u=C.id===0?null:C.id;Z.value=u,j.commit("booking/setCategoryId",u)}let f=w("itemType");function _(C){j.commit("booking/setServiceId",parseInt(C)),j.commit("booking/setBookableType","appointment"),f.value="appointment",mt(j,{},"SelectService","appointment",null,null),xe(()=>{z()})}function vt(C){j.commit("booking/setServiceId",null),j.commit("booking/setPackageId",C.id),j.commit("booking/setBookableType","package"),j.commit("booking/setMultipleAppointments",Pt(0,C)),j.commit("booking/setCartItemIndex",0),f.value="package",mt(j,{},"SelectPackage","package",null,null),xe(()=>{z()})}function ft(){Z.value=null,j.commit("booking/setCategoryId",null),te()}function Tt(){Mt(j),le.value=!0,E.value=!0}let Oe=g(!1),Qe=g(""),it=g([]),He=g({}),Ke=g(null);function st(){Qe.value="",it.value=[],He.value={},Ke.value=null}function gt(C){it.value=ea(J.value,C,de.value),He.value=C,Oe.value=!0}function et(C){let u=[];Object.keys(J.value.entitiesRelations).forEach(ie=>{ie in J.value.entitiesRelations&&C in J.value.entitiesRelations[ie]&&J.value.employees.find(Pe=>Pe.id===parseInt(ie))&&u.push(J.value.employees.find(Pe=>Pe.id===parseInt(ie)))}),it.value=u,Qe.value="service",Oe.value=!0,Ke.value=C}function yt(C){let u=J.value.services.find(ie=>ie.id===Ke.value).price,s=C.serviceList.find(ie=>ie.id===Ke.value).price;return s!==u?`${s-u>0?u>0?"+":"":"-"} ${dt(s-u)}`:0}function Lt(){Qe.value==="service"?_(Ke.value):vt(He.value),st()}function Bt(C,u){let s="";return C>1?(u==="day"&&(s=k.value.expires_days),u==="week"&&(s=k.value.expires_weeks),u==="month"&&(s=k.value.expires_months)):(u==="day"&&(s=k.value.expires_day),u==="week"&&(s=k.value.expires_week),u==="month"&&(s=k.value.expires_month)),s}function Et(C,u){let s=Vt(C,u);return s.length===1||s.length&&s.every(ie=>ie.id===s[0].id)?s[0].address?s[0].address:s[0].name:k.value.multiple_locations}function ht(C,u){let s=tt(C,u);return s.length===1||s.length&&s.every(ie=>ie.id===s[0].id)?s[0].address?s[0].address:s[0].name:k.value.multiple_locations}let zt=w("amFonts",g({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=w("amColors"),ae=p(()=>({"--am-c-fcil-text-op-10":K($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":K($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":K($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":K($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":K($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":K($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":K($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&h.value!==1&&m.value.sidebar.visibility&&se.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":x.value&&x.value.catFormWidth<580?"100%":"50%"})),bt=p(()=>({"--am-f-fcil-employee-f":zt.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":K($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":K($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":K($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(C,u)=>e(ve)?(t(),i("div",Gs,[a("img",{src:e(O).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,Js),a("div",Ys,l(e(k).oops),1),a("div",Qs,l(e(o).show!=="packages"?e(k).no_services_employees:e(k).no_package_services),1),a("div",Xs,[e(o).show!=="packages"?(t(),i("span",Zs,l(e(k).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",Ks,l(e(k).add_services_url)+"\xA0 ",1),e(o).show!=="packages"?(t(),i("span",el,l(e(k).and)+"\xA0 ",1)):c("",!0),e(o).show!=="packages"?(t(),i("a",tl,l(e(k).add_employees_url),1)):c("",!0)])],512)):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:x,"wrapper-class":`am-fcil ${e(G)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(G)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(G)<481?"am-mobile":""} ${e(P)?"":"no-scroll"}`,style:oe(e(ae))},Ut({header:I(()=>[a("span",qi,[e(h)!==1&&!e(de).categories_hidden&&e(Ae).length!==1?(t(),he(Rt,{key:0,"btn-size":e(me)<481?"medium":"mini","btn-string":e(k).back_btn,"btn-type":e(m).backBtn.buttonType,"cart-btn-visibility":e(Te),"cart-items-number":e(pe),onGoBack:ft,onGoToCart:Tt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(me)<481?(t(),he(ze,{key:1,size:"medium",category:"secondary",type:e(m).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Ee),onClick:u[0]||(u[0]=()=>re(ce)?ce.value=!e(ce):ce=!e(ce))},null,8,["type","icon"])):c("",!0)]),a("div",Gi,[e(m).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(k).filter_input,class:D(["am-fcil__filter-item",e(qe).search])},[M(Ea,{modelValue:e(F),"onUpdate:modelValue":u[1]||(u[1]=s=>re(F)?F.value=s:F=s),placeholder:e(k).filter_input,"prefix-icon":e(r)},null,8,["modelValue","placeholder","prefix-icon"])],10,Ji)):c("",!0),M(Ye,{name:"slide-fade"},{default:I(()=>[e(de).employee.length!==1&&e(J).employees.length>1&&e(m).filterEmployee.visibility&&e(ce)&&!e(Y).isLite?(t(),i("div",{key:0,class:D(["am-fcil__filter-item",e(qe).employee]),role:"search","aria-label":e(k).filter_employee},[M(At,{modelValue:e(B),"onUpdate:modelValue":u[2]||(u[2]=s=>re(B)?B.value=s:B=s),clearable:"",filterable:"",placeholder:e(k).filter_employee,"aria-label":e(k).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:I(()=>[(t(!0),i(H,null,ge(e(T),s=>(t(),he(Nt,{key:s.id,value:s.id,label:`${s.firstName} ${s.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,Yi)):c("",!0)]),_:1}),M(Ye,{name:"slide-fade"},{default:I(()=>[e(de).location.length!==1&&e(J).locations.length>1&&e(m).filterLocation.visibility&&e(ce)&&!e(Y).isLite&&!e(Y).isStarter?(t(),i("div",{key:0,class:D(["am-fcil__filter-item",e(qe).location]),role:"search","aria-label":e(k).filter_location},[M(At,{modelValue:e($),"onUpdate:modelValue":u[3]||(u[3]=s=>re($)?$.value=s:$=s),clearable:"",filterable:"",placeholder:e(k).filter_location,"aria-label":e(k).filter_location,"fit-input-width":!0,"filter-method":X},{default:I(()=>[(t(!0),i(H,null,ge(e(Q),s=>(t(),he(Nt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,Qi)):c("",!0)]),_:1}),M(Ye,{name:"slide-fade"},{default:I(()=>[e(Ae).length!==1&&e(h)!==1&&e(m).sidebar.visibility&&!e(se)&&e(ce)?(t(),i("div",{key:0,class:D(["am-fcil__filter-item am-w100",e(qe).category])},[M(At,{modelValue:e(Z),"onUpdate:modelValue":u[4]||(u[4]=s=>re(Z)?Z.value=s:Z=s),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:I(()=>[(t(!0),i(H,null,ge(e(Re),s=>(t(),he(Nt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(o).show&&e(m).filterButtons.visibility&&e(Ie).length!==0&&e(U).length!==0&&!e(Ue)(e(j))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:D(["am-fcil__filter-item",e(qe).buttons])},[a("div",Xi,[a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":e(W)&&e(Le)}]),onClick:u[5]||(u[5]=s=>we("all"))},[a("span",null,l(e(k).filter_all),1)],2),a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":e(W)&&!e(Le)}]),onClick:u[6]||(u[6]=s=>we("packages"))},[a("span",null,l(e(k).filter_packages),1)],2),a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":!e(W)&&e(Le)}]),onClick:u[7]||(u[7]=s=>we("services"))},[a("span",null,l(e(k).filter_services),1)],2)])],2)):c("",!0)])]),heading:I(()=>[a("div",Zi,l(e(N)),1)]),content:I(()=>[e(W)&&!e(Ue)(e(j))?(t(!0),i(H,{key:0},ge(e(Ie),s=>(t(),i("div",{key:s.id,role:"group",class:D(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:D(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:oe(e(m).cardColor&&e(m).cardColor.visibility?{backgroundColor:e(K)(s.color,.1)}:{})},[e(m).packageBadge.visibility?(t(),i("div",Ki,[a("div",es,[ts,a("span",null,l(e(k).package),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:oe({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",as,[a("div",is,l(s.name),1),e(m).packagePrice.visibility?(t(),i("div",ss,[s.discount?(t(),i("span",ls,l(`${e(k).save} ${s.discount}%`),1)):c("",!0),a("span",os,l(s.price?e(dt)(e(Wt)(s)):e(k).free),1),s.price&&(e(m).tax?.visibility??!0)&&e(pt)(e(j),s.id,"package")?(t(),i("span",ns,[e(L).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(k).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(k).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",cs,[e(m).packageCategory.visibility&&e(Z)?(t(),i("div",rs,[us,a("span",null,l(e(Ae).find(ie=>ie.id===e(Z)).name),1)])):c("",!0),e(m).packageDuration.visibility?(t(),i("div",ms,[ds,s.endDate?(t(),i("span",ps,l(`${e(k).expires_at} ${s.endDate.split(" ")[0]}`),1)):s.durationCount?(t(),i("span",_s,l(`${e(k).expires_after} ${s.durationCount} ${Bt(s.durationCount,s.durationType)}`),1)):(t(),i("span",vs,l(e(k).without_expiration),1))])):c("",!0),e(m).packageCapacity.visibility?(t(),i("div",fs,hs)):c("",!0),e(Vt)(e(J),s,e(de)).length&&e(m).packageLocation.visibility?(t(),i("div",bs,[ks,a("span",null,l(Et(e(J),s)),1)])):c("",!0)]),e(m).packageServices.visibility?(t(),i("div",Cs,[a("span",null,l(`${e(k).in_package}:`),1),(t(!0),i(H,null,ge(s.bookable,ie=>(t(),i("span",{key:ie.id},l(ie.service.name),1))),128))])):c("",!0)],4),a("div",{class:D(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(m).cardEmployeeBtn.visibility?(t(),he(ze,{key:0,class:D({"am-w100":e(De)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:ie=>gt(s)},{default:I(()=>[ue(l(e(k).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),M(ze,{class:D([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:ie=>vt(s)},{default:I(()=>[ue(l(e(k).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(Le)?(t(!0),i(H,{key:1},ge(e(U),s=>(t(),i("div",{key:s.id,class:D(["am-fcil__item",{"am-mobile":e(De)<481}])},[a("div",{class:D(["am-fcil__item-inner",{"am-mobile":e(De)<481}])},[a("div",{class:"am-fcil__item-content",style:oe(e(m).cardColor&&e(m).cardColor.visibility?{backgroundColor:e(K)(s.color,.1)}:{})},[e(m).serviceBadge.visibility?(t(),i("div",$s,[a("div",ws,[Ss,a("span",null,l(e(k).heading_service),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:oe({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",xs,[a("div",Is,l(s.name),1),e(m).servicePrice.visibility?(t(),i("div",Ds,[e(nt)(e(J),s.id).min||e(nt)(e(J),s.id).max?(t(),i("span",Ps,l(e(nt)(e(J),s.id).price),1)):c("",!0),(e(m).tax?.visibility??!0)&&e(pt)(e(j),s.id,"service")?(t(),i("span",Ts,[e(L).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(k).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(k).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Ls,[e(m).serviceCategory.visibility&&e(Z)?(t(),i("div",Bs,[Es,a("span",null,l(e(Ae).find(ie=>ie.id===e(Z)).name),1)])):c("",!0),e(m).serviceDuration.visibility?(t(),i("div",zs,[Fs,a("span",null,l(e(Zt)(s.duration)),1)])):c("",!0),e(m).serviceCapacity.visibility&&!e(Y).isLite?(t(),i("div",As,[Ns,a("span",null,l(e(Kt)(e(J),s.id)),1)])):c("",!0),e(tt)(e(J),s.id).length&&e(m).serviceLocation.visibility?(t(),i("div",Vs,[Ms,a("span",null,l(ht(e(J),s.id)),1)])):c("",!0)])],4),a("div",{class:D(["am-fcil__item-footer",[{"am-mobile":e(De)<481},{"am-micro":e(De)<320}]])},[e(m).cardEmployeeBtn.visibility&&!e(Y).isLite?(t(),he(ze,{key:0,class:D({"am-w100":e(De)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:ie=>et(s.id)},{default:I(()=>[ue(l(e(k).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),M(ze,{class:D([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(De)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:ie=>_(s.id)},{default:I(()=>[ue(l(e(k).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),M(rt,{modelValue:e(Oe),"onUpdate:modelValue":u[9]||(u[9]=s=>re(Oe)?Oe.value=s:Oe=s),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(bt),width:"648px",onClose:st},{title:I(()=>[a("div",Os,l(e(k).employee_info),1)]),default:I(()=>[a("div",null,[M(St,null,{default:I(()=>[(t(!0),i(H,null,ge(e(it),(s,ie)=>(t(),he(xt,{key:ie,side:""},{heading:I(()=>[a("div",Us,[a("div",Ws,[M(ct,{"item-class":"am-fcil-employee__img","item-data":s,"trim-string":2},null,8,["item-data"]),a("div",Rs,[ue(l(`${s.firstName} ${s.lastName}`)+" ",1),s.badge?(t(),i("span",{key:0,style:oe({background:s.badge.color}),class:"am-fcil-employee__badge"},l(s.badge.content),5)):c("",!0)])]),e(Qe)==="service"&&yt(s)!==0?(t(),i("div",Hs,[a("div",js,l(yt(s)),1)])):c("",!0)])]),default:I(()=>[e(Ve)(s.description)?(t(),i("div",{key:0,class:D(["am-fcil-employee__text",{"ql-description":s.description.includes("<!-- Content -->")}]),innerHTML:s.description},null,10,qs)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:I(()=>[e(m).dialogEmployeeBtn.visibility?(t(),he(ze,{key:0,type:e(m).dialogEmployeeBtn.buttonType,category:"primary",onClick:u[8]||(u[8]=s=>Lt())},{default:I(()=>[ue(l(e(Qe)==="service"?e(k).book_service:e(k).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),M(rt,{modelValue:e(E),"onUpdate:modelValue":u[10]||(u[10]=s=>re(E)?E.value=s:E=s),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(d),onClosed:V},{default:I(()=>[M(jt,{"show-cart":e(le)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(h)!==1&&e(m).sidebar.visibility&&e(se)?{name:"side",fn:I(()=>[M(Xa,{"menu-items":e(Re),"init-selection":e(Z),identifier:"id","name-identifier":"name","footer-string":e(k).get_in_touch,"company-email":e(L).company.email,onClick:S},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const sl={class:"am-fcis__header-text"},ll={class:"am-fcis__header-name",role:"heading","aria-level":"1"},ol={key:0,class:"am-fcis__badge am-service"},nl=a("span",{class:"am-icon-service"},null,-1),cl={class:"am-fcis__header-action"},rl={key:0,class:"am-fcis__header-price"},ul={key:1,class:"am-fcis__header-tax"},ml={class:"am-fcis__header-btn"},dl={key:0,class:"am-fcis__header-bottom"},pl={class:"am-fcis__mini-info"},_l={key:0,class:"am-fcis__mini-info__inner"},vl=a("span",{class:"am-icon-folder"},null,-1),fl={key:1,class:"am-fcis__mini-info__inner"},gl=a("span",{class:"am-icon-clock"},null,-1),yl={key:2,class:"am-fcis__mini-info__inner"},hl=a("span",{class:"am-icon-user"},null,-1),bl={key:3,class:"am-fcis__mini-info__inner"},kl=a("span",{class:"am-icon-locations"},null,-1),Cl={key:0,class:"am-fcis__gallery"},$l={key:0,class:"am-fcis__gallery-thumb__wrapper"},wl={class:"am-gd__display-wrapper"},Sl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},xl=["src","alt"],Il={class:"am-gd__selection"},Dl={class:"am-gd__thumb-wrapper"},Pl=["onClick"],Tl={key:1,class:"am-fcis__info"},Ll={class:"am-fcis__info-tab__wrapper"},Bl={class:"am-fcis__info-content__wrapper"},El={key:0,class:"am-fcis__info-content"},zl=["innerHTML"],Fl={key:1,class:"am-fcis__info-content"},Al={class:"am-fcis__info-employee__hero"},Nl={class:"am-fcis__info-employee__heading"},Vl={class:"am-fcis__info-employee__name"},Ml={key:0,class:"am-fcis__info-employee__price"},Ol=["innerHTML"],Ul={key:2,class:"am-fcis__include-wrapper"},Wl={class:"am-fcis__include-heading"},Rl={class:"am-fcis__include-heading__text"},Hl=["onClick"],jl={class:"am-fcis__include-hero"},ql={key:0,class:"am-fcis__include-cost"},Gl={key:0,class:"am-fcis__include-discount"},Jl={class:"am-fcis__include-price"},Yl={key:1,class:"am-fcis__include-price"},Ql={class:"am-fcis__include-info"},Xl={key:0,class:"am-fcis__include-info__inner"},Zl=a("span",{class:"am-icon-folder"},null,-1),Kl={key:1,class:"am-fcis__include-info__inner"},eo=a("span",{class:"am-icon-clock"},null,-1),to={key:0},ao={key:1},io={key:2},so={key:2,class:"am-fcis__include-info__inner"},lo=a("span",{class:"am-icon-user"},null,-1),oo=a("span",null,"1/1",-1),no=[lo,oo],co={key:3,class:"am-fcis__include-info__inner"},ro=a("span",{class:"am-icon-locations"},null,-1),uo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},mo={key:1,ref:"ameliaContainer",class:"am-empty"},po=["src","alt"],_o={class:"am-empty__heading"},vo={class:"am-empty__subheading"},fo={class:"am-empty__text"},go={key:0},yo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ho={key:1},bo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},ko={name:"CategoryService"},Co=Object.assign(ko,{setup(ye){let Y=w("licence"),{previousPage:z}=w("changingPageFunctions",{previousPage:()=>{}}),te=p(()=>P.getters["entities/getReady"]);const O=w("baseUrls");let ve=g(),E=w("containerWidth");const d=w("settings");let V=w("amFonts");const le=w("labels"),x=w("localLanguage");let G=p(()=>d.general.usedLanguages.includes(x.value)),v=p(()=>{let N=_t({...le});if(d.customizedData&&d.customizedData.cbf&&d.customizedData.cbf.categoryService.translations){let S=d.customizedData.cbf.categoryService.translations;Object.keys(S).forEach(f=>{S[f][x.value]&&G.value?N[f]=S[f][x.value]:S[f].default&&(N[f]=S[f].default)})}return N}),m=g(0),P=at(),L=w("amEntities"),j=p(()=>Je(P)&&Ue(P)>0),de=p(()=>Ue(P)),o=w("customizedDataForm"),h=p(()=>o.value.categoryService.options),se=p(()=>"pageScroll"in h.value?h.value.pageScroll.visibility:!0),J=w("itemType"),ne=w("categorySelected"),ke=p(()=>L.value.categories.find(N=>N.id===ne.value)),T=p(()=>{let N=L.value.services.find(S=>S.id===P.getters["booking/getServiceId"]);return N||{}});function fe(N,S){let f=tt(N,S);return f.length===1||f.length&&f.every(_=>_.id===f[0].id)?f[0].address?f[0].address:f[0].name:v.value.multiple_locations}let X=g("description"),Q=p(()=>{let N=[];return Object.keys(L.value.entitiesRelations).forEach(f=>{L.value.entitiesRelations[f][T.value.id]&&L.value.employees.find(_=>_.id===parseInt(f))&&N.push(L.value.employees.find(_=>_.id===parseInt(f)))}),N});function Te(N){let S=N.serviceList.find(f=>f.id===T.value.id).price;return S-T.value.price!==0?`${S-T.value.price>0?T.value.price>0?"+":"":"-"} ${dt(S-T.value.price)}`:""}Fe(()=>{h.value.serviceDescription.visibility||(X.value="employees"),Ve(T.value.description)||(X.value="employees")});let pe=p(()=>{let N=T.value.gallery.length?JSON.parse(JSON.stringify(T.value.gallery)):[];return T.value.gallery.length===1?[]:(N.shift(),N.length>2&&N.splice(2,N.length-2),N)}),R=p(()=>{let N=[];return L.value.packages.forEach(S=>{S.bookable.filter(f=>f.service.id===T.value.id).length&&!N.filter(f=>f.id===S.id).length&&S.available&&S.status==="visible"&&N.push(S)}),N}),Ce=g(!1),Me=p(()=>{let N=[...R.value];return Ce.value?N:N.slice(0,2)}),k=p(()=>P.getters["entities/filteredLocations"](P.getters["booking/getSelection"]));function F(){J.value="",xe(()=>{z()})}let r=g(!1);function ce(){P.commit("booking/setShownCart",!1),Mt(P),r.value=!0,me.value=!0}function Ee(){me.value=!1,P.getters["entities/getPreselected"].service.length>1&&F()}let me=g(!1),We=g("760px");ee("bookingDialogWidth",We);function A(){let N=P.getters["entities/getPreselected"];Q.value.length===1&&(P.commit("booking/setEmployeeId",parseInt(Q.value[0].id)),N.employee=[parseInt(Q.value[0].id)],P.commit("entities/setPreselected",N)),r.value=!1,me.value=!1,za(P),Xt(P,!1),ut(P);let S=tt(L.value,T.value.id);S.length===1&&(P.commit("booking/setLocationId",parseInt(S[0].id)),N.location=[parseInt(S[0].id)],P.commit("entities/setPreselected",N)),P.commit("booking/setBookableType","appointment"),me.value=!0}w("restoreFormData").value&&A();function Re(N){P.commit("booking/setPackageId",N.id),P.commit("booking/setBookableType","package"),P.commit("booking/setMultipleAppointments",Pt(0,N)),P.commit("booking/setMultipleAppointmentsIndex",0),Q.value.length===1&&P.commit("booking/setEmployeeId",parseInt(Q.value[0].id)),tt(L.value,T.value.id).length===1&&P.commit("booking/setLocationId",parseInt(tt(L.value,T.value.id)[0].id)),xe(()=>{me.value=!0})}const Z=p(()=>P.getters["entities/getPreselected"]);let Ne=g(L.value.services.length!==1&&Z.value.service.length!==1),Ie=g("");ee("stepName",Ie);function U(){let N=P.getters["entities/getBookableFromBookableEntities"](P.getters["booking/getSelection"]),S=N.settings?JSON.parse(N.settings):d;"general"in S&&"redirectUrlAfterAppointment"in S.general&&S.general.redirectUrlAfterAppointment?window.location.href=S.general.redirectUrlAfterAppointment:d.general.redirectUrlAfterAppointment?window.location.href=d.general.redirectUrlAfterAppointment:window.location.reload()}function B(){if(Ie.value&&Ie.value==="CongratulationsStep")U();else{if(Ie.value&&Ie.value==="DateTimeStep"){let N=Fa(P);N&&console.log(N)}P.commit("booking/setEmployeeId",null),P.commit("booking/setLocationId",null),P.commit("entities/setPreselected",P.getters["entities/getOriginalPreselected"])}We.value="760px"}let $=g(!1);function W(N,S){let f="";return N>1?(S==="day"&&(f=v.value.expires_days),S==="week"&&(f=v.value.expires_weeks),S==="month"&&(f=v.value.expires_months)):(S==="day"&&(f=v.value.expires_day),S==="week"&&(f=v.value.expires_week),S==="month"&&(f=v.value.expires_month)),f}let Le=p(()=>Object.keys(T.value).length===0||Q.value.length===0),we=w("amColors"),qe=p(()=>({"--am-c-fcis-success-op20":K(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":K(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":K(we.value.colorMainText,.8),"--am-c-fcis-text-op03":K(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":K(we.value.colorBtnSec,.5)})),De=p(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":K(we.value.colorPrimary,.3),"--am-c-scroll-op10":K(we.value.colorPrimary,.1),"--am-font-family":V.fontFamily}));return(N,S)=>e(te)?(t(),i(H,{key:0},[e(Le)?c("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:ve,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(se)?"":"no-scroll"}`,style:oe(e(qe))},{header:I(()=>[M(Rt,{"btn-string":e(v).back_btn,"btn-type":e(h).backBtn.buttonType,"back-btn-visibility":e(Ne),"cart-btn-visibility":e(j),"cart-items-number":e(de),role:"navigation","aria-label":"Navigation Controls",onGoBack:F,onGoToCart:ce},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:I(()=>[a("div",{class:D([[{"am-tablet":e(E)<=678},{"am-mobile":e(E)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",sl,[a("span",ll,l(e(T).name),1),e(h).serviceBadge.visibility?(t(),i("div",ol,[nl,a("span",null,l(e(v).heading_service),1)])):c("",!0)]),a("div",cl,[e(h).servicePrice.visibility?(t(),i("span",rl,l(e(nt)(e(L),e(T).id).min||e(nt)(e(L),e(T).id).max?e(nt)(e(L),e(T).id).price:e(v).free),1)):c("",!0),(e(h).tax?.visibility??!0)&&e(pt)(e(P),e(T).id,"service")?(t(),i("span",ul,[e(d).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(v).incl_tax),1)],64))])):c("",!0),a("span",ml,[M(ze,{type:e(h).bookingBtn.buttonType,onClick:A},{default:I(()=>[ue(l(e(v).book_now),1)]),_:1},8,["type"])])])],2),e(h).serviceCategory.visibility||e(h).serviceDuration.visibility||e(h).serviceCapacity.visibility||e(h).serviceLocation.visibility?(t(),i("div",dl,[a("div",pl,[e(h).serviceCategory.visibility&&e(ke)?(t(),i("div",_l,[vl,a("span",null,l(e(ke).name),1)])):c("",!0),e(h).serviceDuration.visibility?(t(),i("div",fl,[gl,a("span",null,l(e(Zt)(e(T).duration)),1)])):c("",!0),e(h).serviceCapacity.visibility&&!e(Y).isLite?(t(),i("div",yl,[hl,a("span",null,l(e(Kt)(e(L),e(T).id)),1)])):c("",!0),e(tt)(e(L),e(T).id).length&&e(h).serviceLocation.visibility&&!e(Y).isLite&&!e(Y).isStarter?(t(),i("div",bl,[kl,a("span",null,l(fe(e(L),e(T).id)),1)])):c("",!0)])])):c("",!0)]),content:I(()=>[e(T).gallery.length?(t(),i("div",Cl,[a("div",{class:D(["am-fcis__gallery-hero",[{w100:e(T).gallery.length===1},{"am-mobile w100":e(E)<678}]]),style:oe({backgroundImage:`url(${e(T).gallery[0].pictureFullPath})`})},null,6),e(pe).length&&e(E)>677?(t(),i("div",$l,[(t(!0),i(H,null,ge(e(pe),(f,_)=>(t(),i("div",{key:_,class:D(["am-fcis__gallery-thumb",{"am-one-thumb":e(pe).length===1}]),style:oe({backgroundImage:`url(${f.pictureFullPath})`})},null,6))),128))])):c("",!0),M(ze,{"custom-class":`am-fcis__gallery-btn${e(E)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:S[0]||(S[0]=()=>re($)?$.value=!0:$=!0)},{default:I(()=>[ue(l(e(v).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),M(rt,{modelValue:e($),"onUpdate:modelValue":S[4]||(S[4]=f=>re($)?$.value=f:$=f),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:I(()=>[a("div",{class:"am-gd",style:oe(e(De))},[a("div",wl,[a("div",Sl,[a("span",{class:"am-icon-arrow-left",onClick:S[1]||(S[1]=()=>re(m)?m.value=e(m)<=0?e(T).gallery.length-1:e(m)-1:m=e(m)<=0?e(T).gallery.length-1:e(m)-1)}),a("span",{class:"am-icon-arrow-right",onClick:S[2]||(S[2]=()=>re(m)?m.value=e(T).gallery.length-1===e(m)?0:e(m)+1:m=e(T).gallery.length-1===e(m)?0:e(m)+1)})]),(t(!0),i(H,null,ge(e(T).gallery,(f,_)=>(t(),i("div",{key:_,class:"am-gd__display",style:oe({display:_===e(m)?"flex":"none"}),onClick:S[3]||(S[3]=()=>re(m)?m.value=e(T).gallery.length-1===e(m)?0:e(m)+1:m=e(T).gallery.length-1===e(m)?0:e(m)+1)},[a("img",{src:f.pictureFullPath,alt:_},null,8,xl)],4))),128))]),a("div",Il,l(`${e(m)+1}/${e(T).gallery.length}`),1),a("div",Dl,[(t(!0),i(H,null,ge(e(T).gallery,(f,_)=>(t(),i("div",{key:_,class:D(["am-gd__thumb",{"am-active":_===e(m)}]),style:oe({backgroundImage:`url(${f.pictureFullPath})`}),onClick:()=>re(m)?m.value=_:m=_},null,14,Pl))),128))])],4)]),_:1},8,["modelValue"]),e(h).serviceDescription.visibility&&e(Ve)(e(T).description)||e(h).serviceEmployees.visibility?(t(),i("div",Tl,[a("div",Ll,[e(Ve)(e(T).description)&&e(h).serviceDescription.visibility?(t(),i("div",{key:0,class:D(["am-fcis__info-tab",{"am-active":e(X)==="description"}]),onClick:S[5]||(S[5]=()=>re(X)?X.value="description":X="description")},l(e(v).about_service),3)):c("",!0),e(h).serviceEmployees.visibility&&!e(Y).isLite?(t(),i("div",{key:1,class:D([{"am-active":e(X)==="employees"},"am-fcis__info-tab"]),onClick:S[6]||(S[6]=()=>re(X)?X.value="employees":X="employees")},l(e(v).tab_employees),3)):c("",!0)]),a("div",Bl,[e(Ve)(e(T).description)&&e(h).serviceDescription.visibility?It((t(),i("div",El,[a("div",{class:D(["am-fcis__info-service__desc",{"ql-description":e(T).description.includes("<!-- Content -->")}]),innerHTML:e(T).description},null,10,zl)],512)),[[Dt,e(X)==="description"]]):c("",!0),e(h).serviceEmployees.visibility?It((t(),i("div",Fl,[M(St,null,{default:I(()=>[(t(!0),i(H,null,ge(e(Q),f=>(t(),he(xt,{key:f.id,side:""},{heading:I(()=>[a("div",{class:D([{"am-mobile":e(E)<451},"am-fcis__info-employee"])},[a("div",Al,[M(ct,{"item-class":"am-fcis__info-employee__img","item-data":f,"trim-string":3},null,8,["item-data"]),a("div",Nl,[a("div",Vl,[ue(l(f.firstName)+" "+l(f.lastName)+" ",1),f.badge?(t(),i("span",{key:0,style:oe({background:f.badge.color}),class:"am-fcis__info-employee__badge"},l(f.badge.content),5)):c("",!0)]),Te(f)&&e(h).serviceEmployeePrice.visibility?(t(),i("div",Ml,l(Te(f)),1)):c("",!0)])])],2)]),default:I(()=>[e(Ve)(f.description)?(t(),i("div",{key:0,class:D(["am-fcis__info-employee__description",{"ql-description":f.description.includes("<!-- Content -->")}]),innerHTML:f.description},null,10,Ol)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Dt,e(X)==="employees"]]):c("",!0)])])):c("",!0),e(R).length&&e(Z).show!=="services"&&e(h).servicePackages.visibility&&!e(Ue)(e(P))?(t(),i("div",Ul,[a("div",Wl,[a("span",Rl,l(e(v).service_available_in_package),1),e(R).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:S[7]||(S[7]=()=>re(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(H,{key:1},[ue(l(e(v).less_packages),1)],64)):(t(),i(H,{key:0},[ue(l(e(v).more_packages),1)],64))])):c("",!0)]),(t(!0),i(H,null,ge(e(Me),f=>(t(),i("div",{key:f.id,class:"am-fcis__include",onClick:_=>Re(f)},[a("div",jl,[e(E)>450?(t(),he(ct,{key:0,"item-class":"am-fcis__include-img","item-data":f,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:D([{"am-mobile":e(E)<451},"am-fcis__include-text"])},[a("div",{class:D(["am-fcis__include-header",{"am-mobile":e(E)<600}])},[a("div",{class:D(["am-fcis__include-name",{"am-mobile":e(E)<600}])},l(f.name),3),e(h).packagePrice.visibility?(t(),i("div",ql,[f.discount?(t(),i("span",Gl,l(`${e(v).save} ${f.discount}%`),1)):c("",!0),a("span",Jl,l(f.price?e(dt)(e(Wt)(f)):e(v).free),1),(e(h).tax?.visibility??!0)&&e(pt)(e(P),f.id,"package")?(t(),i("span",Yl,[e(d).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(v).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",Ql,[e(h).packageCategory.visibility&&e(ke)?(t(),i("div",Xl,[Zl,a("span",null,l(e(ke).name),1)])):c("",!0),e(h).packageDuration.visibility?(t(),i("div",Kl,[eo,f.endDate?(t(),i("span",to,l(`${e(v).expires_at} ${f.endDate.split(" ")[0]}`),1)):f.durationCount?(t(),i("span",ao,l(`${e(v).expires_after} ${f.durationCount} ${W(f.durationCount,f.durationType)}`),1)):(t(),i("span",io,l(e(v).without_expiration),1))])):c("",!0),e(h).packageCapacity.visibility?(t(),i("div",so,no)):c("",!0),e(h).packageLocation.visibility&&e(k).length?(t(),i("div",co,[ro,a("span",null,l(e(k).length===1?e(k)[0].address?e(k)[0].address:e(k)[0].name:e(v).multiple_locations),1)])):c("",!0),e(h).packageServices.visibility?(t(),i("div",uo,[a("span",null,l(`${e(v).in_package}:`),1),(t(!0),i(H,null,ge(f.bookable,_=>(t(),i("span",{key:_.id},l(_.service.name),1))),128))])):c("",!0)])],2)])],8,Hl))),128))])):c("",!0),M(rt,{modelValue:e(me),"onUpdate:modelValue":S[9]||(S[9]=f=>re(me)?me.value=f:me=f),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(We),onClosed:B},{default:I(()=>[M(jt,{"show-cart":e(r),onAddToCart:Ee,onEmptiedCart:S[8]||(S[8]=f=>re(me)?me.value=!1:me=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Le)?(t(),i("div",mo,[a("img",{src:e(O).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(Z).show!=="packages"?e(v).no_services_employees:e(v).no_package_services},null,8,po),a("div",_o,l(e(v).oops),1),a("div",vo,l(e(Z).show!=="packages"?e(v).no_services_employees:e(v).no_package_services),1),a("div",fo,[e(Z).show!=="packages"?(t(),i("span",go,l(e(v).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",yo,l(e(v).add_services_url)+"\xA0 ",1),e(Z).show!=="packages"?(t(),i("span",ho,l(e(v).and)+"\xA0 ",1)):c("",!0),e(Z).show!=="packages"?(t(),i("a",bo,l(e(v).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const $o={class:"am-fcip__header-text"},wo={class:"am-fcip__header-name",role:"heading","aria-level":"1"},So={key:0,class:"am-fcip__badge am-package"},xo=a("span",{class:"am-icon-shipment"},null,-1),Io={class:"am-fcip__header-action"},Do={key:0,class:"am-fcip__header-discount"},Po={key:1,class:"am-fcip__header-price"},To={key:2,class:"am-fcip__header-tax"},Lo={class:"am-fcip__header-btn"},Bo={key:0,class:"am-fcip__header-bottom"},Eo={class:"am-fcip__mini-info"},zo={key:0,class:"am-fcip__mini-info__inner"},Fo=a("span",{class:"am-icon-folder"},null,-1),Ao={key:1,class:"am-fcip__mini-info__inner"},No=a("span",{class:"am-icon-clock"},null,-1),Vo={key:0},Mo={key:1},Oo={key:2},Uo={key:2,class:"am-fcip__mini-info__inner"},Wo=a("span",{class:"am-icon-user"},null,-1),Ro=a("span",null,"1/1",-1),Ho=[Wo,Ro],jo={key:3,class:"am-fcip__mini-info__inner"},qo=a("span",{class:"am-icon-locations"},null,-1),Go={key:0,class:"am-fcip__gallery"},Jo={key:0,class:"am-fcip__gallery-thumb__wrapper"},Yo=a("span",{class:"am-icon-gallery"},null,-1),Qo={class:"am-gd__display-wrapper"},Xo={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Zo=["src","alt"],Ko={class:"am-gd__selection"},en={class:"am-gd__thumb-wrapper"},tn=["onClick"],an={key:1,class:"am-fcip__info"},sn={class:"am-fcip__info-tab__wrapper"},ln={class:"am-fcip__info-content__wrapper"},on={key:0,class:"am-fcip__info-content"},nn=["innerHTML"],cn={key:1,class:"am-fcip__info-content"},rn={class:"am-fcip__info-employee"},un={class:"am-fcip__info-employee__hero"},mn={class:"am-fcip__info-employee__name"},dn=["innerHTML"],pn={key:2,class:"am-fcip__include-wrapper"},_n={class:"am-fcip__include-heading"},vn={class:"am-fcip__include-heading__text"},fn={class:"am-fcip__include-service"},gn={class:"am-fcip__include-service__info"},yn={key:0},hn=["innerHTML"],bn={class:"am-fcip__include-footer"},kn={class:"am-fcip__include-footer__text"},Cn={key:1,ref:"ameliaContainer",class:"am-empty"},$n=["src","alt"],wn={class:"am-empty__heading"},Sn={class:"am-empty__subheading"},xn={class:"am-empty__text"},In={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Dn={name:"CategoryPackage"},Pn=Object.assign(Dn,{setup(ye){let{previousPage:Y}=w("changingPageFunctions",{previousPage:()=>{}}),z=g(),te=w("containerWidth");const O=w("settings"),ve=w("baseUrls");let E=at();const d=w("shortcodeData"),V=p(()=>E.getters["entities/getPreselected"]);let le=g(V.value.package.length!==1),x=w("amEntities"),G=w("customizedDataForm"),v=p(()=>G.value.categoryPackage.options),m=p(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0),P=w("itemType"),L=w("categorySelected"),j=p(()=>x.value.categories.find(U=>U.id===L.value)),de=g(V.value.package.length!==1&&v.value.packageCategory.visibility&&j),o=p(()=>x.value.packages.find(U=>U.id===E.getters["booking/getPackageId"])),h=g(0),se=g("description"),J=p(()=>ea(x.value,o.value,d.value)),ne=p(()=>Vt(x.value,o.value,d.value)),ke=g(V.value.employee.length>0?x.value.unfilteredEmployees.filter(U=>V.value.employee.map(B=>parseInt(B)).includes(U.id)):x.value.unfilteredEmployees);function T(U){let B=[];return U.providers.length?U.providers.forEach($=>{ke.value.find(W=>W.id===parseInt($.id))&&B.push(ke.value.find(W=>W.id===parseInt($.id)))}):B=ke.value.filter($=>$.serviceList.find(W=>W.id===U.service.id)),B}Fe(()=>{v.value.packageDescription.visibility||(se.value="employees"),Ve(o.value.description)||(se.value="employees")});let fe=g(!1);Ot(()=>{fe.value=E.getters["entities/getEmployees"].length===0||J.value.length===0});let X=g(!1),Q=p(()=>{let U=o.value.gallery.length?JSON.parse(JSON.stringify(o.value.gallery)):[];return o.value.gallery.length===1?[]:(U.shift(),U.length>2&&U.splice(2,U.length-2),U)});function Te(){P.value="",xe(()=>{Y()})}let pe=g(!1),R=g("760px");ee("bookingDialogWidth",R);function Ce(){E.commit("booking/setPackageId",o.value.id),E.commit("booking/setMultipleAppointments",Pt(0,o.value)),E.commit("booking/setMultipleAppointmentsIndex",0),E.commit("booking/setBookableType","package"),xe(()=>{pe.value=!0})}w("restoreFormData").value&&Ce();let k=g("");ee("stepName",k);function F(){let U=E.getters["entities/getBookableFromBookableEntities"](E.getters["booking/getSelection"]),B=U.settings?JSON.parse(U.settings):O;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:O.general.redirectUrlAfterAppointment?window.location.href=O.general.redirectUrlAfterAppointment:window.location.reload()}function r(){k.value&&k.value==="CongratulationsStep"?F():E.commit("entities/setPreselected",E.getters["entities/getOriginalPreselected"]),R.value="760px"}let ce=w("amFonts");const Ee=w("labels"),me=w("localLanguage");let We=p(()=>O.general.usedLanguages.includes(me.value)),A=p(()=>{let U=_t({...Ee});if(O.customizedData&&O.customizedData.cbf&&O.customizedData.cbf.categoryPackage.translations){let B=O.customizedData.cbf.categoryPackage.translations;Object.keys(B).forEach($=>{B[$][me.value]&&We.value?U[$]=B[$][me.value]:B[$].default&&(U[$]=B[$].default)})}return U});function Ae(U){return U.length===1||U.length&&U.every(B=>B.id===U[0].id)?U[0].address?U[0].address:U[0].name:A.value.multiple_locations}function Re(U,B){let $="";return U>1?(B==="day"&&($=A.value.expires_days),B==="week"&&($=A.value.expires_weeks),B==="month"&&($=A.value.expires_months)):(B==="day"&&($=A.value.expires_day),B==="week"&&($=A.value.expires_week),B==="month"&&($=A.value.expires_month)),$}let Z=w("amColors"),Ne=p(()=>({"--am-c-fcip-success-op20":K(Z.value.colorSuccess,.2),"--am-c-fcip-primary-op20":K(Z.value.colorPrimary,.2),"--am-c-fcip-text-op80":K(Z.value.colorMainText,.8),"--am-c-fcip-text-op60":K(Z.value.colorMainText,.6),"--am-c-fcip-text-op03":K(Z.value.colorMainText,.03),"--am-c-fcip-btn-op50":K(Z.value.colorBtnSec,.5)})),Ie=p(()=>({"--am-c-fcip-bgr":Z.value.colorMainBgr,"--am-c-fcip-text":Z.value.colorMainText,"--am-c-fcip-success":Z.value.colorSuccess,"--am-c-fcip-primary":Z.value.colorPrimary,"--am-c-scroll-op30":K(Z.value.colorPrimary,.3),"--am-c-scroll-op10":K(Z.value.colorPrimary,.1),"--am-font-family":ce.fontFamily}));return(U,B)=>(t(),i(H,null,[e(fe)?c("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:z,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(m)?"":"no-scroll"}`,style:oe(e(Ne))},Ut({heading:I(()=>[a("div",{class:D([[{"am-tablet":e(te)<=678},{"am-mobile":e(te)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",$o,[a("span",wo,[a("span",null,l(e(o).name),1)]),e(v).packageBadge.visibility?(t(),i("div",So,[xo,a("span",null,l(e(A).package),1)])):c("",!0)]),a("div",Io,[e(o).discount&&e(v).packagePrice.visibility?(t(),i("span",Do,l(`${e(A).save} ${e(o).discount}%`),1)):c("",!0),e(v).packagePrice.visibility?(t(),i("span",Po,l(e(o).price?e(dt)(e(Wt)(e(o))):e(A).free),1)):c("",!0),e(o).price&&(e(v).tax?.visibility??!0)&&e(pt)(e(E),e(o).id,"package")?(t(),i("span",To,[e(O).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(A).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(A).incl_tax),1)],64))])):c("",!0),a("span",Lo,[M(ze,{type:e(v).bookingBtn.buttonType,onClick:Ce},{default:I(()=>[ue(l(e(A).book_now),1)]),_:1},8,["type"])])])],2),e(v).packageCategory.visibility&&e(V).package.length!==1||e(v).packageDuration.visibility||e(v).packageCapacity.visibility||e(v).packageLocation.visibility&&e(ne).length?(t(),i("div",Bo,[a("div",Eo,[e(de)?(t(),i("div",zo,[Fo,a("span",null,l(e(j).name),1)])):c("",!0),e(v).packageDuration.visibility?(t(),i("div",Ao,[No,e(o).endDate?(t(),i("span",Vo,l(`${e(A).expires_at} ${e(o).endDate.split(" ")[0]}`),1)):e(o).durationCount?(t(),i("span",Mo,l(`${e(A).expires_after} ${e(o).durationCount} ${Re(e(o).durationCount,e(o).durationType)}`),1)):(t(),i("span",Oo,l(e(A).without_expiration),1))])):c("",!0),e(v).packageCapacity.visibility?(t(),i("div",Uo,Ho)):c("",!0),e(ne).length&&e(v).packageLocation.visibility?(t(),i("div",jo,[qo,a("span",null,l(Ae(e(ne))),1)])):c("",!0)])])):c("",!0)]),content:I(()=>[e(o).gallery.length?(t(),i("div",Go,[a("div",{class:D(["am-fcip__gallery-hero",[{w100:e(o).gallery.length===1},{"am-mobile w100":e(te)<678}]]),style:oe({backgroundImage:`url(${e(o).gallery[0].pictureFullPath})`})},null,6),e(Q).length&&e(te)>677?(t(),i("div",Jo,[(t(!0),i(H,null,ge(e(Q),($,W)=>(t(),i("div",{key:W,class:D(["am-fcip__gallery-thumb",{"am-one-thumb":e(Q).length===1}]),style:oe({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):c("",!0),M(ze,{"custom-class":`am-fcip__gallery-btn${e(te)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>re(X)?X.value=!0:X=!0)},{default:I(()=>[Yo,a("span",null,l(e(A).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),M(rt,{modelValue:e(X),"onUpdate:modelValue":B[4]||(B[4]=$=>re(X)?X.value=$:X=$),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:I(()=>[a("div",{class:"am-gd",style:oe(e(Ie))},[a("div",Qo,[a("div",Xo,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>re(h)?h.value=e(h)<=0?e(o).gallery.length-1:e(h)-1:h=e(h)<=0?e(o).gallery.length-1:e(h)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>re(h)?h.value=e(o).gallery.length-1===e(h)?0:e(h)+1:h=e(o).gallery.length-1===e(h)?0:e(h)+1)})]),(t(!0),i(H,null,ge(e(o).gallery,($,W)=>(t(),i("div",{key:W,class:"am-gd__display",style:oe({display:W===e(h)?"flex":"none"}),onClick:B[3]||(B[3]=()=>re(h)?h.value=e(o).gallery.length-1===e(h)?0:e(h)+1:h=e(o).gallery.length-1===e(h)?0:e(h)+1)},[a("img",{src:$.pictureFullPath,alt:W},null,8,Zo)],4))),128))]),a("div",Ko,l(`${e(h)+1}/${e(o).gallery.length}`),1),a("div",en,[(t(!0),i(H,null,ge(e(o).gallery,($,W)=>(t(),i("div",{key:W,class:D(["am-gd__thumb",{"am-active":W===e(h)}]),style:oe({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>re(h)?h.value=W:h=W},null,14,tn))),128))])],4)]),_:1},8,["modelValue"]),e(v).packageDescription.visibility&&e(Ve)(e(o).description)||e(v).packageEmployees.visibility?(t(),i("div",an,[a("div",sn,[e(Ve)(e(o).description)&&e(v).packageDescription.visibility?(t(),i("div",{key:0,class:D(["am-fcip__info-tab",{"am-active":e(se)==="description"}]),onClick:B[5]||(B[5]=()=>re(se)?se.value="description":se="description")},l(e(A).about_package),3)):c("",!0),e(v).packageEmployees.visibility?(t(),i("div",{key:1,class:D([{"am-active":e(se)==="employees"},"am-fcip__info-tab"]),onClick:B[6]||(B[6]=()=>re(se)?se.value="employees":se="employees")},l(e(A).tab_employees),3)):c("",!0)]),a("div",ln,[e(Ve)(e(o).description)&&e(v).packageDescription.visibility?It((t(),i("div",on,[a("div",{class:D(["am-fcip__info-service__desc",{"ql-description":e(o).description.includes("<!-- Content -->")}]),innerHTML:e(o).description},null,10,nn)],512)),[[Dt,e(se)==="description"]]):c("",!0),e(v).packageEmployees.visibility?It((t(),i("div",cn,[M(St,null,{default:I(()=>[(t(!0),i(H,null,ge(e(J),$=>(t(),he(xt,{key:$.id,side:""},{heading:I(()=>[a("div",rn,[a("div",un,[M(ct,{"item-class":"am-fcip__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),a("div",mn,[ue(l($.firstName)+" "+l($.lastName)+" ",1),$.badge?(t(),i("span",{key:0,style:oe({background:$.badge.color}),class:"am-fcip__info-employee__badge"},l($.badge.content),5)):c("",!0)])])])]),default:I(()=>[e(Ve)($.description)?(t(),i("div",{key:0,class:D(["am-fcip__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,dn)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Dt,e(se)==="employees"]]):c("",!0)])])):c("",!0),e(v).packageServices.visibility?(t(),i("div",pn,[a("div",_n,[a("span",vn,l(`${e(A).package_includes}:`),1)]),M(St,null,{default:I(()=>[(t(!0),i(H,null,ge(e(o).bookable,$=>(t(),he(xt,{key:$.id,side:!0},{heading:I(()=>[a("div",fn,[M(ct,{"item-class":"am-fcip__include-service__img","item-data":$.service},null,8,["item-data"]),ue(" "+l($.service.name+(e(o).sharedCapacity?"":" x"+$.quantity)),1)])]),default:I(()=>[a("div",gn,[a("span",null,l(`${e(A).tab_employees}:`),1),(t(!0),i(H,null,ge(T($).slice(0,6),W=>(t(),he(ct,{key:W.id,"item-class":"am-fcip__include-service__info-name","item-data":W,"trim-string":3},null,8,["item-data"]))),128)),T($).length>6?(t(),i("span",yn," + "+l(T($).length-6),1)):c("",!0),e(Ve)($.service.description)?(t(),i("div",{key:1,class:D(["am-fcip__include-service__info-description",{"ql-description":$.service.description.includes("<!-- Content -->")}]),innerHTML:$.service.description},null,10,hn)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",bn,[a("span",kn,l(e(A).package_book_service),1)])])):c("",!0),M(rt,{modelValue:e(pe),"onUpdate:modelValue":B[7]||(B[7]=$=>re(pe)?pe.value=$:pe=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(R),onClosed:r},{default:I(()=>[M(jt)]),_:1},8,["modelValue","width"])]),_:2},[e(le)?{name:"header",fn:I(()=>[M(Rt,{"btn-string":e(A).back_btn,"btn-type":e(v).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:Te},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(fe)?(t(),i("div",Cn,[a("img",{src:e(ve).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(A).no_package_services},null,8,$n),a("div",wn,l(e(A).oops),1),a("div",Sn,l(e(A).no_package_services),1),a("div",xn,[a("a",In,l(e(A).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const Tn={name:"CatalogSkeleton"},Ln=Object.assign(Tn,{setup(ye){let Y=g(null),z=g(0);window.addEventListener("resize",te);function te(){Y.value&&(z.value=Y.value.offsetWidth)}Fe(()=>{Y.value&&(z.value=Y.value.offsetWidth)});let O=p(()=>z.value<=500?"am-w100":z.value<=600?"am-w50":z.value<=768?"am-w33":"");return(ve,E)=>{const d=Na,V=Aa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:Y,class:"am-skeleton-catalog__wrapper"},[M(V,{animated:"",class:"am-skeleton-catalog"},{template:I(()=>[(t(!0),i(H,null,ge(new Array(8),le=>(t(),i("div",{key:le,class:D(["am-skeleton-catalog__item",e(O)])},[M(d,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Bn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),En=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),zn=["href"],Fn={name:"CatalogFormWrapper"},An=Object.assign(Fn,{setup(ye){let Y=w("licence"),z=g(null),te=g(20);const O=w("baseUrls");let ve=g(0);ee("containerWidth",ve),window.addEventListener("resize",E);function E(){z.value&&(ve.value=z.value.offsetWidth)}Fe(()=>{x.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+le.value.counter).classList.add("amelia-v2-booking-"+le.value.counter+"-loaded"),mt(x,{},"ViewContent","appointment",null,null),E(),Yt("scrollForm",{offsetFromTop:te})});let d=g(!1);const V=w("settings"),le=w("shortcodeData"),x=at();x.commit("entities/setPreselected",le.value),x.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:Y,loadEntities:le.value.hasApiCall||le.value.in_dialog,showHidden:!1,isPanel:!1});const G=Se(hi),v=Se(il),m=Se(Co),P=Se(Pn);let L=g([G,v]),j=g(0),de=g(null);ee("categorySelected",de);let o=g([]);ee("availableCategories",o);let h=g("");ee("itemType",h),wt(h,()=>{h.value==="appointment"&&L.value.push(m),h.value==="package"&&L.value.push(P),h.value===""&&L.value.forEach((F,r)=>{F.name==="CategoryService"&&se(L.value,r),F.name==="CategoryPackage"&&se(L.value,r)})});function se(F,r){F.splice(r,1)}function J(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ne(){if(j.value=j.value+1,J())setTimeout(()=>{let F=z.value.getBoundingClientRect().top+window.pageYOffset-te.value;window.scrollTo({top:F,behavior:"smooth"})},500);else{let F=z.value.getBoundingClientRect().top+window.pageYOffset-te.value;window.scrollTo({top:F,behavior:"smooth"})}}function ke(){j.value=j.value-1}ee("changingPageFunctions",{nextPage:ne,previousPage:ke});let T=p(()=>x.getters["entities/getReady"]),fe=p(()=>x.state.entities);ee("amEntities",fe);function X(){let F=x.getters["entities/getPreselected"];if(F.category.length!==1&&(le.value.categories_hidden&&(o.value=JSON.parse(JSON.stringify(Ct(fe.value,le.value))),xe(()=>{let r=L.value.findIndex(ce=>ce.name==="CategoriesList");L.value.splice(r,1)})),le.value.categories_hidden||(o.value=JSON.parse(JSON.stringify(Ct(fe.value,le.value))),xe(()=>{if(o.value.length===1){x.commit("booking/setCategoryId",parseInt(o.value[0].id)),de.value=parseInt(o.value[0].id);let r=L.value.findIndex(ce=>ce.name==="CategoriesList");L.value.splice(r,1)}}))),F.category.length===1&&(x.commit("booking/setCategoryId",parseInt(F.category)),de.value=parseInt(F.category[0]),o.value=JSON.parse(JSON.stringify(Ct(fe.value,le.value).filter(r=>r.id===parseInt(F.category[0])))),xe(()=>{let r=L.value.findIndex(ce=>ce.name==="CategoriesList");L.value.splice(r,1)})),F.service.length===1){x.commit("booking/setServiceId",parseInt(F.service[0]));let r=x.getters["entities/getService"](parseInt(F.service[0]));de.value=r?parseInt(r.categoryId):null,x.commit("booking/setCategoryId",r?parseInt(r.categoryId):null),xe(()=>{L.value=[],L.value.push(m)})}F.employee.length===1&&x.commit("booking/setEmployeeId",parseInt(F.employee[0])),F.location.length===1&&x.commit("booking/setLocationId",parseInt(F.location[0])),F.package.length===1&&x.getters["entities/getPackages"].length&&(L.value=[],x.commit("booking/setPackageId",parseInt(F.package[0])),xe(()=>{L.value.push(P)})),F.show==="packages"?x.commit("booking/setBookableType","package"):x.commit("booking/setBookableType","appointment")}let Q=p(()=>T.value?Ma(x,le.value):null);ee("restoreFormData",Q),wt(T,F=>{F&&(X(),d.value=x.getters["entities/getServices"].length===0||x.getters["entities/getEmployees"].length===0,Q.value&&(h.value=x.state.booking.appointment.type,xe(()=>{j.value=L.value.length-1,de.value=x.state.booking.appointment.categoryId})))});let Te=p(()=>V.customizedData&&"cbf"in V.customizedData?V.customizedData.cbf:ot.cbf);ee("customizedDataForm",Te);const pe=g(V.customizedData?V.customizedData.fonts:ot.fonts);ee("amFonts",pe);let R=p(()=>V.customizedData&&"cbf"in V.customizedData?V.customizedData.cbf.colors:ot.cbf.colors);ee("amColors",R);let Ce=p(()=>({"--am-c-primary":R.value.colorPrimary,"--am-c-success":R.value.colorSuccess,"--am-c-error":R.value.colorError,"--am-c-warning":R.value.colorWarning,"--am-c-main-bgr":R.value.colorMainBgr,"--am-c-main-heading-text":R.value.colorMainHeadingText,"--am-c-main-text":R.value.colorMainText,"--am-c-sb-bgr":R.value.colorSbBgr,"--am-c-sb-text":R.value.colorSbText,"--am-c-inp-bgr":R.value.colorInpBgr,"--am-c-inp-border":R.value.colorInpBorder,"--am-c-inp-text":R.value.colorInpText,"--am-c-inp-placeholder":R.value.colorInpPlaceHolder,"--am-c-drop-bgr":R.value.colorDropBgr,"--am-c-drop-text":R.value.colorDropText,"--am-c-card-bgr":R.value.colorCardBgr,"--am-c-card-text":R.value.colorCardText,"--am-c-card-border":R.value.colorCardBorder,"--am-c-btn-prim":R.value.colorBtnPrim,"--am-c-btn-prim-text":R.value.colorBtnPrimText,"--am-c-btn-sec":R.value.colorBtnSec,"--am-c-btn-sec-text":R.value.colorBtnSecText,"--am-c-skeleton-op20":K(R.value.colorMainText,.2),"--am-c-skeleton-op60":K(R.value.colorMainText,.6),"--am-font-family":pe.value.fontFamily}));function Me(){let F=document.head||document.getElementsByTagName("head")[0];F.querySelector("#amCustomFont")&&F.querySelector("#amCustomFont").remove();let r=`@font-face {font-family: '${pe.value.fontFamily}'; src: url(${pe.value.fontUrl});}`,ce=document.createElement("style");F.appendChild(ce),ce.setAttribute("type","text/css"),ce.setAttribute("id","amCustomFont"),ce.appendChild(document.createTextNode(r))}pe.value.customFontSelected&&Me();let k=p(()=>({colorInputBorderRadius:"6px"}));return ee("amDesignProperties",k),(F,r)=>(t(),i(H,null,[pe.value.customFontSelected?c("",!0):(t(),i(H,{key:0},[Bn,En,a("link",{rel:"stylesheet",type:"text/css",href:`${e(O).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,zn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:z,class:"am-fc__wrapper",style:oe(e(Ce))},[e(T)&&e(L).length?(t(),he(Qt(e(L)[e(j)]),{key:0})):(t(),he(Ln,{key:1}))],4),M(e(Va))],64))}});var Vn=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"}));export{Vn as C,Xa as _,Rt as a,ct as b,Ht as c,An as d};
