import{o as t,c as i,n as O,d as Ht,u as et,a,b as e,e as ye,w as N,f as me,t as l,_ as Ae,g as r,h as J,i as At,j as z,k as h,l as ae,F as Z,r as ge,m as re,p as w,q as Se,s as Re,v as ht,x as qt,y as tt,z as Ze,I as da,A as pt,B as se,C as lt,D as kt,E as we,G as ma,H as pa,J as _a,K as va,L as fa,M as ga,N as ya,O as ha,P as ba,Q as ka,R as Ca,S as $a,T as wa,U as Sa,V as Ge,W as Tt,X as xa,Y as Pt,Z as Rt,$ as mt,a0 as Gt,a1 as Pa,a2 as Ia,a3 as Yt,a4 as Ve,a5 as Je,a6 as Ea,a7 as Da,a8 as de,a9 as La,aa as Mt,ab as Ta,ac as Qt,ad as Ba,ae as Fa,af as Xt,ag as za,ah as Aa,ai as Bt,aj as Ct,ak as ct,al as Ft,am as Ot,an as _t,ao as $t,ap as Me,aq as wt,ar as St,as as Ra,at as Ma,au as Oa,av as Na,aw as Va,ax as Ua}from"./stepForm.55ab4bc3.js";const Wa={name:"IconComponent"},xt=Object.assign(Wa,{props:{icon:{type:String,required:!0}},setup(v){return(B,f)=>(t(),i("span",{class:O(`am-icon-${v.icon}`)},null,2))}});const ja={class:"am-cat__header-inner"},Ha={class:"am-cat__back-btn"},qa={key:0,class:"am-cat__cart-btn"},Ga={class:"am-cat__cart-number"},Ja={name:"MainHeader"},Nt=Object.assign(Ja,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(v,{emit:B}){const f=v;let S=Ht({components:{IconComponent:xt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=Ht({components:{IconComponent:xt},template:'<IconComponent icon="cart"/>'});function T(){B("goBack")}const u=et();function s(){At(u),B("goToCart")}return(d,b)=>(t(),i("div",ja,[a("div",Ha,[e(f).backBtnVisibility?(t(),ye(Ae,{key:0,prefix:e(S),category:"secondary",type:v.btnType,size:v.btnSize,onClick:T},{default:N(()=>[me(l(e(f).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(f).cartBtnVisibility?(t(),i("div",qa,[a("span",Ga,l(e(f).cartItemsNumber),1),J(Ae,{category:"secondary",type:v.btnType,size:v.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const Ya={class:"am-cat__sidemenu-item__wrapper"},Qa=["onClick"],Xa={key:0,class:"am-cat__sidemenu-footer"},Za={class:"am-cat__sidemenu-footer__text"},Ka=["href"],ei={name:"SideMenu"},ti=Object.assign(ei,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(v,{emit:B}){const f=v;function S(u){B("click",u)}let C=z("amColors"),T=h(()=>({"--am-c-csm-text-op10":ae(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(C.value.colorSbText,.6),"--am-c-csm-text-op80":ae(C.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(T))},[a("div",Ya,[(t(!0),i(Z,null,ge(v.menuItems,(d,b)=>(t(),i("div",{key:b,class:O(["am-cat__sidemenu-item",{"am-active":e(f).initSelection===d[e(f).identifier]}]),onClick:()=>S(d)},l(d[e(f).nameIdentifier]),11,Qa))),128))]),e(f).companyEmail?(t(),i("div",Xa,[a("span",Za,l(e(f).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(f).companyEmail}`},l(e(f).companyEmail),9,Ka)])):r("",!0)],4))}});const ai={name:"MainContent"},Vt=Object.assign(ai,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(v,{expose:B}){let f=w(null),S=w(0),C=w(null),T=w(0),u=w(null),s=w(0),d=w(null),b=w(null),D=w(0);window.addEventListener("resize",k);function k(){Se(()=>{f.value&&(S.value=f.value.offsetWidth),C.value&&(T.value=C.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Re(()=>{Se(()=>{if(u.value&&d.value){let U=u.value.offsetHeight-d.value.offsetHeight-2;D.value=U<=656?656:U}k()})}),B({catHeaderWidth:S,catFormWidth:s,catContainerWidth:T});let x=z("amColors"),_=h(()=>({"--am-h-cat-content":`${D.value}px`,"--am-c-scroll-op30":ae(x.value.colorPrimary,.3),"--am-c-scroll-op10":ae(x.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:O(["am-cat__wrapper",v.wrapperClass])},[a("div",{ref_key:"catHeader",ref:f,class:"am-cat__header"},[ht(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[ht(U.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:O(["am-cat__form",v.formClass]),style:re(e(_))},[a("div",{ref_key:"catHeading",ref:d,class:O(["am-cat__heading",v.headingClass])},[ht(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:O(["am-cat__content",v.contentClass])},[ht(U.$slots,"content")],2)],6)],512)],2))}}),ii={name:"AmImagePlaceholder"},nt=Object.assign(ii,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(v){const B=v;function f(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${qt.value[Math.floor(Math.random()*qt.value.length)]}`}}function S(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,B.trimString).replace(/[^\w\s]/g,"")}return(C,T)=>(t(),i("span",{class:O(e(B).itemClass),style:re({...f(e(B).itemData)})},l(S(e(B).itemData)),7))}}),zt=tt(window.wpAmeliaSettings),Jt=tt(window.wpAmeliaLabels);function Zt(v,B,f,S=null,C=null){let T=[],u=v&&v.service?v.service.split(",").map(s=>parseInt(s)):null;return B&&B.serviceList.forEach(s=>{S?S in f.entitiesRelations&&s.id in f.entitiesRelations[S]&&(C?f.entitiesRelations[S][s.id].find(d=>d===C):!0)&&s.status==="visible"&&s.show&&!T.filter(d=>d===s.id).length&&(!u||u.includes(s.id))&&T.push(s.id):f.employees.forEach(d=>{d.id in f.entitiesRelations&&s.id in f.entitiesRelations[d.id]&&(C?f.entitiesRelations[d.id][s.id].find(b=>b===C):!0)&&s.status==="visible"&&s.show&&!T.filter(b=>b===s.id).length&&(!u||u.includes(s.id))&&T.push(s.id)})}),T}function Kt(v,B){let f=[],S=[];v.employees.forEach(u=>{if(u.id in v.entitiesRelations&&B in v.entitiesRelations[u.id]){let s=u.serviceList.find(d=>d.id===B);f.push(s.maxCapacity),S.push(s.minCapacity)}});let C=S.reduce((u,s)=>s<u?s:u,S[0]),T=f.reduce((u,s)=>s>u?s:u,f[0]);return C!==T?`${C}/${T}`:C}function ea(v){let B=Math.floor(v/3600),f=v/60%60;return(B?B+Jt.h+" ":"")+" "+(f?f+Jt.min:"")}function ot(v,B){let f=[];v.employees.forEach(T=>{if(T.id in v.entitiesRelations&&B in v.entitiesRelations[T.id]){let u=T.serviceList.find(s=>s.id===B);f.push(u.price)}});let S=f.reduce((T,u)=>u<T?u:T,f[0]),C=f.reduce((T,u)=>u>T?u:T,f[0]);return S!==C?{price:`${Ze(S,!zt.payments.hideCurrencySymbolFrontend)} - ${Ze(C,!zt.payments.hideCurrencySymbolFrontend)}`,min:S,max:C}:{price:Ze(S,zt.payments.hideCurrencySymbolFrontend),min:S,max:C}}function ze(v,B){let f=[];return v.employees.forEach(S=>{S.id in v.entitiesRelations&&B in v.entitiesRelations[S.id]&&v.entitiesRelations[S.id][B].length&&v.locations.forEach(C=>{v.entitiesRelations[S.id][B].some(T=>T===C.id)&&!f.find(T=>T===C.id)&&f.push(C)})}),f}function si(v,B){let f=[],S=Object.keys(v.entitiesRelations);return B.bookable.forEach(C=>{let T=[];S.forEach(u=>{v.entitiesRelations[u]&&v.entitiesRelations[u][C.service.id]&&!T.find(s=>s?s.id===parseInt(u):!0)&&T.push(v.employees.find(s=>s.id===parseInt(u)))}),T.length||f.push(!1)}),f.filter(C=>C===!1).length}function li(v,B,f){let S=[],C=Object.keys(v.entitiesRelations),T=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,u=w(T?v.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):v.unfilteredEmployees);return B.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(D=>{u.value.find(k=>k.id===b.id)&&v.entitiesRelations[b.id]&&v.entitiesRelations[b.id][s.service.id]&&v.entitiesRelations[b.id][s.service.id].indexOf(D.id)!==-1&&!d.find(k=>k.id===b.id)&&d.push(u.value.find(k=>k.id===b.id))}):u.value.find(D=>D.id===b.id)&&!d.find(D=>D.id===b.id)&&d.push(u.value.find(D=>D.id===b.id))}):C.forEach(b=>{s.locations.length?s.locations.forEach(D=>{v.entitiesRelations[b]&&v.entitiesRelations[b][s.service.id]&&v.entitiesRelations[b][s.service.id].indexOf(D.id)!==-1&&u.value.find(k=>k.id===parseInt(b))&&!d.find(k=>k.id===parseInt(b))&&d.push(u.value.find(k=>k.id===parseInt(b)))}):v.entitiesRelations[b]&&v.entitiesRelations[b][s.service.id]&&u.value.find(D=>D.id===parseInt(b))&&!d.find(D=>D.id===parseInt(b))&&d.push(u.value.find(D=>D.id===parseInt(b)))}),S.push(!!d.length)}),!S.filter(s=>s===!1).length}function ta(v,B,f){let S=[],C=Object.keys(v.entitiesRelations),T=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,u=w(T?v.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):v.unfilteredEmployees);return B.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(b=>{u.value.find(D=>D.id===d.id)&&v.entitiesRelations[d.id]&&v.entitiesRelations[d.id][s.service.id]&&v.entitiesRelations[d.id][s.service.id].indexOf(b.id)!==-1&&!S.find(D=>D.id===d.id)&&S.push(u.value.find(D=>D.id===d.id))}):u.value.find(b=>b.id===d.id)&&!S.find(b=>b.id===d.id)&&S.push(u.value.find(b=>b.id===d.id))}):C.forEach(d=>{s.locations.length?s.locations.forEach(b=>{v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id]&&v.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(D=>D.id===parseInt(d))&&!S.find(D=>D.id===parseInt(d))&&S.push(u.value.find(D=>D.id===parseInt(d)))}):v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id]&&u.value.find(b=>b.id===parseInt(d))&&!S.find(b=>b.id===parseInt(d))&&S.push(u.value.find(b=>b.id===parseInt(d)))})}),S}function st(v,B,f){let S=[],C=Object.keys(v.entitiesRelations),T=f&&f.location?f.location.split(",").map(s=>parseInt(s)):null,u=w(T?v.unfilteredLocations.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):v.unfilteredLocations);return B.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{u.value.find(b=>b.id===d.id)&&!S.find(b=>b.id===d.id)&&S.push(u.value.find(b=>b.id===d.id))}):C.forEach(d=>{u.value.forEach(b=>{d in v.entitiesRelations&&s.service.id in v.entitiesRelations[d]&&v.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(D=>D.id===b.id)&&!S.find(D=>D.id===parseInt(b.id))&&S.push(u.value.find(D=>D.id===b.id))})})}),S}function bt(v,B,f=null,S=null){let C=[];return v.categories.forEach(T=>{let u=Zt(B,T,v,f,S);T.serviceIdList=u,T.packageList=[],v.packages.forEach(s=>{u.forEach(d=>{s.bookable.filter(b=>b.service.id===d).length&&!T.packageList.filter(b=>b===s.id).length&&s.available&&s.status==="visible"&&!si(v,s)&&li(v,s,B)&&T.packageList.push(s.id)})}),T.status==="visible"&&T.serviceList.length&&!!u.length&&(B.show==="packages"?!!T.packageList.length:!0)&&C.push(T)}),C}const ni={class:"am-fcl__item-inner"},oi={class:"am-fcl__item-name"},ci={class:"am-fcl__item-segments"},ri={key:0,class:"am-fcl__item-segments__item"},ui=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),di={class:"am-fcl__item-segments__item-count"},mi={key:1,class:"am-fcl__item-segments__item"},pi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),_i={class:"am-fcl__item-segments__item-count"},vi={class:"am-fcl__item-footer"},fi=["src"],gi={class:"am-empty__heading"},yi={class:"am-empty__subheading"},hi={class:"am-empty__text"},bi={key:0},ki={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ci={key:1},$i={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},wi={name:"CategoriesList",key:"categoriesList"},Si=Object.assign(wi,{setup(v){const B=z("baseUrls");let f=w(null),S=w(0);window.addEventListener("resize",C);function C(){f.value&&(S.value=f.value.offsetWidth)}Re(()=>{f.value&&(S.value=f.value.offsetWidth)});let T=h(()=>S.value<=500?"am-w100":S.value<=600?"am-w50":S.value<=768?"am-w33":""),{nextPage:u}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let d=et(),b=z("amEntities"),D=z("customizedDataForm"),k=h(()=>D.value.categoriesList.options);const x=z("shortcodeData"),_=h(()=>d.getters["entities/getPreselected"]);let U=z("availableCategories"),te=h(()=>U.value),I=z("categorySelected");function F(he){I.value=he,d.commit("booking/setCategoryId",parseInt(he)),pt(d,{},"SelectCategory","appointment",null,null),u()}let c=h(()=>te.value.length===0);const H=z("labels"),ne=z("localLanguage");let G=h(()=>s.general.usedLanguages.includes(ne.value)),pe=h(()=>{let he=tt({...H});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let oe=s.customizedData.cbf.categoriesList.translations;Object.keys(oe).forEach(p=>{oe[p][ne.value]&&G.value?he[p]=oe[p][ne.value]:oe[p].default&&(he[p]=oe[p].default)})}return he}),Ce=z("amColors"),V=h(()=>({"--am-c-fcl-card-text-op80":ae(Ce.value.colorCardText,.8)}));return(he,oe)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:f,class:"am-empty"},[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,fi),a("div",gi,l(e(pe).oops),1),a("div",yi,l(e(_).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",hi,[e(_).show!=="packages"?(t(),i("span",bi,l(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",ki,l(e(pe).add_services_url)+"\xA0 ",1),e(_).show!=="packages"?(t(),i("span",Ci,l(e(pe).and)+"\xA0 ",1)):r("",!0),e(_).show!=="packages"?(t(),i("a",$i,l(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:f,class:"am-fcl",style:re(e(V))},[(t(!0),i(Z,null,ge(e(te),p=>(t(),i("div",{key:p.id,class:O(["am-fcl__item",e(T)])},[a("div",ni,[a("div",{class:"am-fcl__item-content",style:re(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:p.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ae)(p.color,.1)}:{})},[p.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${p.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",oi,l(p.name),1),a("div",ci,[(!e(_).show||e(_).show==="services")&&e(k).services.visibility?(t(),i("div",ri,[ui,a("span",di,l(e(Zt)(e(x),p,e(b)).length),1)])):r("",!0),(!e(_).show||e(_).show==="packages")&&p.packageList.length&&e(k).packages.visibility?(t(),i("div",mi,[pi,a("span",_i,l(p.packageList.length),1)])):r("",!0)])],4),a("div",vi,[J(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(da),onClick:fe=>F(p.id)},{default:N(()=>[me(l(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const xi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Pi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ii=["href"],Ei={class:"am-fs-sb__step-wrapper"},Di={class:"am-fs-sb__step-inner"},Li={class:"am-fs-sb__step-icon"},Ti={key:0,class:"am-icon-check"},Bi={key:0},Fi={key:1},zi={key:1},Ai={key:0,class:"am-fs-sb__step"},Ri={class:"am-fs-sb__step-inner"},Mi={class:"am-fs-sb__step-icon"},Oi={key:0,class:"am-icon-check"},Ni={key:0,class:"am-fs-sb__support"},Vi=["href"],Ui={key:1,class:"am-icon-phone"},Wi=["href"],ji={key:1,class:"am-icon-email"},Hi={key:0,class:"am-fs-sb__menu-text"},qi={key:2,class:"am-no-services"},Gi=["src"],Ji={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Yi={style:{"font-size":"14px"}},Qi={href:"https://wpamelia.com/employees/",rel:"nofollow"},Xi={name:"CategoryBooking"},Ut=Object.assign(Xi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(v,{emit:B}){const f=v;let S=w(null),C=w();se("containerWidth",C);let T=w(!1);window.addEventListener("resize",u);function u(){S.value&&(C.value=S.value.offsetWidth)}Re(()=>{Se(()=>{S.value&&(C.value=S.value.offsetWidth)}),pt(c,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=z("settings"),d=s.customizedData?s.customizedData.sbsNew:lt.sbsNew;d&&se("amCustomize",d);let b=h(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(o.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(o.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(o.email=d.sidebar.options.companyEmail.visibility),o});const D=w(s.customizedData?s.customizedData.fonts:lt.fonts);se("amFonts",D);let k=w(!1);se("sidebarCollapsed",k);let x=w(""),_=z("bookingDialogWidth");kt(k,o=>{o?setTimeout(()=>{x.value="am-collapsed",setTimeout(()=>{_.value="592px"},200)},1e3):(x.value="",_.value="760px")}),Re(()=>{d.sidebar.options.self.visibility||(_.value="520px")});let U=w(null),te=w(0);Re(()=>{setTimeout(()=>{Se(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let I=w(d.sidebar?d.sidebar.options.self.visibility:!0);const F=z("baseUrls"),c=et();let H=h(()=>{let o=c.getters["entities/getOriginalPreselected"],y={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(P=>{P in y||(y[P]=o[P])}),y});c.commit("entities/setPreselected",H.value);let ne=z("restoreFormData");const G=we(ma),pe=we(pa),Ce=we(_a),V=we(va),he=we(fa),oe=we(ga),p=we(ya),fe=we(ha),$e=we(ba),_e=we(ka),ve=we(Ca),ee=we($a),Le=we(wa),Te=we(Sa),m=w(Ge(c)?[G,oe,_e,ve,$e]:[G,oe,ve,$e]);se("stepsArray",m);const Y=z("labels"),q=z("localLanguage");let M=h(()=>s.general.usedLanguages.includes(q.value)),Be=Tt(c),ie=h(()=>{let o=tt({...Y});return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let P=s.customizedData.sbsNew[y].translations;Object.keys(P).forEach(Q=>{P[Q][q.value]&&M.value?o[Q]=P[Q][q.value]:P[Q].default&&(o[Q]=P[Q].default)})}}),o});se("amLabels",ie);let Ue=h(()=>{let o={};if(s.customizedData){let y=s.customizedData.sbsNew[m.value[$.value].key]?s.customizedData.sbsNew[m.value[$.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(P=>{y[P][q.value]&&M.value?o[P]=y[P][q.value]:y[P].default&&(o[P]=y[P].default)})}return Object.keys(o).length?o:Y}),Fe=h(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[m.value[$.value].key]&&(o=s.customizedData.sbsNew[m.value[$.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",Fe),se("primDescBtnType",Fe);let X=h(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[m.value[$.value].key]&&s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[m.value[$.value].key].options.secondaryFooterButton.buttonType),o}),W=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),A=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ue(o,y){let P="";if(s.customizedData){let Q=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&Q&&Q[o]&&(P===""&&Q[o][q.value]&&M.value?P=Q[o][q.value]:P===""&&Q[o].default&&(P=Q[o].default))}return P||Y[o]}let Ee=h(()=>xa(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Oe(){let o=c.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(m.value.splice(0,1),K.value.splice(0,1),De()),le();else{E();let y=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,P=!d.initStep.options.employee.visibility,Q=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Ie=!d.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||y||P)&&(o.location.length>0||Q||Ie)&&(Ee.value.availability?(m.value.splice(0,1,Te),K.value.splice(0,1)):(m.value.splice(0,1),K.value.splice(0,1)),le())}}function xe(o,y,P,Q){o.value.map((je,Xe)=>y.includes(je.name)?Xe:null).filter(je=>je!==null).reverse().forEach(je=>{o.value.splice(je,1)});let qe={value:Q};P.forEach(je=>{o.value.indexOf(je)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?o.value.splice(qe.value,0,je):o.value.splice(qe.value+1,0,je))})}se("goToPackageStep",{goToPackageStep:Ke});function Ke(o){c.commit("booking/setPackageId",o.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",Pt(0,o)),c.commit("booking/setMultipleAppointmentsIndex",0);let y=o.bookable.reduce((Ie,qe)=>Ie+qe.maximumScheduled,0),P=[],Q=[];m.value[0]!==pe&&P.push("ExtrasStep"),m.value[0]!==oe&&P.push("DateTimeStep"),m.value[0]!==_e&&P.push("CartStep"),y>0?Q=Q.concat([fe,p,Ce]):Q.push(Ce),xe(m,P,Q,$.value),xe(K,P,[],$.value),le(),it()}function De(){let y=c.state.entities.packages.find(Ie=>Ie.id===c.getters["booking/getPackageId"]).bookable.reduce((Ie,qe)=>Ie+qe.maximumScheduled,0),P=[],Q=[];m.value.find(Ie=>Ie.name==="ExtrasStep")&&P.push("ExtrasStep"),m.value.find(Ie=>Ie.name==="DateTimeStep")&&P.push("DateTimeStep"),y>0?Q=Q.concat([fe,p,Ce]):Q.push(Ce),xe(m,P,Q,$.value),xe(K,P,[],$.value),le(),it()}function at(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),mt(c);let o=[];m.value[0]!==oe&&(Ge(c)&&o.push(_e),o.push(oe)),m.value[0]!==pe&&L.value&&L.value.length&&o.push(pe),xe(m,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,$.value-1),xe(K,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],$.value),le()}se("goToRecurringStep",{goToRecurringStep:rt}),se("removeRecurringStep",{removeRecurringStep:j});function rt(){Ge(c)&&ia();let o=0;for(let y=0;y<m.value.length;y++)if(m.value[y].name==="DateTimeStep"){o=y;break}m.value.splice(o+1,0,V),m.value.splice(o+2,0,he),le(),it()}function j(){for(let o=m.value.length-1;o>=0;o--)(m.value[o].name==="RecurringStep"||m.value[o].name==="RecurringSummary")&&m.value.splice(o+1,1);Ge(c)&&aa($.value),le()}let L=h(()=>{let o=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return o?o.extras:[]});function E(){L.value.length&&!m.value.find(o=>o.name==="ExtrasStep")&&(m.value.splice($.value+1,0,pe),le()),K.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(L.value).length&&(m.value.splice(1,1),K.value.splice(1,1)),f.showCart||mt(c)}se("initDataChanges",{changeInitStepDataService:E});const $=w(0);se("stepIndex",$);let ut=z("stepName",w(""));kt($,(o,y)=>{o<K.value.length&&(K.value[y].selected=!1,K.value[o].selected=!0),o===K.value.length&&(K.value[y].selected=!1),ut.value=m.value[o].name});let Ye=w(!1);se("goBackToPackageBooking",Ye);function vt(){n(!1),Pe.value||(m.value[$.value].name===Ce.name&&at(),m.value[$.value].name===V.name&&(m.value.splice($.value,2),K.value.splice($.value,2),Ge(c)&&(m.value.splice($.value,0,_e),xe(K,[],[],$.value),le())),m.value[$.value].name===fe.name&&(Ye.value=!0),$.value=$.value-1),be.value=!be.value}function it(){Pe.value||(K.value[$.value].finished=!0,$.value=$.value+1)}let ft=h(()=>c.getters["entities/getReady"]),gt=h(()=>c.getters["booking/getLoading"]),Qe=h(()=>c.getters["booking/getBooked"]),It=h(()=>c.getters["booking/getPaymentGateway"]),dt=w(!1),yt=w(!1),be=w(!1);function Et(){dt.value=!0}function Dt(){dt.value=!1}function R(){be.value=!0}function g(){be.value=!1}function n(o){yt.value=o}function ce(){Qe.value&&(Qe.value.customerCabinetUrl?window.location.href=Qe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:ce});let Pe=w(!1);se("changingStepsFunctions",{nextStep:it,previousStep:vt,footerButtonClick:Et,footerButtonReset:Dt,footerBtnDisabledUpdater:n,headerButtonPreviousClick:R,headerButtonPreviousReset:g,footerBtnDisabled:yt,footerButtonClicked:dt,headerButtonPreviousClicked:be,navigateInsideStep:Pe});const K=w([]);se("sidebarSteps",K);function He(o){K.value[$.value].stepSelectedData.filter(y=>y.reference===o.reference).length?K.value[$.value].stepSelectedData.forEach((y,P,Q)=>{y.reference===o.reference&&o.value&&o.value!==y.value&&(y.value=o.value),y.reference===o.reference&&!o.value&&Q.splice(P,1)}):o.value&&K.value[$.value].stepSelectedData.push(o),K.value[$.value].stepSelectedData.sort((y,P)=>y.position-P.position)}function We(){m.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"){let P=o.sidebarData.label,Q={name:o.name,key:o.key,label:ie.value[P],labelKey:P,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===$.value};K.value.splice(y,0,Q)}})}Rt(()=>{We(),Oe()}),Re(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":f.showCart||mt(c);break}if(f.showCart&&Gt(m,$),ne.value){m.value.splice(0,m.value.length),K.value.splice(0,K.value.length),$.value=0,ne.value.steps.forEach(y=>{switch(y){case"packageStep":m.value.push(Le);break;case"bringingAnyone":m.value.push(Te);break;case"initStep":m.value.push(G);break;case"packageInfoStep":m.value.push(Ce);break;case"packageAppointmentsStep":m.value.push(p);break;case"packageAppointmentsListStep":m.value.push(fe);break;case"extrasStep":m.value.push(pe);break;case"dateTimeStep":m.value.push(oe);break;case"recurringStep":m.value.push(V);break;case"recurringSummary":m.value.push(he);break;case"cartStep":m.value.push(_e);break;case"infoStep":m.value.push(ve);break;case"paymentStep":m.value.push(ee);break;case"congratulations":m.value.push($e);break}let P=ne.value.sidebar.find(Q=>Q.key===y);le(),typeof P<"u"&&P.data&&P.data.forEach(Q=>{He({reference:Q.reference,position:Q.position,value:Q.value})}),$.value++}),c.commit("booking/setLoading",!1);let o=-1;ne.value.result==="success"?o=m.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(o=m.value.length-2);for(let y=0;y<=o;y++)m.value[y].finished=!0;for(let y=0;y<=o-1;y++)K.value[y].finished=!0,K.value[y].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(K.value[o].finished=!1,K.value[o].selected=!0),$.value=o}});function le(){m.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"&&!K.value.find(P=>P.labelKey===o.sidebarData.label)){let P=o.sidebarData.label,Q={name:o.name,key:o.key,label:ie.value[P],labelKey:P,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===$.value};K.value.splice(y,0,Q)}})}se("sidebarStepsFunctions",{sidebarDataCollector:He}),se("addPaymentsStep",{addPaymentsStep:Wt}),se("removePaymentsStep",{removePaymentsStep:jt});function Wt(){m.value.splice(m.value.length-1,0,ee),le()}function jt(){let o=["PaymentStep"];xe(m,o,[],$.value),xe(K,o,[],$.value)}function aa(o){xe(m,[],[_e],o),xe(K,[],[],o)}function ia(){xe(m,["CartStep"],[],$.value),xe(K,["CartStep"],[],$.value)}function sa(){if(c.getters["entities/getPreselected"].show==="packages"){let y=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return y.length>0&&y.filter(P=>P.price>0).length===y.length}if(!c.getters["booking/getPackageId"]){let y=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],P=0;for(let Q of y){let Ie=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],qe=c.getters["booking/getBookingDuration"];if(Ie.filter(Xe=>Xe.serviceList.find(Ne=>Ne.id===Q.id&&(Ne.price>0||Ne.customPricing&&Ne.customPricing.enabled&&(Object.values(Ne.customPricing.durations).length===Object.values(Ne.customPricing.durations).filter(Lt=>Lt.price>0).length||qe&&Ne.customPricing.durations[qe].price>0)))).length===Ie.filter(Xe=>Xe.serviceList.find(Ne=>Ne.id===Q.id)).length)P++;else{let Xe=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Xe.length>0&&Xe.reduce((Ne,Lt)=>Ne+Lt.price,0)>0&&P++}}return y.length>0&&P===y.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let la=h(()=>Tt(c).length?Pa(c)!==0:sa());Ia(()=>{let o=Tt(c);!o[0].serviceId&&Object.keys(o[0].services).length===0&&B("emptiedCart"),!ne.value&&!la.value?jt():ne.value||m.value.indexOf(ee)===-1&&Wt()},{flush:"post"});function na(){K.value.forEach(o=>{o.finished=!1,o.selected=!1}),m.value.forEach(o=>{o.finished=!1,o.selected=!1}),$.value=0,Xt(c,!0),za(c),mt(c),B("addToCart")}function oa(){let o=c.getters["booking/getCurrentCartItem"],y=c.getters["booking/getAllMultipleAppointments"];o?(c.commit("booking/setCartItem",o),c.commit("booking/setCartItemIndex",y.length-1),c.commit("booking/setCurrentCartItem",null)):(y.pop(),c.commit("booking/setCartItemIndex",y.length-1),c.commit("booking/setServiceId",y[y.length-1].serviceId),c.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),c.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Gt(m,$)}let ke=h(()=>s.customizedData?s.customizedData.sbsNew.colors:lt.sbsNew.colors);se("amColors",ke);let ca=h(()=>({"--am-c-primary":ke.value.colorPrimary,"--am-c-success":ke.value.colorSuccess,"--am-c-error":ke.value.colorError,"--am-c-warning":ke.value.colorWarning,"--am-c-main-bgr":ke.value.colorMainBgr,"--am-c-main-heading-text":ke.value.colorMainHeadingText,"--am-c-main-text":ke.value.colorMainText,"--am-c-sb-bgr":ke.value.colorSbBgr,"--am-c-sb-text":ke.value.colorSbText,"--am-c-inp-bgr":ke.value.colorInpBgr,"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-inp-text":ke.value.colorInpText,"--am-c-inp-placeholder":ke.value.colorInpPlaceHolder,"--am-c-drop-bgr":ke.value.colorDropBgr,"--am-c-drop-text":ke.value.colorDropText,"--am-c-btn-prim":ke.value.colorBtnPrim,"--am-c-btn-prim-text":ke.value.colorBtnPrimText,"--am-c-btn-sec":ke.value.colorBtnSec,"--am-c-btn-sec-text":ke.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ke.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ke.value.colorMainText,.6),"--am-font-family":D.value.fontFamily,"--am-mw-main":I.value?k.value?"592px":"760px":"520px","--am-brad-main":I.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ra(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${D.value.fontFamily}'; src: url(${D.value.fontUrl});}`,P=document.createElement("style");o.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(y))}D.value.customFontSelected&&ra();let ua=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),Re(()=>{Yt("renderForm",{ameliaContainer:S,containerWidth:C,empty:T,amCustomize:d,amFonts:D,sidebarCollapsed:k,sidebarCollapseItemsClass:x,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:I})}),(o,y)=>(t(),i(Z,null,[D.value.customFontSelected?r("",!0):(t(),i(Z,{key:0},[xi,Pi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ii)],64)),e(T)?(t(),i("div",qi,[a("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Gi),a("h1",null,l(e(ie).oops),1),a("h3",null,l(e(ie).no_services_employees),1),a("p",null,l(e(ie).add_services_employees),1),a("a",Ji,l(e(ie).add_services_url)+"\xA0 ",1),a("span",Yi,l(e(ie).and)+"\xA0",1),a("a",Qi,l(e(ie).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:S,class:O(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:re(e(ca))},[e(C)>560&&e(I)?(t(),ye(La,{key:0,class:O(["am-fs-sb",{"am-collapsed":e(k)}]),style:re({width:e(k)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":N(()=>[a("div",Ei,[m.value[$.value]!==e($e)||!e(s).general.addToCalendar||e(Qe)&&e(Qe).data.length===0?(t(!0),i(Z,{key:0},ge(K.value,P=>(t(),i("div",{key:P.key,class:"am-fs-sb__step"},[a("div",Di,[a("div",Li,[a("span",{class:O(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(Ve)(e(c))!==0?(t(),i("span",{key:0,class:O(["am-fs-sb__step-icon__number",e(x)])},l(e(Ve)(e(c))),3)):r("",!0)]),J(Je,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),i("p",{key:0,class:O(["am-fs-sb__step-heading",e(x)])},l(P.label),3))]),_:2},1024),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e(x)]])},[J(Je,{name:"fade"},{default:N(()=>[P.finished?(t(),i("span",Ti)):r("",!0)]),_:2},1024)],2)]),J(Ea,{tag:"span",name:"fade",appear:"",class:O(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(p).key&&P.stepSelectedData.length>3}])},{default:N(()=>[e(k)?r("",!0):(t(!0),i(Z,{key:0},ge(P.stepSelectedData,(Q,Ie)=>(t(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[P.key!==e(p).key||Ie<3?(t(),i("span",Bi,l(Q.value),1)):(t(),i("span",Fi,l(e(ie).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",zi,[J(Je,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),ye(Da,{key:0}))]),_:1}),e(k)?(t(),i("div",Ai,[a("div",Ri,[a("div",Mi,[a("span",{class:O(`am-icon-${m.value[$.value].sidebarData.icon}`)},null,2)]),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":m.value[$.value].sidebarData.selected},e(x)]])},[J(Je,{name:"fade"},{default:N(()=>[m.value[$.value].sidebarData.finished?(t(),i("span",Oi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":N(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",Ni,[J(Je,{name:"fade"},{default:N(()=>[!e(k)&&e(b).heading?(t(),i("div",{key:0,class:O(["am-fs-sb__support-heading",e(x)])},l(e(ie).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Ui)):(t(),i(Z,{key:0},[me(l(e(s).company.phone),1)],64))],8,Vi)):r("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",ji)):(t(),i(Z,{key:0},[me(l(e(s).company.email),1)],64))],8,Wi)):r("",!0)])):r("",!0),a("div",{class:O(["am-fs-sb__menu",e(x)]),onClick:y[0]||(y[0]=P=>de(k)?k.value=!e(k):k=!e(k))},[J(Je,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),i("span",Hi,l(e(ie).collapse_menu),1))]),_:1}),a("span",{class:O(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Fa,null,Mt({step:N(()=>[(t(),ye(Qt(m.value[$.value]),{"global-class":"am-fs__main-content"}))]),footer:N(()=>[J(e(Ba),{"second-button-show":m.value[$.value]===e($e)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ge)(e(c))&&m.value[$.value]===e(_e),"back-to-cart-button-show":e(Ge)(e(c))&&e(Be).length>1&&m.value[$.value]!==e(_e)&&m.value[$.value]!==e(ve)&&m.value[$.value]!==e(ee)&&m.value[$.value]!==e($e),booked:e(Qe),loading:e(gt),ready:e(ft),"payment-gateway":e(It),"customized-labels":e(Ue),"primary-footer-button-type":e(Fe),"secondary-footer-button-type":e(X),"add-to-cart-button-type":e(W),"back-to-cart-button-type":e(A),"back-to-cart-label":ue("cancel","cartStep"),onAddToCart:na,onBackToCart:oa},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[m.value[$.value]!==e($e)?{name:"header",fn:N(()=>[J(Ta,{"sidebar-visible":e(I),ready:e(ft)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Zi={class:"am-fcil__filter-buttons"},Ki={class:"am-fcil__filter"},es={class:"am-fcil__filter-item__btn-wrapper"},ts={class:"am-fcil__heading"},as={key:0,class:"am-fcil__item-badge__wrapper"},is={class:"am-fcil__item-badge am-package"},ss=a("span",{class:"am-icon-shipment"},null,-1),ls={class:"am-fcil__item-heading"},ns={class:"am-fcil__item-name"},os={key:0,class:"am-fcil__item-cost"},cs={key:0,class:"am-fcil__item-discount"},rs={class:"am-fcil__item-price"},us={key:1,class:"am-fcil__item-price"},ds={class:"am-fcil__item-info"},ms={key:0,class:"am-fcil__item-info__inner"},ps=a("span",{class:"am-icon-folder"},null,-1),_s={key:1,class:"am-fcil__item-info__inner"},vs=a("span",{class:"am-icon-clock"},null,-1),fs={key:0},gs={key:1},ys={key:2},hs={key:2,class:"am-fcil__item-info__inner"},bs=a("span",{class:"am-icon-user"},null,-1),ks=a("span",null,"1/1",-1),Cs=[bs,ks],$s={key:3,class:"am-fcil__item-info__inner"},ws=a("span",{class:"am-icon-locations"},null,-1),Ss={key:2,class:"am-fcil__item-services"},xs={key:0,class:"am-fcil__item-badge__wrapper"},Ps={class:"am-fcil__item-badge am-service"},Is=a("span",{class:"am-icon-service"},null,-1),Es={class:"am-fcil__item-heading"},Ds={class:"am-fcil__item-name"},Ls={key:0,class:"am-fcil__item-cost"},Ts={key:0,class:"am-fcil__item-price"},Bs={key:1,class:"am-fcil__item-price"},Fs={class:"am-fcil__item-info"},zs={key:0,class:"am-fcil__item-info__inner"},As=a("span",{class:"am-icon-folder"},null,-1),Rs={key:1,class:"am-fcil__item-info__inner"},Ms=a("span",{class:"am-icon-clock"},null,-1),Os={key:2,class:"am-fcil__item-info__inner"},Ns=a("span",{class:"am-icon-user"},null,-1),Vs={key:3,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-locations"},null,-1),Ws={class:"am-fcil-employee__header"},js={class:"am-fcil-employee__heading"},Hs={class:"am-fcil-employee__heading-left"},qs={class:"am-fcil-employee__name"},Gs={key:0,class:"am-fcil-employee__heading-right"},Js={class:"am-fcil-employee__price"},Ys=["innerHTML"],Qs={key:1,ref:"ameliaContainer",class:"am-empty"},Xs=["src"],Zs={class:"am-empty__heading"},Ks={class:"am-empty__subheading"},el={class:"am-empty__text"},tl={key:0},al={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},il={key:1},sl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},ll={name:"CategoryItemsList",key:"categoryItemsList"},nl=Object.assign(ll,{setup(v){let B=z("licence"),{nextPage:f,previousPage:S}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=z("baseUrls");let T=w(!1),u=w(!1),s=w("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let b=w(!1),D=w(),k=z("containerWidth"),x=z("customizedDataForm"),_=h(()=>x.value.categoryItemsList.options),U=h(()=>"pageScroll"in _.value?_.value.pageScroll.visibility:!0);const te=z("settings");let I=et();const F=z("shortcodeData"),c=h(()=>I.getters["entities/getPreselected"]);let H=h(()=>{let R=Array.isArray(F.value.category)?F.value.category:F.value.category.split(",");return R=R.filter(g=>g),R.length}),ne=h(()=>{let R=D.value&&D.value.catContainerWidth?D.value.catContainerWidth>768:!0;return H.value!==1&&_.value.sidebar.visibility&&R}),G=z("amEntities"),pe=h(()=>Ge(I)&&Ve(I)>0),Ce=h(()=>Ve(I));const V=z("labels"),he=z("localLanguage");let oe=h(()=>te.general.usedLanguages.includes(he.value)),p=h(()=>{let R=tt({...V});if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let g=te.customizedData.cbf.categoryItemsList.translations;Object.keys(g).forEach(n=>{g[n][he.value]&&oe.value?R[n]=g[n][he.value]:g[n].default&&(R[n]=g[n].default)})}return R}),fe=w(""),$e={components:{IconComponent:xt},template:'<IconComponent icon="search"/>'},_e=w(!0),ve={components:{IconComponent:xt},template:'<IconComponent icon="filter"/>'},ee=h(()=>D.value&&D.value.catHeaderWidth?D.value.catHeaderWidth:0);window.addEventListener("resize",Le);function Le(){Se(()=>{ee.value>480&&(_e.value=!0)})}Re(()=>{Le()});function Te(R){let g=[];return fe.value.toLowerCase().split(" ").forEach(n=>{g.push(R.toLowerCase().includes(n))}),g.filter(n=>n===!1).length<=0}let m=z("availableCategories"),Y=h(()=>{let R=[...m.value],g=[];return R.forEach(n=>{g.push({id:n.id,name:n.name})}),g.unshift({id:0,name:p.value.filter_all}),g}),q=z("categorySelected"),M=h(()=>bt(G.value,F.value,Ue.value,Fe.value)),Be=h(()=>{let R=[];return M.value.find(g=>g.id===q.value)?G.value.packages.forEach(g=>{M.value.find(n=>n.id===q.value).packageList.forEach(n=>{g.id===n&&(fe.value?Te(g.name):!0)&&R.push(g)})}):G.value.packages.forEach(g=>{M.value.forEach(n=>{n.packageList.forEach(ce=>{g.id===ce&&!R.find(Pe=>Pe.id===ce)&&(fe.value?Te(g.name):!0)&&R.push(g)})})}),R}),ie=h(()=>{let R=[];return q.value&&M.value.find(g=>g.id===q.value)?G.value.services.forEach(g=>{M.value.find(n=>n.id===q.value).serviceIdList.forEach(n=>{g.id===n&&(fe.value?Te(g.name):!0)&&R.push(g)})}):G.value.services.forEach(g=>{M.value.forEach(n=>{n.serviceIdList.forEach(ce=>{g.id===ce&&(fe.value?Te(g.name):!0)&&R.push(g)})})}),R}),Ue=w(null),Fe=w(null),X=w(!0),W=w(!0);function A(R){R==="all"&&(X.value=!0,W.value=!0),R==="packages"&&(X.value=!0,W.value=!1),R==="services"&&(X.value=!1,W.value=!0)}Rt(()=>{c.value.show&&A(c.value.show)});let ue=h(()=>{let R=F.value.employee,g=G.value.employees.length,n=F.value.location,ce=G.value.locations.length,Pe=_.value.searchInput.visibility,K=_.value.filterEmployee.visibility&&R.length!==1&&g>1&&!B.isLite,He=_.value.filterLocation.visibility&&n.length!==1&&ce>1&&!B.isLite&&!B.isStarter,We=_.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Be.value.length!==0&&ie.value.length!==0&&!Ve(I),le={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!Pe||!We?(le.employee=!Pe&&!We?"am-w50":"am-w35",le.location=!Pe&&!We?"am-w50":"am-w35",le.search=!We&&!He&&!K?"am-w100":"am-w30",K||(le.location=!Pe&&!We?"am-w100":"am-w70"),He||(le.employee=!Pe&&!We?"am-w100":"am-w70")):(K||(le.location="am-w40"),He||(le.employee="am-w40"),!K&&!He&&(le.search="am-w70")):ee.value>768||ee.value>480?(le.search=We?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",le.buttons=Pe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",le.employee=He?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",le.location=K?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",le.category="am-w100 am-tablet am-order5"):(le.employee="am-w100 am-mobile",le.location="am-w100 am-mobile",le.search="am-w100 am-mobile",le.buttons="am-w100 am-mobile",le.category="am-w100 am-mobile"),le}),Ee=h(()=>D.value&&D.value.catContainerWidth?D.value.catContainerWidth:0),Oe=h(()=>{let R=Be.value.length&&!Ve(I)?Be.value.length:0,g=ie.value.length>1?p.value.heading_services:p.value.heading_service,n=R?R>1?p.value.packages:p.value.package:"";if(!ie.value.length&&!R)return p.value.no_search_data;if(W.value&&(!X.value||!R))return`${p.value.available} - ${ie.value.length} ${g}`;if((!W.value||!ie.value.length)&&X.value)return`${p.value.available} - ${R} ${n}`;let ce=R?"/":"";return`${p.value.available} - ${ie.value.length} ${g} ${ce} ${R} ${n}`});Re(()=>{Se(()=>{T.value=Be.value.length===0&&ie.value.length===0})});function xe(R){const g=R.id===0?null:R.id;q.value=g,I.commit("booking/setCategoryId",g)}let Ke=z("itemType");function De(R){I.commit("booking/setServiceId",parseInt(R)),I.commit("booking/setBookableType","appointment"),Ke.value="appointment",pt(I,{},"SelectService","appointment",null,null),Se(()=>{f()})}function at(R){I.commit("booking/setServiceId",null),I.commit("booking/setPackageId",R.id),I.commit("booking/setBookableType","package"),I.commit("booking/setMultipleAppointments",Pt(0,R)),I.commit("booking/setCartItemIndex",0),Ke.value="package",pt(I,{},"SelectPackage","package",null,null),Se(()=>{f()})}function rt(){q.value=null,I.commit("booking/setCategoryId",null),S()}function j(){At(I),b.value=!0,u.value=!0}let L=w(!1),E=w(""),$=w([]),ut=w({}),Ye=w(null);function vt(){E.value="",$.value=[],ut.value={},Ye.value=null}function it(R){$.value=ta(G.value,R,F.value),ut.value=R,L.value=!0}function ft(R){let g=[];Object.keys(G.value.entitiesRelations).forEach(ce=>{ce in G.value.entitiesRelations&&R in G.value.entitiesRelations[ce]&&G.value.employees.find(Pe=>Pe.id===parseInt(ce))&&g.push(G.value.employees.find(Pe=>Pe.id===parseInt(ce)))}),$.value=g,E.value="service",L.value=!0,Ye.value=R}function gt(R){let g=G.value.services.find(ce=>ce.id===Ye.value).price,n=R.serviceList.find(ce=>ce.id===Ye.value).price;return n!==g?`${n-g>0?g>0?"+":"":"-"} ${Ze(n-g)}`:0}function Qe(){E.value==="service"?De(Ye.value):at(ut.value),vt()}function It(R,g){let n="";return R>1?(g==="day"&&(n=p.value.expires_days),g==="week"&&(n=p.value.expires_weeks),g==="month"&&(n=p.value.expires_months)):(g==="day"&&(n=p.value.expires_day),g==="week"&&(n=p.value.expires_week),g==="month"&&(n=p.value.expires_month)),n}function dt(R,g){return ze(R,g).length===1?ze(R,g)[0].address?ze(R,g)[0].address:ze(R,g)[0].name:p.value.multiple_locations}let yt=z("amFonts",w({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),be=z("amColors"),Et=h(()=>({"--am-c-fcil-text-op-10":ae(be.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(be.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(be.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(be.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(be.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(be.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(be.value.colorInpText,.1),"--am-w-fcil-main":m.value.length!==1&&H.value!==1&&_.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":D.value&&D.value.catFormWidth<580?"100%":"50%"})),Dt=h(()=>({"--am-f-fcil-employee-f":yt.value.fontFamily,"--am-c-fcil-employee-bgr":be.value.colorMainBgr,"--am-c-fcil-employee-heading":be.value.colorMainHeadingText,"--am-c-fcil-employee-text":be.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(be.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(be.value.colorMainText,.15),"--am-c-fcil-employee-primary":be.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(be.value.colorPrimary,.1),"--am-c-inp-border":be.value.colorInpBorder,"--am-c-main-text":be.value.colorMainText}));return(R,g)=>e(T)?(t(),i("div",Qs,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,Xs),a("div",Zs,l(e(p).oops),1),a("div",Ks,l(e(c).show!=="packages"?e(p).no_services_employees:e(p).no_package_services),1),a("div",el,[e(c).show!=="packages"?(t(),i("span",tl,l(e(p).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",al,l(e(p).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",il,l(e(p).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",sl,l(e(p).add_employees_url),1)):r("",!0)])],512)):(t(),ye(Vt,{key:0,ref_key:"contentRef",ref:D,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(Et))},Mt({header:N(()=>[a("span",Zi,[e(H)!==1&&!e(F).categories_hidden&&e(m).length!==1?(t(),ye(Nt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(p).back_btn,"btn-type":e(_).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e(Ce),onGoBack:rt,onGoToCart:j},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),ye(Ae,{key:1,size:"medium",category:"secondary",type:e(_).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ve),onClick:g[0]||(g[0]=()=>de(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",Ki,[e(_).searchInput.visibility?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ue).search])},[J(Aa,{modelValue:e(fe),"onUpdate:modelValue":g[1]||(g[1]=n=>de(fe)?fe.value=n:fe=n),placeholder:e(p).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(Je,{name:"slide-fade"},{default:N(()=>[e(F).employee.length!==1&&e(G).employees.length>1&&e(_).filterEmployee.visibility&&e(_e)&&!e(B).isLite?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ue).employee])},[J(Bt,{modelValue:e(Ue),"onUpdate:modelValue":g[2]||(g[2]=n=>de(Ue)?Ue.value=n:Ue=n),clearable:"",filterable:"",placeholder:e(p).filter_employee,"fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(G).employees,n=>(t(),ye(Ft,{key:n.id,value:n.id,label:`${n.firstName} ${n.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Je,{name:"slide-fade"},{default:N(()=>[e(F).location.length!==1&&e(G).locations.length>1&&e(_).filterLocation.visibility&&e(_e)&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ue).location])},[J(Bt,{modelValue:e(Fe),"onUpdate:modelValue":g[3]||(g[3]=n=>de(Fe)?Fe.value=n:Fe=n),clearable:"",filterable:"",placeholder:e(p).filter_location,"fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(G).locations,n=>(t(),ye(Ft,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Je,{name:"slide-fade"},{default:N(()=>[e(m).length!==1&&e(H)!==1&&e(_).sidebar.visibility&&!e(ne)&&e(_e)?(t(),i("div",{key:0,class:O(["am-fcil__filter-item am-w100",e(ue).category])},[J(Bt,{modelValue:e(q),"onUpdate:modelValue":g[4]||(g[4]=n=>de(q)?q.value=n:q=n),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(Y),n=>(t(),ye(Ft,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(_).filterButtons.visibility&&e(Be).length!==0&&e(ie).length!==0&&!e(Ve)(e(I))?(t(),i("div",{key:1,class:O(["am-fcil__filter-item",e(ue).buttons])},[a("div",es,[a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(X)&&e(W)}]),onClick:g[5]||(g[5]=n=>A("all"))},[a("span",null,l(e(p).filter_all),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(X)&&!e(W)}]),onClick:g[6]||(g[6]=n=>A("packages"))},[a("span",null,l(e(p).filter_packages),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":!e(X)&&e(W)}]),onClick:g[7]||(g[7]=n=>A("services"))},[a("span",null,l(e(p).filter_services),1)],2)])],2)):r("",!0)])]),heading:N(()=>[a("div",ts,l(e(Oe)),1)]),content:N(()=>[e(X)&&!e(Ve)(e(I))?(t(!0),i(Z,{key:0},ge(e(Be),n=>(t(),i("div",{key:n.id,class:O(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(_).packageBadge.visibility?(t(),i("div",as,[a("div",is,[ss,a("span",null,l(e(p).package),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",ls,[a("div",ns,l(n.name),1),e(_).packagePrice.visibility?(t(),i("div",os,[n.discount?(t(),i("span",cs,l(`${e(p).save} ${n.discount}%`),1)):r("",!0),a("span",rs,l(n.price?e(Ze)(e(Ot)(n)):e(p).free),1),n.price&&(e(_).tax?.visibility??!0)&&e(_t)(e(I),n.id,"package")?(t(),i("span",us,[e(te).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(p).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",ds,[e(_).packageCategory.visibility&&e(q)?(t(),i("div",ms,[ps,a("span",null,l(e(m).find(ce=>ce.id===e(q)).name),1)])):r("",!0),e(_).packageDuration.visibility?(t(),i("div",_s,[vs,n.endDate?(t(),i("span",fs,l(`${e(p).expires_at} ${n.endDate.split(" ")[0]}`),1)):n.durationCount?(t(),i("span",gs,l(`${e(p).expires_after} ${n.durationCount} ${It(n.durationCount,n.durationType)}`),1)):(t(),i("span",ys,l(e(p).without_expiration),1))])):r("",!0),e(_).packageCapacity.visibility?(t(),i("div",hs,Cs)):r("",!0),e(st)(e(G),n,e(F)).length&&e(_).packageLocation.visibility?(t(),i("div",$s,[ws,a("span",null,l(e(st)(e(G),n,e(F)).length===1?e(st)(e(G),n,e(F))[0].address?e(st)(e(G),n,e(F))[0].address:e(st)(e(G),n,e(F))[0].name:e(p).multiple_locations),1)])):r("",!0)]),e(_).packageServices.visibility?(t(),i("div",Ss,[a("span",null,l(`${e(p).in_package}:`),1),(t(!0),i(Z,null,ge(n.bookable,ce=>(t(),i("span",{key:ce.id},l(ce.service.name),1))),128))])):r("",!0)],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(_).cardEmployeeBtn.visibility?(t(),ye(Ae,{key:0,class:O({"am-w100":e(Ee)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ce=>it(n)},{default:N(()=>[me(l(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:O([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ce=>at(n)},{default:N(()=>[me(l(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),e(W)?(t(!0),i(Z,{key:1},ge(e(ie),n=>(t(),i("div",{key:n.id,class:O(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(_).serviceBadge.visibility?(t(),i("div",xs,[a("div",Ps,[Is,a("span",null,l(e(p).heading_service),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",Es,[a("div",Ds,l(n.name),1),e(_).servicePrice.visibility?(t(),i("div",Ls,[e(ot)(e(G),n.id).min||e(ot)(e(G),n.id).max?(t(),i("span",Ts,l(e(ot)(e(G),n.id).price),1)):r("",!0),(e(_).tax?.visibility??!0)&&e(_t)(e(I),n.id,"service")?(t(),i("span",Bs,[e(te).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(p).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Fs,[e(_).serviceCategory.visibility&&e(q)?(t(),i("div",zs,[As,a("span",null,l(e(m).find(ce=>ce.id===e(q)).name),1)])):r("",!0),e(_).serviceDuration.visibility?(t(),i("div",Rs,[Ms,a("span",null,l(e(ea)(n.duration)),1)])):r("",!0),e(_).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Os,[Ns,a("span",null,l(e(Kt)(e(G),n.id)),1)])):r("",!0),e(ze)(e(G),n.id).length&&e(_).serviceLocation.visibility?(t(),i("div",Vs,[Us,a("span",null,l(dt(e(G),n.id)),1)])):r("",!0)])],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(_).cardEmployeeBtn.visibility&&!e(B).isLite?(t(),ye(Ae,{key:0,class:O({"am-w100":e(Ee)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ce=>ft(n.id)},{default:N(()=>[me(l(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:O([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ce=>De(n.id)},{default:N(()=>[me(l(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),J(ct,{modelValue:e(L),"onUpdate:modelValue":g[9]||(g[9]=n=>de(L)?L.value=n:L=n),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Dt),width:"648px",onClose:vt},{title:N(()=>[a("div",Ws,l(e(p).employee_info),1)]),default:N(()=>[a("div",null,[J(Ct,null,{default:N(()=>[(t(!0),i(Z,null,ge(e($),(n,ce)=>(t(),ye($t,{key:ce,side:""},{heading:N(()=>[a("div",js,[a("div",Hs,[J(nt,{"item-class":"am-fcil-employee__img","item-data":n,"trim-string":2},null,8,["item-data"]),a("div",qs,[me(l(`${n.firstName} ${n.lastName}`)+" ",1),n.badge?(t(),i("span",{key:0,style:re({background:n.badge.color}),class:"am-fcil-employee__badge"},l(n.badge.content),5)):r("",!0)])]),e(E)==="service"&&gt(n)!==0?(t(),i("div",Gs,[a("div",Js,l(gt(n)),1)])):r("",!0)])]),default:N(()=>[e(Me)(n.description)?(t(),i("div",{key:0,class:O(["am-fcil-employee__text",{"ql-description":n.description.includes("<!-- Content -->")}]),innerHTML:n.description},null,10,Ys)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:N(()=>[e(_).dialogEmployeeBtn.visibility?(t(),ye(Ae,{key:0,type:e(_).dialogEmployeeBtn.buttonType,category:"primary",onClick:g[8]||(g[8]=n=>Qe())},{default:N(()=>[me(l(e(E)==="service"?e(p).book_service:e(p).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(ct,{modelValue:e(u),"onUpdate:modelValue":g[10]||(g[10]=n=>de(u)?u.value=n:u=n),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:N(()=>[J(Ut,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(m).length!==1&&e(H)!==1&&e(_).sidebar.visibility&&e(ne)?{name:"side",fn:N(()=>[J(ti,{"menu-items":e(Y),"init-selection":e(q),identifier:"id","name-identifier":"name","footer-string":e(p).get_in_touch,"company-email":e(te).company.email,onClick:xe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ol={class:"am-fcis__header-text"},cl={class:"am-fcis__header-name"},rl={key:0,class:"am-fcis__badge am-service"},ul=a("span",{class:"am-icon-service"},null,-1),dl={class:"am-fcis__header-action"},ml={key:0,class:"am-fcis__header-price"},pl={key:1,class:"am-fcis__header-tax"},_l={class:"am-fcis__header-btn"},vl={key:0,class:"am-fcis__header-bottom"},fl={class:"am-fcis__mini-info"},gl={key:0,class:"am-fcis__mini-info__inner"},yl=a("span",{class:"am-icon-folder"},null,-1),hl={key:1,class:"am-fcis__mini-info__inner"},bl=a("span",{class:"am-icon-clock"},null,-1),kl={key:2,class:"am-fcis__mini-info__inner"},Cl=a("span",{class:"am-icon-user"},null,-1),$l={key:3,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-locations"},null,-1),Sl={key:0,class:"am-fcis__gallery"},xl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Pl={class:"am-gd__display-wrapper"},Il={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},El=["src","alt"],Dl={class:"am-gd__selection"},Ll={class:"am-gd__thumb-wrapper"},Tl=["onClick"],Bl={key:1,class:"am-fcis__info"},Fl={class:"am-fcis__info-tab__wrapper"},zl={class:"am-fcis__info-content__wrapper"},Al={key:0,class:"am-fcis__info-content"},Rl=["innerHTML"],Ml={key:1,class:"am-fcis__info-content"},Ol={class:"am-fcis__info-employee__hero"},Nl={class:"am-fcis__info-employee__heading"},Vl={class:"am-fcis__info-employee__name"},Ul={key:0,class:"am-fcis__info-employee__price"},Wl=["innerHTML"],jl={key:2,class:"am-fcis__include-wrapper"},Hl={class:"am-fcis__include-heading"},ql={class:"am-fcis__include-heading__text"},Gl=["onClick"],Jl={class:"am-fcis__include-hero"},Yl={key:0,class:"am-fcis__include-cost"},Ql={key:0,class:"am-fcis__include-discount"},Xl={class:"am-fcis__include-price"},Zl={key:1,class:"am-fcis__include-price"},Kl={class:"am-fcis__include-info"},en={key:0,class:"am-fcis__include-info__inner"},tn=a("span",{class:"am-icon-folder"},null,-1),an={key:1,class:"am-fcis__include-info__inner"},sn=a("span",{class:"am-icon-clock"},null,-1),ln={key:0},nn={key:1},on={key:2},cn={key:2,class:"am-fcis__include-info__inner"},rn=a("span",{class:"am-icon-user"},null,-1),un=a("span",null,"1/1",-1),dn=[rn,un],mn={key:3,class:"am-fcis__include-info__inner"},pn=a("span",{class:"am-icon-locations"},null,-1),_n={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},vn={key:1,ref:"ameliaContainer",class:"am-empty"},fn=["src"],gn={class:"am-empty__heading"},yn={class:"am-empty__subheading"},hn={class:"am-empty__text"},bn={key:0},kn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Cn={key:1},$n={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},wn={name:"CategoryService"},Sn=Object.assign(wn,{setup(v){let B=z("licence"),{previousPage:f}=z("changingPageFunctions",{previousPage:()=>{}}),S=h(()=>U.getters["entities/getReady"]);const C=z("baseUrls");let T=w(),u=z("containerWidth");const s=z("settings");let d=z("amFonts");const b=z("labels"),D=z("localLanguage");let k=h(()=>s.general.usedLanguages.includes(D.value)),x=h(()=>{let j=tt({...b});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let L=s.customizedData.cbf.categoryService.translations;Object.keys(L).forEach(E=>{L[E][D.value]&&k.value?j[E]=L[E][D.value]:L[E].default&&(j[E]=L[E].default)})}return j}),_=w(0),U=et(),te=z("amEntities"),I=h(()=>Ge(U)&&Ve(U)>0),F=h(()=>Ve(U)),c=z("customizedDataForm"),H=h(()=>c.value.categoryService.options),ne=h(()=>"pageScroll"in H.value?H.value.pageScroll.visibility:!0),G=z("itemType"),pe=z("categorySelected"),Ce=h(()=>te.value.categories.find(j=>j.id===pe.value)),V=h(()=>{let j=te.value.services.find(L=>L.id===U.getters["booking/getServiceId"]);return j||{}});function he(j,L){return ze(j,L).length===1?ze(j,L)[0].address?ze(j,L)[0].address:ze(j,L)[0].name:x.value.multiple_locations}let oe=w("description"),p=h(()=>{let j=[];return Object.keys(te.value.entitiesRelations).forEach(E=>{te.value.entitiesRelations[E][V.value.id]&&te.value.employees.find($=>$.id===parseInt(E))&&j.push(te.value.employees.find($=>$.id===parseInt(E)))}),j});function fe(j){let L=j.serviceList.find(E=>E.id===V.value.id).price;return L-V.value.price!==0?`${L-V.value.price>0?V.value.price>0?"+":"":"-"} ${Ze(L-V.value.price)}`:""}Re(()=>{H.value.serviceDescription.visibility||(oe.value="employees"),Me(V.value.description)||(oe.value="employees")});let $e=h(()=>{let j=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(j.shift(),j.length>2&&j.splice(2,j.length-2),j)}),_e=h(()=>{let j=[];return te.value.packages.forEach(L=>{L.bookable.filter(E=>E.service.id===V.value.id).length&&!j.filter(E=>E.id===L.id).length&&L.available&&L.status==="visible"&&j.push(L)}),j}),ve=w(!1),ee=h(()=>{let j=[..._e.value];return ve.value?j:j.slice(0,2)}),Le=h(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Te(){G.value="",Se(()=>{f()})}let m=w(!1);function Y(){At(U),m.value=!0,M.value=!0}function q(){M.value=!1,U.getters["entities/getPreselected"].service.length>1&&Te()}let M=w(!1),Be=w("760px");se("bookingDialogWidth",Be);function ie(){let j=U.getters["entities/getPreselected"];p.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),j.employee=[parseInt(p.value[0].id)],U.commit("entities/setPreselected",j)),m.value=!1,M.value=!1,Ra(U),Xt(U,!1),mt(U);let L=ze(te.value,V.value.id);L.length===1&&(U.commit("booking/setLocationId",parseInt(L[0].id)),j.location=[parseInt(L[0].id)],U.commit("entities/setPreselected",j)),U.commit("booking/setBookableType","appointment"),M.value=!0}z("restoreFormData").value&&ie();function Fe(j){U.commit("booking/setPackageId",j.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",Pt(0,j)),U.commit("booking/setMultipleAppointmentsIndex",0),p.value.length===1&&U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),ze(te.value,V.value.id).length===1&&U.commit("booking/setLocationId",parseInt(ze(te.value,V.value.id)[0].id)),Se(()=>{M.value=!0})}const X=h(()=>U.getters["entities/getPreselected"]);let W=h(()=>te.value.services.length!==1&&X.value.service.length!==1),A=w("");se("stepName",A);function ue(){let j=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),L=j.settings?JSON.parse(j.settings):s;"general"in L&&"redirectUrlAfterAppointment"in L.general&&L.general.redirectUrlAfterAppointment?window.location.href=L.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function Ee(){if(A.value&&A.value==="CongratulationsStep")ue();else{if(A.value&&A.value==="DateTimeStep"){let j=Ma(U);j&&console.log(j)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Be.value="760px"}let Oe=w(!1);function xe(j,L){let E="";return j>1?(L==="day"&&(E=x.value.expires_days),L==="week"&&(E=x.value.expires_weeks),L==="month"&&(E=x.value.expires_months)):(L==="day"&&(E=x.value.expires_day),L==="week"&&(E=x.value.expires_week),L==="month"&&(E=x.value.expires_month)),E}let Ke=h(()=>Object.keys(V.value).length===0||p.value.length===0),De=z("amColors"),at=h(()=>({"--am-c-fcis-success-op20":ae(De.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(De.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(De.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(De.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(De.value.colorBtnSec,.5)})),rt=h(()=>({"--am-c-fcis-bgr":De.value.colorMainBgr,"--am-c-fcis-text":De.value.colorMainText,"--am-c-fcis-success":De.value.colorSuccess,"--am-c-fcis-primary":De.value.colorPrimary,"--am-c-scroll-op30":ae(De.value.colorPrimary,.3),"--am-c-scroll-op10":ae(De.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(j,L)=>e(S)?(t(),i(Z,{key:0},[e(Ke)?r("",!0):(t(),ye(Vt,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(at))},{header:N(()=>[J(Nt,{"btn-string":e(x).back_btn,"btn-type":e(H).backBtn.buttonType,"back-btn-visibility":e(W),"cart-btn-visibility":e(I),"cart-items-number":e(F),onGoBack:Te,onGoToCart:Y},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:N(()=>[a("div",{class:O([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"])},[a("div",ol,[a("span",cl,l(e(V).name),1),e(H).serviceBadge.visibility?(t(),i("div",rl,[ul,a("span",null,l(e(x).heading_service),1)])):r("",!0)]),a("div",dl,[e(H).servicePrice.visibility?(t(),i("span",ml,l(e(ot)(e(te),e(V).id).min||e(ot)(e(te),e(V).id).max?e(ot)(e(te),e(V).id).price:e(x).free),1)):r("",!0),(e(H).tax?.visibility??!0)&&e(_t)(e(U),e(V).id,"service")?(t(),i("span",pl,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(x).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(x).incl_tax),1)],64))])):r("",!0),a("span",_l,[J(Ae,{type:e(H).bookingBtn.buttonType,onClick:ie},{default:N(()=>[me(l(e(x).book_now),1)]),_:1},8,["type"])])])],2),e(H).serviceCategory.visibility||e(H).serviceDuration.visibility||e(H).serviceCapacity.visibility||e(H).serviceLocation.visibility?(t(),i("div",vl,[a("div",fl,[e(H).serviceCategory.visibility&&e(Ce)?(t(),i("div",gl,[yl,a("span",null,l(e(Ce).name),1)])):r("",!0),e(H).serviceDuration.visibility?(t(),i("div",hl,[bl,a("span",null,l(e(ea)(e(V).duration)),1)])):r("",!0),e(H).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",kl,[Cl,a("span",null,l(e(Kt)(e(te),e(V).id)),1)])):r("",!0),e(ze)(e(te),e(V).id).length&&e(H).serviceLocation.visibility&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",$l,[wl,a("span",null,l(he(e(te),e(V).id)),1)])):r("",!0)])])):r("",!0)]),content:N(()=>[e(V).gallery.length?(t(),i("div",Sl,[a("div",{class:O(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:re({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e($e).length&&e(u)>677?(t(),i("div",xl,[(t(!0),i(Z,null,ge(e($e),(E,$)=>(t(),i("div",{key:$,class:O(["am-fcis__gallery-thumb",{"am-one-thumb":e($e).length===1}]),style:re({backgroundImage:`url(${E.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:L[0]||(L[0]=()=>de(Oe)?Oe.value=!0:Oe=!0)},{default:N(()=>[me(l(e(x).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ct,{modelValue:e(Oe),"onUpdate:modelValue":L[4]||(L[4]=E=>de(Oe)?Oe.value=E:Oe=E),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(rt))},[a("div",Pl,[a("div",Il,[a("span",{class:"am-icon-arrow-left",onClick:L[1]||(L[1]=()=>de(_)?_.value=e(_)<=0?e(V).gallery.length-1:e(_)-1:_=e(_)<=0?e(V).gallery.length-1:e(_)-1)}),a("span",{class:"am-icon-arrow-right",onClick:L[2]||(L[2]=()=>de(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)})]),(t(!0),i(Z,null,ge(e(V).gallery,(E,$)=>(t(),i("div",{key:$,class:"am-gd__display",style:re({display:$===e(_)?"flex":"none"}),onClick:L[3]||(L[3]=()=>de(_)?_.value=e(V).gallery.length-1===e(_)?0:e(_)+1:_=e(V).gallery.length-1===e(_)?0:e(_)+1)},[a("img",{src:E.pictureFullPath,alt:$},null,8,El)],4))),128))]),a("div",Dl,l(`${e(_)+1}/${e(V).gallery.length}`),1),a("div",Ll,[(t(!0),i(Z,null,ge(e(V).gallery,(E,$)=>(t(),i("div",{key:$,class:O(["am-gd__thumb",{"am-active":$===e(_)}]),style:re({backgroundImage:`url(${E.pictureFullPath})`}),onClick:()=>de(_)?_.value=$:_=$},null,14,Tl))),128))])],4)]),_:1},8,["modelValue"]),e(H).serviceDescription.visibility&&e(Me)(e(V).description)||e(H).serviceEmployees.visibility?(t(),i("div",Bl,[a("div",Fl,[e(Me)(e(V).description)&&e(H).serviceDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcis__info-tab",{"am-active":e(oe)==="description"}]),onClick:L[5]||(L[5]=()=>de(oe)?oe.value="description":oe="description")},l(e(x).about_service),3)):r("",!0),e(H).serviceEmployees.visibility&&!e(B).isLite?(t(),i("div",{key:1,class:O([{"am-active":e(oe)==="employees"},"am-fcis__info-tab"]),onClick:L[6]||(L[6]=()=>de(oe)?oe.value="employees":oe="employees")},l(e(x).tab_employees),3)):r("",!0)]),a("div",zl,[e(Me)(e(V).description)&&e(H).serviceDescription.visibility?wt((t(),i("div",Al,[a("div",{class:O(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Rl)],512)),[[St,e(oe)==="description"]]):r("",!0),e(H).serviceEmployees.visibility?wt((t(),i("div",Ml,[J(Ct,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(p),E=>(t(),ye($t,{key:E.id,side:""},{heading:N(()=>[a("div",{class:O([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Ol,[J(nt,{"item-class":"am-fcis__info-employee__img","item-data":E,"trim-string":3},null,8,["item-data"]),a("div",Nl,[a("div",Vl,[me(l(E.firstName)+" "+l(E.lastName)+" ",1),E.badge?(t(),i("span",{key:0,style:re({background:E.badge.color}),class:"am-fcis__info-employee__badge"},l(E.badge.content),5)):r("",!0)]),fe(E)&&e(H).serviceEmployeePrice.visibility?(t(),i("div",Ul,l(fe(E)),1)):r("",!0)])])],2)]),default:N(()=>[e(Me)(E.description)?(t(),i("div",{key:0,class:O(["am-fcis__info-employee__description",{"ql-description":E.description.includes("<!-- Content -->")}]),innerHTML:E.description},null,10,Wl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(oe)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(X).show!=="services"&&e(H).servicePackages.visibility&&!e(Ve)(e(U))?(t(),i("div",jl,[a("div",Hl,[a("span",ql,l(e(x).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:L[7]||(L[7]=()=>de(ve)?ve.value=!e(ve):ve=!e(ve))},[e(ve)?(t(),i(Z,{key:1},[me(l(e(x).less_packages),1)],64)):(t(),i(Z,{key:0},[me(l(e(x).more_packages),1)],64))])):r("",!0)]),(t(!0),i(Z,null,ge(e(ee),E=>(t(),i("div",{key:E.id,class:"am-fcis__include",onClick:$=>Fe(E)},[a("div",Jl,[e(u)>450?(t(),ye(nt,{key:0,"item-class":"am-fcis__include-img","item-data":E,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:O([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:O(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:O(["am-fcis__include-name",{"am-mobile":e(u)<600}])},l(E.name),3),e(H).packagePrice.visibility?(t(),i("div",Yl,[E.discount?(t(),i("span",Ql,l(`${e(x).save} ${E.discount}%`),1)):r("",!0),a("span",Xl,l(E.price?e(Ze)(e(Ot)(E)):e(x).free),1),(e(H).tax?.visibility??!0)&&e(_t)(e(U),E.id,"package")?(t(),i("span",Zl,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(x).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(x).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",Kl,[e(H).packageCategory.visibility&&e(Ce)?(t(),i("div",en,[tn,a("span",null,l(e(Ce).name),1)])):r("",!0),e(H).packageDuration.visibility?(t(),i("div",an,[sn,E.endDate?(t(),i("span",ln,l(`${e(x).expires_at} ${E.endDate.split(" ")[0]}`),1)):E.durationCount?(t(),i("span",nn,l(`${e(x).expires_after} ${E.durationCount} ${xe(E.durationCount,E.durationType)}`),1)):(t(),i("span",on,l(e(x).without_expiration),1))])):r("",!0),e(H).packageCapacity.visibility?(t(),i("div",cn,dn)):r("",!0),e(H).packageLocation.visibility&&e(Le).length?(t(),i("div",mn,[pn,a("span",null,l(e(Le).length===1?e(Le)[0].address?e(Le)[0].address:e(Le)[0].name:e(x).multiple_locations),1)])):r("",!0),e(H).packageServices.visibility?(t(),i("div",_n,[a("span",null,l(`${e(x).in_package}:`),1),(t(!0),i(Z,null,ge(E.bookable,$=>(t(),i("span",{key:$.id},l($.service.name),1))),128))])):r("",!0)])],2)])],8,Gl))),128))])):r("",!0),J(ct,{modelValue:e(M),"onUpdate:modelValue":L[9]||(L[9]=E=>de(M)?M.value=E:M=E),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Be),onClosed:Ee},{default:N(()=>[J(Ut,{"show-cart":e(m),onAddToCart:q,onEmptiedCart:L[8]||(L[8]=E=>de(M)?M.value=!1:M=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ke)?(t(),i("div",vn,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,fn),a("div",gn,l(e(x).oops),1),a("div",yn,l(e(X).show!=="packages"?e(x).no_services_employees:e(x).no_package_services),1),a("div",hn,[e(X).show!=="packages"?(t(),i("span",bn,l(e(x).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",kn,l(e(x).add_services_url)+"\xA0 ",1),e(X).show!=="packages"?(t(),i("span",Cn,l(e(x).and)+"\xA0 ",1)):r("",!0),e(X).show!=="packages"?(t(),i("a",$n,l(e(x).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const xn={class:"am-fcip__header-text"},Pn={class:"am-fcip__header-name"},In={key:0,class:"am-fcip__badge am-package"},En=a("span",{class:"am-icon-shipment"},null,-1),Dn={class:"am-fcip__header-action"},Ln={key:0,class:"am-fcip__header-discount"},Tn={key:1,class:"am-fcip__header-price"},Bn={key:2,class:"am-fcip__header-tax"},Fn={class:"am-fcip__header-btn"},zn={key:0,class:"am-fcip__header-bottom"},An={class:"am-fcip__mini-info"},Rn={key:0,class:"am-fcip__mini-info__inner"},Mn=a("span",{class:"am-icon-folder"},null,-1),On={key:1,class:"am-fcip__mini-info__inner"},Nn=a("span",{class:"am-icon-clock"},null,-1),Vn={key:0},Un={key:1},Wn={key:2},jn={key:2,class:"am-fcip__mini-info__inner"},Hn=a("span",{class:"am-icon-user"},null,-1),qn=a("span",null,"1/1",-1),Gn=[Hn,qn],Jn={key:3,class:"am-fcip__mini-info__inner"},Yn=a("span",{class:"am-icon-locations"},null,-1),Qn={key:0,class:"am-fcip__gallery"},Xn={key:0,class:"am-fcip__gallery-thumb__wrapper"},Zn=a("span",{class:"am-icon-gallery"},null,-1),Kn={class:"am-gd__display-wrapper"},eo={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},to=["src","alt"],ao={class:"am-gd__selection"},io={class:"am-gd__thumb-wrapper"},so=["onClick"],lo={key:1,class:"am-fcip__info"},no={class:"am-fcip__info-tab__wrapper"},oo={class:"am-fcip__info-content__wrapper"},co={key:0,class:"am-fcip__info-content"},ro=["innerHTML"],uo={key:1,class:"am-fcip__info-content"},mo={class:"am-fcip__info-employee"},po={class:"am-fcip__info-employee__hero"},_o={class:"am-fcip__info-employee__name"},vo=["innerHTML"],fo={key:2,class:"am-fcip__include-wrapper"},go={class:"am-fcip__include-heading"},yo={class:"am-fcip__include-heading__text"},ho={class:"am-fcip__include-service"},bo={class:"am-fcip__include-service__info"},ko={key:0},Co=["innerHTML"],$o={class:"am-fcip__include-footer"},wo={class:"am-fcip__include-footer__text"},So={key:1,ref:"ameliaContainer",class:"am-empty"},xo=["src"],Po={class:"am-empty__heading"},Io={class:"am-empty__subheading"},Eo={class:"am-empty__text"},Do={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Lo={name:"CategoryPackage"},To=Object.assign(Lo,{setup(v){let{previousPage:B}=z("changingPageFunctions",{previousPage:()=>{}}),f=w(),S=z("containerWidth");const C=z("settings"),T=z("baseUrls");let u=et();const s=z("shortcodeData"),d=h(()=>u.getters["entities/getPreselected"]);let b=z("amEntities"),D=z("customizedDataForm"),k=h(()=>D.value.categoryPackage.options),x=h(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),_=z("itemType"),U=z("categorySelected"),te=h(()=>b.value.categories.find(X=>X.id===U.value)),I=h(()=>b.value.packages.find(X=>X.id===u.getters["booking/getPackageId"])),F=w(0),c=w("description"),H=h(()=>ta(b.value,I.value,s.value)),ne=h(()=>st(b.value,I.value,s.value)),G=w(d.value.employee.length>0?b.value.unfilteredEmployees.filter(X=>d.value.employee.map(W=>parseInt(W)).includes(X.id)):b.value.unfilteredEmployees);function pe(X){let W=[];return X.providers.length?X.providers.forEach(A=>{G.value.find(ue=>ue.id===parseInt(A.id))&&W.push(G.value.find(ue=>ue.id===parseInt(A.id)))}):W=G.value.filter(A=>A.serviceList.find(ue=>ue.id===X.service.id)),W}Re(()=>{k.value.packageDescription.visibility||(c.value="employees"),Me(I.value.description)||(c.value="employees")});let Ce=w(!1);Rt(()=>{Ce.value=u.getters["entities/getEmployees"].length===0||H.value.length===0});let V=w(!1),he=h(()=>{let X=I.value.gallery.length?JSON.parse(JSON.stringify(I.value.gallery)):[];return I.value.gallery.length===1?[]:(X.shift(),X.length>2&&X.splice(2,X.length-2),X)});function oe(){_.value="",Se(()=>{B()})}let p=w(!1),fe=w("760px");se("bookingDialogWidth",fe);function $e(){u.commit("booking/setPackageId",I.value.id),u.commit("booking/setMultipleAppointments",Pt(0,I.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),Se(()=>{p.value=!0})}z("restoreFormData").value&&$e();let ve=w("");se("stepName",ve);function ee(){let X=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),W=X.settings?JSON.parse(X.settings):C;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Le(){ve.value&&ve.value==="CongratulationsStep"?ee():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),fe.value="760px"}let Te=z("amFonts");const m=z("labels"),Y=z("localLanguage");let q=h(()=>C.general.usedLanguages.includes(Y.value)),M=h(()=>{let X=tt({...m});if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let W=C.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(A=>{W[A][Y.value]&&q.value?X[A]=W[A][Y.value]:W[A].default&&(X[A]=W[A].default)})}return X});function Be(X,W){let A="";return X>1?(W==="day"&&(A=M.value.expires_days),W==="week"&&(A=M.value.expires_weeks),W==="month"&&(A=M.value.expires_months)):(W==="day"&&(A=M.value.expires_day),W==="week"&&(A=M.value.expires_week),W==="month"&&(A=M.value.expires_month)),A}let ie=z("amColors"),Ue=h(()=>({"--am-c-fcip-success-op20":ae(ie.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ie.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ie.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ie.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ie.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ie.value.colorBtnSec,.5)})),Fe=h(()=>({"--am-c-fcip-bgr":ie.value.colorMainBgr,"--am-c-fcip-text":ie.value.colorMainText,"--am-c-fcip-success":ie.value.colorSuccess,"--am-c-fcip-primary":ie.value.colorPrimary,"--am-c-scroll-op30":ae(ie.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ie.value.colorPrimary,.1),"--am-font-family":Te.fontFamily}));return(X,W)=>(t(),i(Z,null,[e(Ce)?r("",!0):(t(),ye(Vt,{key:0,ref_key:"contentRef",ref:f,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(x)?"":"no-scroll"}`,style:re(e(Ue))},Mt({heading:N(()=>[a("div",{class:O([[{"am-tablet":e(S)<=678},{"am-mobile":e(S)<450}],"am-fcip__header-top"])},[a("div",xn,[a("span",Pn,[a("span",null,l(e(I).name),1)]),e(k).packageBadge.visibility?(t(),i("div",In,[En,a("span",null,l(e(M).package),1)])):r("",!0)]),a("div",Dn,[e(I).discount&&e(k).packagePrice.visibility?(t(),i("span",Ln,l(`${e(M).save} ${e(I).discount}%`),1)):r("",!0),e(k).packagePrice.visibility?(t(),i("span",Tn,l(e(I).price?e(Ze)(e(Ot)(e(I))):e(M).free),1)):r("",!0),e(I).price&&(e(k).tax?.visibility??!0)&&e(_t)(e(u),e(I).id,"package")?(t(),i("span",Bn,[e(C).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(M).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(M).incl_tax),1)],64))])):r("",!0),a("span",Fn,[J(Ae,{type:e(k).bookingBtn.buttonType,onClick:$e},{default:N(()=>[me(l(e(M).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(d).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(ne).length?(t(),i("div",zn,[a("div",An,[e(d).package.length!==1&&e(k).packageCategory.visibility&&e(te)?(t(),i("div",Rn,[Mn,a("span",null,l(e(te).name),1)])):r("",!0),e(k).packageDuration.visibility?(t(),i("div",On,[Nn,e(I).endDate?(t(),i("span",Vn,l(`${e(M).expires_at} ${e(I).endDate.split(" ")[0]}`),1)):e(I).durationCount?(t(),i("span",Un,l(`${e(M).expires_after} ${e(I).durationCount} ${Be(e(I).durationCount,e(I).durationType)}`),1)):(t(),i("span",Wn,l(e(M).without_expiration),1))])):r("",!0),e(k).packageCapacity.visibility?(t(),i("div",jn,Gn)):r("",!0),e(ne).length&&e(k).packageLocation.visibility?(t(),i("div",Jn,[Yn,a("span",null,l(e(ne).length===1?e(ne)[0].address?e(ne)[0].address:e(ne)[0].name:e(M).multiple_locations),1)])):r("",!0)])])):r("",!0)]),content:N(()=>[e(I).gallery.length?(t(),i("div",Qn,[a("div",{class:O(["am-fcip__gallery-hero",[{w100:e(I).gallery.length===1},{"am-mobile w100":e(S)<678}]]),style:re({backgroundImage:`url(${e(I).gallery[0].pictureFullPath})`})},null,6),e(he).length&&e(S)>677?(t(),i("div",Xn,[(t(!0),i(Z,null,ge(e(he),(A,ue)=>(t(),i("div",{key:ue,class:O(["am-fcip__gallery-thumb",{"am-one-thumb":e(he).length===1}]),style:re({backgroundImage:`url(${A.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcip__gallery-btn${e(S)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>de(V)?V.value=!0:V=!0)},{default:N(()=>[Zn,a("span",null,l(e(M).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ct,{modelValue:e(V),"onUpdate:modelValue":W[4]||(W[4]=A=>de(V)?V.value=A:V=A),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(Fe))},[a("div",Kn,[a("div",eo,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>de(F)?F.value=e(F)<=0?e(I).gallery.length-1:e(F)-1:F=e(F)<=0?e(I).gallery.length-1:e(F)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>de(F)?F.value=e(I).gallery.length-1===e(F)?0:e(F)+1:F=e(I).gallery.length-1===e(F)?0:e(F)+1)})]),(t(!0),i(Z,null,ge(e(I).gallery,(A,ue)=>(t(),i("div",{key:ue,class:"am-gd__display",style:re({display:ue===e(F)?"flex":"none"}),onClick:W[3]||(W[3]=()=>de(F)?F.value=e(I).gallery.length-1===e(F)?0:e(F)+1:F=e(I).gallery.length-1===e(F)?0:e(F)+1)},[a("img",{src:A.pictureFullPath,alt:ue},null,8,to)],4))),128))]),a("div",ao,l(`${e(F)+1}/${e(I).gallery.length}`),1),a("div",io,[(t(!0),i(Z,null,ge(e(I).gallery,(A,ue)=>(t(),i("div",{key:ue,class:O(["am-gd__thumb",{"am-active":ue===e(F)}]),style:re({backgroundImage:`url(${A.pictureFullPath})`}),onClick:()=>de(F)?F.value=ue:F=ue},null,14,so))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Me)(e(I).description)||e(k).packageEmployees.visibility?(t(),i("div",lo,[a("div",no,[e(Me)(e(I).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>de(c)?c.value="description":c="description")},l(e(M).about_package),3)):r("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:O([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>de(c)?c.value="employees":c="employees")},l(e(M).tab_employees),3)):r("",!0)]),a("div",oo,[e(Me)(e(I).description)&&e(k).packageDescription.visibility?wt((t(),i("div",co,[a("div",{class:O(["am-fcip__info-service__desc",{"ql-description":e(I).description.includes("<!-- Content -->")}]),innerHTML:e(I).description},null,10,ro)],512)),[[St,e(c)==="description"]]):r("",!0),e(k).packageEmployees.visibility?wt((t(),i("div",uo,[J(Ct,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(H),A=>(t(),ye($t,{key:A.id,side:""},{heading:N(()=>[a("div",mo,[a("div",po,[J(nt,{"item-class":"am-fcip__info-employee__img","item-data":A,"trim-string":3},null,8,["item-data"]),a("div",_o,[me(l(A.firstName)+" "+l(A.lastName)+" ",1),A.badge?(t(),i("span",{key:0,style:re({background:A.badge.color}),class:"am-fcip__info-employee__badge"},l(A.badge.content),5)):r("",!0)])])])]),default:N(()=>[e(Me)(A.description)?(t(),i("div",{key:0,class:O(["am-fcip__info-employee__description",{"ql-description":A.description.includes("<!-- Content -->")}]),innerHTML:A.description},null,10,vo)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(k).packageServices.visibility?(t(),i("div",fo,[a("div",go,[a("span",yo,l(`${e(M).package_includes}:`),1)]),J(Ct,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(I).bookable,A=>(t(),ye($t,{key:A.id,side:!0},{heading:N(()=>[a("div",ho,[J(nt,{"item-class":"am-fcip__include-service__img","item-data":A.service},null,8,["item-data"]),me(" "+l(A.service.name+(e(I).sharedCapacity?"":" x"+A.quantity)),1)])]),default:N(()=>[a("div",bo,[a("span",null,l(`${e(M).tab_employees}:`),1),(t(!0),i(Z,null,ge(pe(A).slice(0,6),ue=>(t(),ye(nt,{key:ue.id,"item-class":"am-fcip__include-service__info-name","item-data":ue,"trim-string":3},null,8,["item-data"]))),128)),pe(A).length>6?(t(),i("span",ko," + "+l(pe(A).length-6),1)):r("",!0),e(Me)(A.service.description)?(t(),i("div",{key:1,class:O(["am-fcip__include-service__info-description",{"ql-description":A.service.description.includes("<!-- Content -->")}]),innerHTML:A.service.description},null,10,Co)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",$o,[a("span",wo,l(e(M).package_book_service),1)])])):r("",!0),J(ct,{modelValue:e(p),"onUpdate:modelValue":W[7]||(W[7]=A=>de(p)?p.value=A:p=A),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(fe),onClosed:Le},{default:N(()=>[J(Ut)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:N(()=>[J(Nt,{"btn-string":e(M).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:oe},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(Ce)?(t(),i("div",So,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,xo),a("div",Po,l(e(M).oops),1),a("div",Io,l(e(M).no_package_services),1),a("div",Eo,[a("a",Do,l(e(M).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const Bo={name:"CatalogSkeleton"},Fo=Object.assign(Bo,{setup(v){let B=w(null),f=w(0);window.addEventListener("resize",S);function S(){B.value&&(f.value=B.value.offsetWidth)}Re(()=>{B.value&&(f.value=B.value.offsetWidth)});let C=h(()=>f.value<=500?"am-w100":f.value<=600?"am-w50":f.value<=768?"am-w33":"");return(T,u)=>{const s=Na,d=Oa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:B,class:"am-skeleton-catalog__wrapper"},[J(d,{animated:"",class:"am-skeleton-catalog"},{template:N(()=>[(t(!0),i(Z,null,ge(new Array(8),b=>(t(),i("div",{key:b,class:O(["am-skeleton-catalog__item",e(C)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const zo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ao=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ro=["href"],Mo={name:"CatalogFormWrapper"},Oo=Object.assign(Mo,{emits:["isRestored"],setup(v,{emit:B}){let f=z("isMounted"),S=z("licence"),C=w(null),T=w(20);const u=z("baseUrls");let s=w(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){C.value&&(s.value=C.value.offsetWidth)}Re(()=>{x.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),pt(x,{},"ViewContent","appointment",null,null),d(),f.value=!0,Yt("scrollForm",{offsetFromTop:T})});let b=w(!1);const D=z("settings"),k=z("shortcodeData"),x=et();x.commit("entities/setPreselected",k.value),x.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:S,loadEntities:k.value.trigger||window.ameliaShortcodeData.filter(Y=>!Y.hasApiCall).length===window.ameliaShortcodeData.length?!0:k.value.hasApiCall,showHidden:!1,isPanel:!1});const _=we(Si),U=we(nl),te=we(Sn),I=we(To);let F=w([_,U]),c=w(0),H=w(null);se("categorySelected",H);let ne=w([]);se("availableCategories",ne);let G=w("");se("itemType",G),kt(G,()=>{G.value==="appointment"&&F.value.push(te),G.value==="package"&&F.value.push(I),G.value===""&&F.value.forEach((Y,q)=>{Y.name==="CategoryService"&&pe(F.value,q),Y.name==="CategoryPackage"&&pe(F.value,q)})});function pe(Y,q){Y.splice(q,1)}function Ce(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V(){if(c.value=c.value+1,Ce())setTimeout(()=>{let Y=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Y,behavior:"smooth"})},500);else{let Y=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Y,behavior:"smooth"})}}function he(){c.value=c.value-1}se("changingPageFunctions",{nextPage:V,previousPage:he});let oe=h(()=>x.getters["entities/getReady"]),p=h(()=>x.state.entities);se("amEntities",p);function fe(){let Y=x.getters["entities/getPreselected"];if(Y.category.length!==1&&(k.value.categories_hidden&&(ne.value=JSON.parse(JSON.stringify(bt(p.value,k.value))),Se(()=>{let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)})),k.value.categories_hidden||(ne.value=JSON.parse(JSON.stringify(bt(p.value,k.value))),Se(()=>{if(ne.value.length===1){x.commit("booking/setCategoryId",parseInt(ne.value[0].id)),H.value=parseInt(ne.value[0].id);let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)}}))),Y.category.length===1&&(x.commit("booking/setCategoryId",parseInt(Y.category)),H.value=parseInt(Y.category[0]),ne.value=JSON.parse(JSON.stringify(bt(p.value,k.value).filter(q=>q.id===parseInt(Y.category[0])))),Se(()=>{let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)})),Y.service.length===1){x.commit("booking/setServiceId",parseInt(Y.service[0]));let q=x.getters["entities/getService"](parseInt(Y.service[0]));H.value=q?parseInt(q.categoryId):null,x.commit("booking/setCategoryId",q?parseInt(q.categoryId):null),Se(()=>{F.value=[],F.value.push(te)})}Y.employee.length===1&&x.commit("booking/setEmployeeId",parseInt(Y.employee[0])),Y.location.length===1&&x.commit("booking/setLocationId",parseInt(Y.location[0])),Y.package.length===1&&x.getters["entities/getPackages"].length&&(F.value=[],x.commit("booking/setPackageId",parseInt(Y.package[0])),Se(()=>{F.value.push(I)})),Y.show==="packages"?x.commit("booking/setBookableType","package"):x.commit("booking/setBookableType","appointment")}let $e=h(()=>oe.value?Ua(x,k.value):null);se("restoreFormData",$e),kt(oe,Y=>{Y&&(fe(),b.value=x.getters["entities/getServices"].length===0||x.getters["entities/getEmployees"].length===0,$e.value&&(G.value=x.state.booking.appointment.type,Se(()=>{c.value=F.value.length-1,H.value=x.state.booking.appointment.categoryId,B("isRestored",$e.value)})))});let _e=h(()=>D.customizedData&&"cbf"in D.customizedData?D.customizedData.cbf:lt.cbf);se("customizedDataForm",_e);const ve=w(D.customizedData?D.customizedData.fonts:lt.fonts);se("amFonts",ve);let ee=h(()=>D.customizedData&&"cbf"in D.customizedData?D.customizedData.cbf.colors:lt.cbf.colors);se("amColors",ee);let Le=h(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Te(){let Y=document.head||document.getElementsByTagName("head")[0];Y.querySelector("#amCustomFont")&&Y.querySelector("#amCustomFont").remove();let q=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,M=document.createElement("style");Y.appendChild(M),M.setAttribute("type","text/css"),M.setAttribute("id","amCustomFont"),M.appendChild(document.createTextNode(q))}ve.value.customFontSelected&&Te();let m=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",m),(Y,q)=>(t(),i(Z,null,[ve.value.customFontSelected?r("",!0):(t(),i(Z,{key:0},[zo,Ao,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ro)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Le))},[e(oe)&&e(F).length?(t(),ye(Qt(e(F)[e(c)]),{key:0})):(t(),ye(Fo,{key:1}))],4),J(e(Va))],64))}});var Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"}));export{Vo as C,xt as _,ti as a,Nt as b,nt as c,Vt as d,Oo as e};
