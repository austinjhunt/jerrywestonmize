import{d as qt,_ as St,u as it,o as t,c as i,a,b as e,e as he,w as P,f as ue,t as l,g as oa,h as ze,i as c,j as M,k as Mt,l as w,m as _,n as ee,F as H,r as ge,p as D,q as oe,s as g,v as xe,x as Fe,y as $t,z as Gt,A as gt,B as na,I as ca,C as pt,D as X,E as ct,G as _t,H as Se,J as ra,K as ua,L as ma,M as da,N as pa,O as _a,P as va,Q as fa,R as ga,S as ya,T as ha,U as ba,V as ka,W as Ca,X as Qe,Y as Ft,Z as $a,$ as Lt,a0 as Ot,a1 as dt,a2 as Jt,a3 as wa,a4 as Sa,a5 as xa,a6 as Yt,a7 as We,a8 as Xe,a9 as Ia,aa as Pa,ab as re,ac as Da,ad as Wt,ae as La,af as Qt,ag as Ta,ah as Ba,ai as Xt,aj as Ea,ak as wt,al as za,am as At,an as xt,ao as mt,ap as Nt,aq as vt,ar as Ut,as as ft,at as Vt,au as rt,av as Zt,aw as Kt,ax as at,ay as It,az as Ve,aA as ea,aB as Pt,aC as Dt,aD as Fa,aE as Aa,aF as Na,aG as Va,aH as Ma,aI as Oa}from"./stepForm.2a44b78f.js";const Wa={class:"am-cat__header-inner"},Ua={class:"am-cat__back-btn"},Ra={key:0,class:"am-cat__cart-btn"},Ha={class:"am-cat__cart-number"},ja={name:"MainHeader"},Rt=Object.assign(ja,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(ye,{emit:Y}){const F=ye;let ae=qt({components:{IconComponent:St},template:'<IconComponent icon="arrow-left"></IconComponent>'}),O=qt({components:{IconComponent:St},template:'<IconComponent icon="cart"/>'});function ve(){Y("goBack")}const z=it();function d(){Mt(z),Y("goToCart")}return(V,le)=>(t(),i("div",Wa,[a("div",Ua,[e(F).backBtnVisibility?(t(),he(ze,{key:0,prefix:e(ae),category:"secondary",type:ye.btnType,size:ye.btnSize,onClick:ve,onKeydown:oa(ve,["enter"])},{default:P(()=>[ue(l(e(F).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(F).cartBtnVisibility?(t(),i("div",Ra,[a("span",Ha,l(e(F).cartItemsNumber),1),M(ze,{"aria-label":"Go to cart button",category:"secondary",type:ye.btnType,size:ye.btnSize,round:!0,"icon-only":!0,icon:e(O),onClick:d},null,8,["type","size","icon"])])):c("",!0)]))}});const qa={class:"am-cat__sidemenu-item__wrapper"},Ga=["onClick"],Ja={key:0,class:"am-cat__sidemenu-footer"},Ya={class:"am-cat__sidemenu-footer__text"},Qa=["href"],Xa={name:"SideMenu"},Za=Object.assign(Xa,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(ye,{emit:Y}){const F=ye;function ae(z){Y("click",z)}let O=w("amColors"),ve=_(()=>({"--am-c-csm-text-op10":ee(O.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(O.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(O.value.colorSbText,.6),"--am-c-csm-text-op80":ee(O.value.colorSbText,.8)}));return(z,d)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:oe(e(ve))},[a("div",qa,[(t(!0),i(H,null,ge(ye.menuItems,(V,le)=>(t(),i("div",{key:le,class:D(["am-cat__sidemenu-item",{"am-active":e(F).initSelection===V[e(F).identifier]}]),onClick:()=>ae(V)},l(V[e(F).nameIdentifier]),11,Ga))),128))]),e(F).companyEmail?(t(),i("div",Ja,[a("span",Ya,l(e(F).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(F).companyEmail}`},l(e(F).companyEmail),9,Qa)])):c("",!0)],4))}});const Ka={name:"MainContent"},Ht=Object.assign(Ka,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(ye,{expose:Y}){let F=g(null),ae=g(0),O=g(null),ve=g(0),z=g(null),d=g(0),V=g(null),le=g(null),I=g(0);window.addEventListener("resize",G);function G(){xe(()=>{F.value&&(ae.value=F.value.offsetWidth),O.value&&(ve.value=O.value.offsetWidth),z.value&&(d.value=z.value.offsetWidth)})}Fe(()=>{xe(()=>{if(z.value&&V.value){let x=z.value.offsetHeight-V.value.offsetHeight-2;I.value=x<=656?656:x}G()})}),Y({catHeaderWidth:ae,catFormWidth:d,catContainerWidth:ve});let f=w("amColors"),m=_(()=>({"--am-h-cat-content":`${I.value}px`,"--am-c-scroll-op30":ee(f.value.colorPrimary,.3),"--am-c-scroll-op10":ee(f.value.colorPrimary,.1)}));return(x,T)=>(t(),i("div",{class:D(["am-cat__wrapper",ye.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:F,class:"am-cat__header"},[$t(x.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:O,class:"am-cat__main"},[$t(x.$slots,"side"),a("div",{ref_key:"catForm",ref:z,class:D(["am-cat__form",ye.formClass]),style:oe(e(m))},[a("div",{ref_key:"catHeading",ref:V,class:D(["am-cat__heading",ye.headingClass])},[$t(x.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:le,class:D(["am-cat__content",ye.contentClass])},[$t(x.$slots,"content")],2)],6)],512)],2))}}),ei={name:"AmImagePlaceholder"},ut=Object.assign(ei,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(ye){const Y=ye;function F(O){return O.pictureFullPath?{backgroundImage:`url(${O.pictureFullPath})`}:{backgroundColor:`${Gt.value[Math.floor(Math.random()*Gt.value.length)]}`}}function ae(O){return O.pictureFullPath?"":("firstName"in O?`${O.firstName} ${O.lastName}`:O.name).split(" ").map(z=>z.charAt(0)).join("").toUpperCase().substring(0,Y.trimString).replace(/[^\w\s]/g,"")}return(O,ve)=>(t(),i("span",{class:D(e(Y).itemClass),style:oe({...F(e(Y).itemData)})},l(ae(e(Y).itemData)),7))}});const ti={class:"am-fcl__item-inner"},ai={class:"am-fcl__item-name"},ii={class:"am-fcl__item-segments"},si={key:0,class:"am-fcl__item-segments__item"},li=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),oi={class:"am-fcl__item-segments__item-count"},ni={key:1,class:"am-fcl__item-segments__item"},ci=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),ri={class:"am-fcl__item-segments__item-count"},ui={class:"am-fcl__item-footer"},mi=["src","alt"],di={class:"am-empty__heading"},pi={class:"am-empty__subheading"},_i={class:"am-empty__text"},vi={key:0},fi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},gi={key:1},yi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},hi={name:"CategoriesList",key:"categoriesList"},bi=Object.assign(hi,{setup(ye){const Y=w("baseUrls");let F=g(null),ae=g(0);window.addEventListener("resize",O);function O(){F.value&&(ae.value=F.value.offsetWidth)}Fe(()=>{F.value&&(ae.value=F.value.offsetWidth)});let ve=_(()=>ae.value<=500?"am-w100":ae.value<=600?"am-w50":ae.value<=768?"am-w33":""),{nextPage:z}=w("changingPageFunctions",{nextPage:()=>{}});const d=w("settings");let V=it(),le=w("amEntities"),I=w("customizedDataForm"),G=_(()=>I.value.categoriesList.options);const f=w("shortcodeData"),m=_(()=>V.getters["entities/getPreselected"]);let x=w("availableCategories"),T=_(()=>x.value),j=w("categorySelected");function de(fe){j.value=fe,V.commit("booking/setCategoryId",parseInt(fe)),pt(V,{},"SelectCategory","appointment",null,null),z()}let o=_(()=>T.value.length===0);const h=w("labels"),se=w("localLanguage");let J=_(()=>d.general.usedLanguages.includes(se.value)),ne=_(()=>{let fe=gt({...h});if(d.customizedData&&d.customizedData.cbf&&d.customizedData.cbf.categoriesList.translations){let Z=d.customizedData.cbf.categoriesList.translations;Object.keys(Z).forEach(Q=>{Z[Q][se.value]&&J.value?fe[Q]=Z[Q][se.value]:Z[Q].default&&(fe[Q]=Z[Q].default)})}return fe}),ke=w("amColors"),L=_(()=>({"--am-c-fcl-card-text-op80":ee(ke.value.colorCardText,.8)}));return(fe,Z)=>e(o)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:F,class:"am-empty"},[a("img",{src:e(Y).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(m).show!=="packages"?e(ne).no_services_employees:e(ne).no_package_services},null,8,mi),a("div",di,l(e(ne).oops),1),a("div",pi,l(e(m).show!=="packages"?e(ne).no_services_employees:e(ne).no_package_services),1),a("div",_i,[e(m).show!=="packages"?(t(),i("span",vi,l(e(ne).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",fi,l(e(ne).add_services_url)+"\xA0 ",1),e(m).show!=="packages"?(t(),i("span",gi,l(e(ne).and)+"\xA0 ",1)):c("",!0),e(m).show!=="packages"?(t(),i("a",yi,l(e(ne).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:F,class:"am-fcl",role:"main",style:oe(e(L))},[(t(!0),i(H,null,ge(e(T),Q=>(t(),i("div",{key:Q.id,class:D(["am-fcl__item",e(ve)]),role:"group"},[a("div",ti,[a("div",{class:"am-fcl__item-content",style:oe(e(G).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:Q.color}:{})},[a("div",{class:"am-fcl__item-heading",style:oe(e(G).cardColor&&e(G).cardColor.visibility?{backgroundColor:e(ee)(Q.color,.1)}:{})},[Q.pictureFullPath?(t(),i("div",{key:0,style:oe({backgroundImage:`url(${Q.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",ai,l(Q.name),1),a("div",ii,[(!e(m).show||e(m).show==="services")&&e(G).services.visibility?(t(),i("div",si,[li,a("span",oi,l(e(na)(e(f),Q,e(le)).length),1)])):c("",!0),(!e(m).show||e(m).show==="packages")&&Q.packageList.length&&e(G).packages.visibility?(t(),i("div",ni,[ci,a("span",ri,l(Q.packageList.length),1)])):c("",!0)])],4),a("div",ui,[M(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(G).cardButton.buttonType,suffix:e(ca),onClick:Le=>de(Q.id)},{default:P(()=>[ue(l(e(ne).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const ki=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ci=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),$i=["href"],wi={class:"am-fs-sb__step-wrapper",tabindex:"0"},Si={class:"am-fs-sb__step-inner"},xi={class:"am-fs-sb__step-icon"},Ii={key:0,class:"am-icon-check"},Pi={key:0},Di={key:1},Li={key:1},Ti={key:0,class:"am-fs-sb__step"},Bi={class:"am-fs-sb__step-inner"},Ei={class:"am-fs-sb__step-icon"},zi={key:0,class:"am-icon-check"},Fi={key:0,class:"am-fs-sb__support"},Ai=["aria-label","href"],Ni={key:1,class:"am-icon-phone"},Vi=["aria-label","href"],Mi={key:1,class:"am-icon-email"},Oi={key:0,class:"am-fs-sb__menu-text"},Wi={key:2,class:"am-no-services"},Ui=["src","alt"],Ri={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Hi={style:{"font-size":"14px"}},ji={href:"https://wpamelia.com/employees/",rel:"nofollow"},qi={name:"CategoryBooking"},jt=Object.assign(qi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(ye,{emit:Y}){const F=ye;let ae=g(null),O=g();X("containerWidth",O);let ve=g(!1);window.addEventListener("resize",z);function z(){ae.value&&(O.value=ae.value.offsetWidth)}Fe(()=>{xe(()=>{ae.value&&(O.value=ae.value.offsetWidth)}),pt(o,{containerWidth:O},"ContainerWidth","appointment",null,null)});const d=w("settings"),V=d.customizedData&&d.customizedData.sbsNew?d.customizedData.sbsNew:ct.sbsNew;V&&X("amCustomize",V);let le=_(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in V.sidebar.options&&(n.heading=V.sidebar.options.supportHeading.visibility),"companyPhone"in V.sidebar.options&&(n.phone=V.sidebar.options.companyPhone.visibility),"companyEmail"in V.sidebar.options&&(n.email=V.sidebar.options.companyEmail.visibility),n});const I=g(d.customizedData?d.customizedData.fonts:ct.fonts);X("amFonts",I);let G=g(!1);X("sidebarCollapsed",G);let f=g(""),m=w("bookingDialogWidth");_t(G,n=>{n?setTimeout(()=>{f.value="am-collapsed",setTimeout(()=>{m.value="592px"},200)},1e3):(f.value="",m.value="760px")}),Fe(()=>{V.sidebar.options.self.visibility||(m.value="520px")});let x=g(null),T=g(0);Fe(()=>{setTimeout(()=>{xe(()=>{x.value&&setTimeout(()=>{x.value&&(T.value=x.value.offsetHeight)},200)})},800)});let j=g(V.sidebar?V.sidebar.options.self.visibility:!0);const de=w("baseUrls"),o=it();let h=_(()=>{let n=o.getters["entities/getOriginalPreselected"],y={category:o.state.booking.appointment.categoryId?[o.state.booking.appointment.categoryId]:[],counter:o.state.entities.preselected.counter,employee:o.state.booking.appointment.providerId?[o.state.booking.appointment.providerId]:[],hasApiCall:o.state.entities.preselected.hasApiCall,location:o.state.booking.appointment.locationId?[o.state.booking.appointment.locationId]:[],service:o.state.booking.appointment.serviceId?[o.state.booking.appointment.serviceId]:[],package:o.state.booking.packageId?[o.state.booking.packageId]:[],show:o.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(b=>{b in y||(y[b]=n[b])}),y});o.commit("entities/setPreselected",h.value);let se=w("restoreFormData");const J=Se(ra),ne=Se(ua),ke=Se(ma),L=Se(da),fe=Se(pa),Z=Se(_a),Q=Se(va),Le=Se(fa),pe=Se(ga),R=Se(ya),Ce=Se(ha),Me=Se(ba),k=Se(ka),A=Se(Ca),r=g(Qe(o)?[J,Z,R,Ce,pe]:[J,Z,Ce,pe]);X("stepsArray",r);const ce=w("labels"),Ee=w("localLanguage");let me=_(()=>d.general.usedLanguages.includes(Ee.value)),Ue=Ft(o),N=_(()=>{let n=gt({...ce});return d.customizedData&&d.customizedData.sbsNew&&Object.keys(d.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&d.customizedData.sbsNew[y].translations){let b=d.customizedData.sbsNew[y].translations;Object.keys(b).forEach(q=>{b[q][Ee.value]&&me.value?n[q]=b[q][Ee.value]:b[q].default&&(n[q]=b[q].default)})}}),n});X("amLabels",N);let Ae=_(()=>{let n={};if(d.customizedData&&d.customizedData.sbsNew){let y=d.customizedData.sbsNew[r.value[p.value].key]?d.customizedData.sbsNew[r.value[p.value].key].translations:null;d.customizedData&&y&&Object.keys(y).forEach(b=>{y[b][Ee.value]&&me.value?n[b]=y[b][Ee.value]:y[b].default&&(n[b]=y[b].default)})}return Object.keys(n).length?n:ce}),Re=_(()=>{let n="filled";return d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew[r.value[p.value].key]&&(n=d.customizedData.sbsNew[r.value[p.value].key].options.primaryFooterButton.buttonType),n});X("primFooterBtnType",Re),X("primDescBtnType",Re);let K=_(()=>{let n="text";return d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew[r.value[p.value].key]&&d.customizedData.sbsNew[r.value[p.value].key].options.secondaryFooterButton&&(n=d.customizedData.sbsNew[r.value[p.value].key].options.secondaryFooterButton.buttonType),n}),Ne=_(()=>d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew.cartStep?d.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Ie=_(()=>d.customizedData&&d.customizedData.sbsNew&&d.customizedData.sbsNew.cartStep?d.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function W(n,y){let b="";if(d.customizedData&&d.customizedData.sbsNew){let q=d.customizedData.sbsNew[y]?d.customizedData.sbsNew[y].translations:null;d.customizedData&&q&&q[n]&&(b===""&&q[n][Ee.value]&&me.value?b=q[n][Ee.value]:b===""&&q[n].default&&(b=q[n].default))}return b||ce[n]}let B=_(()=>$a(o.getters["entities/getEmployeeServices"](o.getters["booking/getSelection"])));function $(){let n=o.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(r.value.splice(0,1),ie.value.splice(0,1),we()),u();else{v();let y=o.getters["entities/filteredEmployees"](o.getters["booking/getSelection"]).length<=1,b=!V.initStep.options.employee.visibility,q=o.getters["entities/filteredLocations"](o.getters["booking/getSelection"]).length<=1,Be=!V.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||y||b)&&(n.location.length>0||q||Be)&&(B.value.availability?(r.value.splice(0,1,A),ie.value.splice(0,1)):(r.value.splice(0,1),ie.value.splice(0,1)),u())}}function U(n,y,b,q){n.value.map((Ye,la)=>y.includes(Ye.name)?la:null).filter(Ye=>Ye!==null).reverse().forEach(Ye=>{n.value.splice(Ye,1)});let nt={value:q};b.forEach(Ye=>{n.value.indexOf(Ye)===-1&&(o.getters["entities/getPreselected"].show==="packages"&&o.getters["entities/getPreselected"].package.length>0?n.value.splice(nt.value,0,Ye):n.value.splice(nt.value+1,0,Ye))})}X("goToPackageStep",{goToPackageStep:Te});function Te(n){o.commit("booking/setPackageId",n.id),o.commit("booking/setBookableType","package"),o.commit("booking/setMultipleAppointments",Lt(0,n)),o.commit("booking/setMultipleAppointmentsIndex",0);let y=n.bookable.reduce((Be,nt)=>Be+nt.maximumScheduled,0),b=[],q=[];r.value[0]!==ne&&b.push("ExtrasStep"),r.value[0]!==Z&&b.push("DateTimeStep"),r.value[0]!==R&&b.push("CartStep"),y>0?q=q.concat([Le,Q,ke]):q.push(ke),U(r,b,q,p.value),U(ie,b,[],p.value),u(),Oe()}function we(){let y=o.state.entities.packages.find(Be=>Be.id===o.getters["booking/getPackageId"]).bookable.reduce((Be,nt)=>Be+nt.maximumScheduled,0),b=[],q=[];r.value.find(Be=>Be.name==="ExtrasStep")&&b.push("ExtrasStep"),r.value.find(Be=>Be.name==="DateTimeStep")&&b.push("DateTimeStep"),y>0?q=q.concat([Le,Q,ke]):q.push(ke),U(r,b,q,p.value),U(ie,b,[],p.value),u(),Oe()}function Ge(){o.commit("booking/setBookableType","appointment"),o.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),o.commit("booking/setPackageId",null),o.commit("booking/setMultipleAppointmentsIndex",0),dt(o);let n=[];r.value[0]!==Z&&(Qe(o)&&n.push(R),n.push(Z)),r.value[0]!==ne&&S.value&&S.value.length&&n.push(ne),U(r,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,p.value-1),U(ie,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],p.value),u()}X("goToRecurringStep",{goToRecurringStep:Pe}),X("removeRecurringStep",{removeRecurringStep:E});function Pe(){Qe(o)&&Je();let n=0;for(let y=0;y<r.value.length;y++)if(r.value[y].name==="DateTimeStep"){n=y;break}r.value.splice(n+1,0,L),r.value.splice(n+2,0,fe),u(),Oe()}function E(){for(let n=r.value.length-1;n>=0;n--)(r.value[n].name==="RecurringStep"||r.value[n].name==="RecurringSummary")&&r.value.splice(n+1,1);Qe(o)&&De(p.value),u()}let S=_(()=>{let n=o.getters["entities/getService"](o.getters["booking/getServiceId"]);return n?n.extras:[]});function v(){S.value.length&&!r.value.find(n=>n.name==="ExtrasStep")&&(r.value.splice(p.value+1,0,ne),u()),ie.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(S.value).length&&(r.value.splice(1,1),ie.value.splice(1,1)),F.showCart||dt(o)}X("initDataChanges",{changeInitStepDataService:v});const p=g(0);X("stepIndex",p);let He=w("stepName",g(""));_t(p,(n,y)=>{n<ie.value.length&&(ie.value[y].selected=!1,ie.value[n].selected=!0),n===ie.value.length&&(ie.value[y].selected=!1),He.value=r.value[n].name});let st=g(!1);X("goBackToPackageBooking",st),X("addCartStep",{addCartStep:()=>De(p.value)}),X("removeCartStep",{removeCartStep:Je});function yt(){kt(!1),$e.value||(r.value[p.value].name===ke.name&&Ge(),r.value[p.value].name===L.name&&(r.value.splice(p.value,2),ie.value.splice(p.value,2),Qe(o)&&(r.value.splice(p.value,0,R),U(ie,[],[],p.value),u())),r.value[p.value].name===Le.name&&(st.value=!0),p.value=p.value-1),tt.value=!tt.value}function Oe(){$e.value||(ie.value[p.value].finished=!0,p.value=p.value+1)}let Ze=_(()=>o.getters["entities/getReady"]),lt=_(()=>o.getters["booking/getLoading"]),je=_(()=>o.getters["booking/getBooked"]),et=_(()=>o.getters["booking/getPaymentGateway"]),ot=g(!1),ht=g(!1),tt=g(!1);function bt(){ot.value=!0}function Tt(){ot.value=!1}function Bt(){tt.value=!0}function Et(){tt.value=!1}function kt(n){ht.value=n}function zt(){je.value&&(je.value.customerCabinetUrl?window.location.href=je.value.customerCabinetUrl:window.location.href=d.roles.customerCabinet.pageUrl)}X("secondButton",{secondButtonClick:zt});let $e=g(!1);X("changingStepsFunctions",{nextStep:Oe,previousStep:yt,footerButtonClick:bt,footerButtonReset:Tt,footerBtnDisabledUpdater:kt,headerButtonPreviousClick:Bt,headerButtonPreviousReset:Et,footerBtnDisabled:ht,footerButtonClicked:ot,headerButtonPreviousClicked:tt,navigateInsideStep:$e});const ie=g([]);X("sidebarSteps",ie);function Ct(n){ie.value[p.value].stepSelectedData.filter(y=>y.reference===n.reference).length?ie.value[p.value].stepSelectedData.forEach((y,b,q)=>{y.reference===n.reference&&n.value&&n.value!==y.value&&(y.value=n.value),y.reference===n.reference&&!n.value&&q.splice(b,1)}):n.value&&ie.value[p.value].stepSelectedData.push(n),ie.value[p.value].stepSelectedData.sort((y,b)=>y.position-b.position)}function C(){r.value.forEach((n,y)=>{if(n.name!=="CongratulationsStep"){let b=n.sidebarData.label,q={name:n.name,key:n.key,label:N.value[b],labelKey:b,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===p.value};ie.value.splice(y,0,q)}})}Ot(()=>{C(),$()}),Fe(()=>{switch(o.getters["booking/getBookableType"]){case"appointment":F.showCart||dt(o);break}if(F.showCart&&Jt(r,p),se.value){r.value.splice(0,r.value.length),ie.value.splice(0,ie.value.length),p.value=0,se.value.steps.forEach(y=>{switch(y){case"packageStep":r.value.push(k);break;case"bringingAnyone":r.value.push(A);break;case"initStep":r.value.push(J);break;case"packageInfoStep":r.value.push(ke);break;case"packageAppointmentsStep":r.value.push(Q);break;case"packageAppointmentsListStep":r.value.push(Le);break;case"extrasStep":r.value.push(ne);break;case"dateTimeStep":r.value.push(Z);break;case"recurringStep":r.value.push(L);break;case"recurringSummary":r.value.push(fe);break;case"cartStep":r.value.push(R);break;case"infoStep":r.value.push(Ce);break;case"paymentStep":r.value.push(Me);break;case"congratulations":r.value.push(pe);break}let b=se.value.sidebar.find(q=>q.key===y);u(),typeof b<"u"&&b.data&&b.data.forEach(q=>{Ct({reference:q.reference,position:q.position,value:q.value})}),p.value++}),o.commit("booking/setLoading",!1);let n=-1;se.value.result==="success"?n=r.value.length-1:(se.value.result==="error"||se.value.result==="canceled")&&(n=r.value.length-2);for(let y=0;y<=n;y++)r.value[y].finished=!0;for(let y=0;y<=n-1;y++)ie.value[y].finished=!0,ie.value[y].selected=!1;(se.value.result==="error"||se.value.result==="canceled")&&(ie.value[n].finished=!1,ie.value[n].selected=!0),p.value=n}});function u(){r.value.forEach((n,y)=>{if(n.name!=="CongratulationsStep"&&!ie.value.find(b=>b.labelKey===n.sidebarData.label)){let b=n.sidebarData.label,q={name:n.name,key:n.key,label:N.value[b],labelKey:b,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===p.value};ie.value.splice(y,0,q)}})}X("sidebarStepsFunctions",{sidebarDataCollector:Ct}),X("addPaymentsStep",{addPaymentsStep:s}),X("removePaymentsStep",{removePaymentsStep:te});function s(){r.value.splice(r.value.length-1,0,Me),u()}function te(){let n=["PaymentStep"];U(r,n,[],p.value),U(ie,n,[],p.value)}function De(n){U(r,[],[R],n),U(ie,[],[],n),u()}function Je(){U(r,["CartStep"],[],p.value),U(ie,["CartStep"],[],p.value),u()}let Ke=_(()=>Ft(o).length?wa(o)!==0:Sa(o));const qe=_(()=>o.getters["appointmentWaitingListOptions/getIsWaitingListSlot"]);xa(()=>{if(qe.value){te();return}let n=Ft(o);!n[0].serviceId&&Object.keys(n[0].services).length===0&&Y("emptiedCart"),!se.value&&!Ke.value?te():se.value||r.value.indexOf(Me)===-1&&s()},{flush:"post"});function _e(){ie.value.forEach(n=>{n.finished=!1,n.selected=!1}),r.value.forEach(n=>{n.finished=!1,n.selected=!1}),p.value=0,Xt(o,!0),Ea(o),dt(o),Y("addToCart")}function ta(){let n=o.getters["booking/getCurrentCartItem"],y=o.getters["booking/getAllMultipleAppointments"];n?(o.commit("booking/setCartItem",n),o.commit("booking/setCartItemIndex",y.length-1),o.commit("booking/setCurrentCartItem",null)):(y.pop(),o.commit("booking/setCartItemIndex",y.length-1),o.commit("booking/setServiceId",y[y.length-1].serviceId),o.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),o.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Jt(r,p)}let be=_(()=>d.customizedData&&d.customizedData.sbsNew?d.customizedData.sbsNew.colors:ct.sbsNew.colors);X("amColors",be);let aa=_(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ee(be.value.colorMainText,.2),"--am-c-skeleton-op60":ee(be.value.colorMainText,.6),"--am-font-family":I.value.fontFamily,"--am-mw-main":j.value?G.value?"592px":"760px":"520px","--am-brad-main":j.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ia(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${I.value.fontFamily}'; src: url(${I.value.fontUrl});}`,b=document.createElement("style");n.appendChild(b),b.setAttribute("type","text/css"),b.setAttribute("id","amCustomFont"),b.appendChild(document.createTextNode(y))}I.value.customFontSelected&&ia();let sa=_(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",sa),Fe(()=>{Yt("renderForm",{ameliaContainer:ae,containerWidth:O,empty:ve,amCustomize:V,amFonts:I,sidebarCollapsed:G,sidebarCollapseItemsClass:f,sidebarFooterRef:x,sidebarFooterHeight:T,sidebarVisibility:j})}),(n,y)=>(t(),i(H,null,[I.value.customFontSelected?c("",!0):(t(),i(H,{key:0},[ki,Ci,a("link",{rel:"stylesheet",type:"text/css",href:`${e(de).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,$i)],64)),e(ve)?(t(),i("div",Wi,[a("img",{src:e(de).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(N).no_services_employees},null,8,Ui),a("h1",null,l(e(N).oops),1),a("h3",null,l(e(N).no_services_employees),1),a("p",null,l(e(N).add_services_employees),1),a("a",Ri,l(e(N).add_services_url)+"\xA0 ",1),a("span",Hi,l(e(N).and)+"\xA0",1),a("a",ji,l(e(N).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:ae,class:D(["am-fs__wrapper",{"am-collapsed":e(G)}]),style:oe(e(aa))},[e(O)>560&&e(j)?(t(),he(Da,{key:0,class:D(["am-fs-sb",{"am-collapsed":e(G)}]),style:oe({width:e(G)?"72px":"240px",paddingBottom:`${e(T)+16}px`})},{"step-list":P(()=>[a("div",wi,[r.value[p.value]!==e(pe)||!e(d).general.addToCalendar||e(je)&&e(je).data.length===0?(t(!0),i(H,{key:0},ge(ie.value,b=>(t(),i("div",{key:b.key,class:"am-fs-sb__step"},[a("div",Si,[a("div",xi,[a("span",{class:D(`am-icon-${b.icon}`)},null,2),b.key==="cartStep"&&e(We)(e(o))!==0?(t(),i("span",{key:0,class:D(["am-fs-sb__step-icon__number",e(f)])},l(e(We)(e(o))),3)):c("",!0)]),M(Xe,{name:"fade"},{default:P(()=>[e(G)?c("",!0):(t(),i("p",{key:0,class:D(["am-fs-sb__step-heading",e(f)])},l(b.label),3))]),_:2},1024),a("div",{class:D(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":b.selected},e(f)]])},[M(Xe,{name:"fade"},{default:P(()=>[b.finished?(t(),i("span",Ii)):c("",!0)]),_:2},1024)],2)]),M(Ia,{tag:"span",name:"fade",appear:"",class:D(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":b.key===e(Q).key&&b.stepSelectedData.length>3}])},{default:P(()=>[e(G)?c("",!0):(t(!0),i(H,{key:0},ge(b.stepSelectedData,(q,Be)=>(t(),i("p",{key:q.position,class:"am-fs-sb__step-selection"},[b.key!==e(Q).key||Be<3?(t(),i("span",Pi,l(q.value),1)):(t(),i("span",Di,l(e(N).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Li,[M(Xe,{name:"fade"},{default:P(()=>[e(G)?c("",!0):(t(),he(Pa,{key:0}))]),_:1}),e(G)?(t(),i("div",Ti,[a("div",Bi,[a("div",Ei,[a("span",{class:D(`am-icon-${r.value[p.value].sidebarData.icon}`)},null,2)]),a("div",{class:D(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":r.value[p.value].sidebarData.selected},e(f)]])},[M(Xe,{name:"fade"},{default:P(()=>[r.value[p.value].sidebarData.finished?(t(),i("span",zi)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":P(()=>[a("div",{ref_key:"sidebarFooterRef",ref:x,class:"am-fs-sb__footer"},[(e(d).company.email||e(d).company.phone)&&(e(le).heading||e(le).phone||e(le).email)?(t(),i("div",Fi,[M(Xe,{name:"fade"},{default:P(()=>[!e(G)&&e(le).heading?(t(),i("div",{key:0,class:D(["am-fs-sb__support-heading",e(f)])},l(e(N).get_in_touch),3)):c("",!0)]),_:1}),e(d).company.phone&&e(le).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(d).company.phone}`,href:`tel:${e(d).company.phone}`},[e(G)?(t(),i("span",Ni)):(t(),i(H,{key:0},[ue(l(e(d).company.phone),1)],64))],8,Ai)):c("",!0),e(d).company.email&&e(le).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(d).company.email}`,href:`mailto:${e(d).company.email}`},[e(G)?(t(),i("span",Mi)):(t(),i(H,{key:0},[ue(l(e(d).company.email),1)],64))],8,Vi)):c("",!0)])):c("",!0),a("div",{class:D(["am-fs-sb__menu",e(f)]),onClick:y[0]||(y[0]=b=>re(G)?G.value=!e(G):G=!e(G))},[M(Xe,{name:"fade"},{default:P(()=>[e(G)?c("",!0):(t(),i("span",Oi,l(e(N).collapse_menu),1))]),_:1}),a("span",{class:D(`am-icon-arrow-circle-${e(G)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),M(Ba,null,Wt({step:P(()=>[(t(),he(Qt(r.value[p.value]),{"global-class":"am-fs__main-content","show-cart":e(F).showCart&&r.value[p.value]===e(Z)},null,8,["show-cart"]))]),footer:P(()=>[M(e(Ta),{"second-button-show":r.value[p.value]===e(pe)&&e(d).roles.customerCabinet.enabled&&e(d).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Qe)(e(o))&&r.value[p.value]===e(R),"back-to-cart-button-show":e(Qe)(e(o))&&e(Ue).length>1&&r.value[p.value]!==e(R)&&r.value[p.value]!==e(Ce)&&r.value[p.value]!==e(Me)&&r.value[p.value]!==e(pe),booked:e(je),loading:e(lt),ready:e(Ze),"payment-gateway":e(et),"customized-labels":e(Ae),"primary-footer-button-type":e(Re),"secondary-footer-button-type":e(K),"add-to-cart-button-type":e(Ne),"back-to-cart-button-type":e(Ie),"back-to-cart-label":W("cancel","cartStep"),onAddToCart:_e,onBackToCart:ta},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[r.value[p.value]!==e(pe)?{name:"header",fn:P(()=>[M(La,{"sidebar-visible":e(j),ready:e(Ze)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Gi={class:"am-fcil__filter-buttons"},Ji={class:"am-fcil__filter"},Yi=["aria-label"],Qi=["aria-label"],Xi=["aria-label"],Zi={class:"am-fcil__filter-item__btn-wrapper"},Ki={role:"heading","aria-level":"2",class:"am-fcil__heading"},es={key:0,class:"am-fcil__item-badge__wrapper"},ts={class:"am-fcil__item-badge am-package"},as=a("span",{class:"am-icon-shipment"},null,-1),is={class:"am-fcil__item-heading"},ss={class:"am-fcil__item-name"},ls={key:0,class:"am-fcil__item-cost"},os={key:0,class:"am-fcil__item-discount"},ns={class:"am-fcil__item-price"},cs={key:1,class:"am-fcil__item-price"},rs={class:"am-fcil__item-info"},us={key:0,class:"am-fcil__item-info__inner"},ms=a("span",{class:"am-icon-folder"},null,-1),ds={key:1,class:"am-fcil__item-info__inner"},ps=a("span",{class:"am-icon-clock"},null,-1),_s={key:0},vs={key:1},fs={key:2},gs={key:2,class:"am-fcil__item-info__inner"},ys=a("span",{class:"am-icon-user"},null,-1),hs=a("span",null,"1/1",-1),bs=[ys,hs],ks={key:3,class:"am-fcil__item-info__inner"},Cs=a("span",{class:"am-icon-locations"},null,-1),$s={key:2,class:"am-fcil__item-services"},ws={key:0,class:"am-fcil__item-badge__wrapper"},Ss={class:"am-fcil__item-badge am-service"},xs=a("span",{class:"am-icon-service"},null,-1),Is={class:"am-fcil__item-heading"},Ps={class:"am-fcil__item-name"},Ds={key:0,class:"am-fcil__item-cost"},Ls={key:0,class:"am-fcil__item-price"},Ts={key:1,class:"am-fcil__item-price"},Bs={class:"am-fcil__item-info"},Es={key:0,class:"am-fcil__item-info__inner"},zs=a("span",{class:"am-icon-folder"},null,-1),Fs={key:1,class:"am-fcil__item-info__inner"},As=a("span",{class:"am-icon-clock"},null,-1),Ns={key:2,class:"am-fcil__item-info__inner"},Vs=a("span",{class:"am-icon-user"},null,-1),Ms={key:3,class:"am-fcil__item-info__inner"},Os=a("span",{class:"am-icon-locations"},null,-1),Ws={class:"am-fcil-employee__header"},Us={class:"am-fcil-employee__heading"},Rs={class:"am-fcil-employee__heading-left"},Hs={class:"am-fcil-employee__name"},js={key:0,class:"am-fcil-employee__heading-right"},qs={class:"am-fcil-employee__price"},Gs=["innerHTML"],Js={key:1,ref:"ameliaContainer",class:"am-empty"},Ys=["src"],Qs={class:"am-empty__heading"},Xs={class:"am-empty__subheading"},Zs={class:"am-empty__text"},Ks={key:0},el={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},tl={key:1},al={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},il={name:"CategoryItemsList",key:"categoryItemsList"},sl=Object.assign(il,{setup(ye){let Y=w("licence"),{nextPage:F,previousPage:ae}=w("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const O=w("baseUrls");let ve=g(!1),z=g(!1),d=g("760px");X("bookingDialogWidth",d);function V(){d.value="760px"}let le=g(!1),I=g(),G=w("containerWidth"),f=w("customizedDataForm"),m=_(()=>f.value.categoryItemsList.options),x=_(()=>"pageScroll"in m.value?m.value.pageScroll.visibility:!0);const T=w("settings");let j=it();const de=w("shortcodeData"),o=_(()=>j.getters["entities/getPreselected"]);let h=_(()=>{let C=Array.isArray(de.value.category)?de.value.category:de.value.category.split(",");return C=C.filter(u=>u),C.length}),se=_(()=>{let C=I.value&&I.value.catContainerWidth?I.value.catContainerWidth>768:!0;return h.value!==1&&m.value.sidebar.visibility&&C}),J=w("amEntities"),ne=g("");function ke(C){ne.value=C.toLowerCase()}let L=_(()=>ne.value?J.value.employees.filter(C=>`${C.firstName} ${C.lastName}`.toLowerCase().includes(ne.value)):J.value.employees),fe=g("");function Z(C){fe.value=C.toLowerCase()}let Q=_(()=>fe.value?J.value.locations.filter(C=>C.name.toLowerCase().includes(fe.value)):J.value.locations),Le=_(()=>Qe(j)&&We(j)>0),pe=_(()=>We(j));const R=w("labels"),Ce=w("localLanguage");let Me=_(()=>T.general.usedLanguages.includes(Ce.value)),k=_(()=>{let C=gt({...R});if(T.customizedData&&T.customizedData.cbf&&T.customizedData.cbf.categoryItemsList.translations){let u=T.customizedData.cbf.categoryItemsList.translations;Object.keys(u).forEach(s=>{u[s][Ce.value]&&Me.value?C[s]=u[s][Ce.value]:u[s].default&&(C[s]=u[s].default)})}return C}),A=g(""),r={components:{IconComponent:St},template:'<IconComponent icon="search"/>'},ce=g(!0),Ee={components:{IconComponent:St},template:'<IconComponent icon="filter"/>'},me=_(()=>I.value&&I.value.catHeaderWidth?I.value.catHeaderWidth:0);window.addEventListener("resize",Ue);function Ue(){xe(()=>{me.value>480&&(ce.value=!0)})}Fe(()=>{Ue()});function N(C){let u=[];return A.value.toLowerCase().split(" ").forEach(s=>{u.push(C.toLowerCase().includes(s))}),u.filter(s=>s===!1).length<=0}let Ae=w("availableCategories"),Re=_(()=>{let C=[...Ae.value],u=[];return C.forEach(s=>{u.push({id:s.id,name:s.name})}),u.unshift({id:0,name:k.value.filter_all}),u}),K=w("categorySelected"),Ne=_(()=>wt(J.value,de.value,B.value,$.value)),Ie=_(()=>{let C=[];return Ne.value.find(u=>u.id===K.value)?J.value.packages.forEach(u=>{Ne.value.find(s=>s.id===K.value).packageList.forEach(s=>{u.id===s&&(A.value?N(u.name):!0)&&C.push(u)})}):J.value.packages.forEach(u=>{Ne.value.forEach(s=>{s.packageList.forEach(te=>{u.id===te&&!C.find(De=>De.id===te)&&(A.value?N(u.name):!0)&&C.push(u)})})}),C}),W=_(()=>{let C=[];return K.value&&Ne.value.find(u=>u.id===K.value)?J.value.services.forEach(u=>{Ne.value.find(s=>s.id===K.value).serviceIdList.forEach(s=>{u.id===s&&(A.value?N(u.name):!0)&&C.push(u)})}):J.value.services.forEach(u=>{Ne.value.forEach(s=>{s.serviceIdList.forEach(te=>{u.id===te&&(A.value?N(u.name):!0)&&C.push(u)})})}),C}),B=g(null),$=g(null),U=g(!0),Te=g(!0);function we(C){C==="all"&&(U.value=!0,Te.value=!0),C==="packages"&&(U.value=!0,Te.value=!1),C==="services"&&(U.value=!1,Te.value=!0)}Ot(()=>{o.value.show&&we(o.value.show)});let Ge=_(()=>{let C=de.value.employee,u=J.value.employees.length,s=de.value.location,te=J.value.locations.length,De=m.value.searchInput.visibility,Je=m.value.filterEmployee.visibility&&C.length!==1&&u>1&&!Y.isLite,Ke=m.value.filterLocation.visibility&&s.length!==1&&te>1&&!Y.isLite&&!Y.isStarter,qe=m.value.filterButtons.visibility&&o.value.show!=="packages"&&o.value.show!=="services"&&Ie.value.length!==0&&W.value.length!==0&&!We(j),_e={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return me.value>992?!De||!qe?(_e.employee=!De&&!qe?"am-w50":"am-w35",_e.location=!De&&!qe?"am-w50":"am-w35",_e.search=!qe&&!Ke&&!Je?"am-w100":"am-w30",Je||(_e.location=!De&&!qe?"am-w100":"am-w70"),Ke||(_e.employee=!De&&!qe?"am-w100":"am-w70")):(Je||(_e.location="am-w40"),Ke||(_e.employee="am-w40"),!Je&&!Ke&&(_e.search="am-w70")):me.value>768||me.value>480?(_e.search=qe?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",_e.buttons=De?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",_e.employee=Ke?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",_e.location=Je?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",_e.category="am-w100 am-tablet am-order5"):(_e.employee="am-w100 am-mobile",_e.location="am-w100 am-mobile",_e.search="am-w100 am-mobile",_e.buttons="am-w100 am-mobile",_e.category="am-w100 am-mobile"),_e}),Pe=_(()=>I.value&&I.value.catContainerWidth?I.value.catContainerWidth:0),E=_(()=>{let C=Ie.value.length&&!We(j)?Ie.value.length:0,u=W.value.length>1?k.value.heading_services:k.value.heading_service,s=C?C>1?k.value.packages:k.value.package:"";if(!W.value.length&&!C)return k.value.no_search_data;if(Te.value&&(!U.value||!C))return`${k.value.available} - ${W.value.length} ${u}`;if((!Te.value||!W.value.length)&&U.value)return`${k.value.available} - ${C} ${s}`;let te=C?"/":"";return`${k.value.available} - ${W.value.length} ${u} ${te} ${C} ${s}`});Fe(()=>{xe(()=>{ve.value=Ie.value.length===0&&W.value.length===0})});function S(C){const u=C.id===0?null:C.id;K.value=u,j.commit("booking/setCategoryId",u)}let v=w("itemType");function p(C){j.commit("booking/setServiceId",parseInt(C)),j.commit("booking/setBookableType","appointment"),v.value="appointment",pt(j,{},"SelectService","appointment",null,null),xe(()=>{F()})}function He(C){j.commit("booking/setServiceId",null),j.commit("booking/setPackageId",C.id),j.commit("booking/setBookableType","package"),j.commit("booking/setMultipleAppointments",Lt(0,C)),j.commit("booking/setCartItemIndex",0),v.value="package",pt(j,{},"SelectPackage","package",null,null),xe(()=>{F()})}function st(){K.value=null,j.commit("booking/setCategoryId",null),ae()}function yt(){Mt(j),le.value=!0,z.value=!0}let Oe=g(!1),Ze=g(""),lt=g([]),je=g({}),et=g(null);function ot(){Ze.value="",lt.value=[],je.value={},et.value=null}function ht(C){lt.value=ea(J.value,C,de.value),je.value=C,Oe.value=!0}function tt(C){let u=[];Object.keys(J.value.entitiesRelations).forEach(te=>{te in J.value.entitiesRelations&&C in J.value.entitiesRelations[te]&&J.value.employees.find(De=>De.id===parseInt(te))&&u.push(J.value.employees.find(De=>De.id===parseInt(te)))}),lt.value=u,Ze.value="service",Oe.value=!0,et.value=C}function bt(C){let u=J.value.services.find(te=>te.id===et.value).price,s=C.serviceList.find(te=>te.id===et.value).price;return s!==u?`${s-u>0?u>0?"+":"":"-"} ${vt(s-u)}`:0}function Tt(){Ze.value==="service"?p(et.value):He(je.value),ot()}function Bt(C,u){let s="";return C>1?(u==="day"&&(s=k.value.expires_days),u==="week"&&(s=k.value.expires_weeks),u==="month"&&(s=k.value.expires_months)):(u==="day"&&(s=k.value.expires_day),u==="week"&&(s=k.value.expires_week),u==="month"&&(s=k.value.expires_month)),s}function Et(C,u){let s=Vt(C,u);return s.length===1||s.length&&s.every(te=>te.id===s[0].id)?s[0].address?s[0].address:s[0].name:k.value.multiple_locations}function kt(C,u){let s=at(C,u);return s.length===1||s.length&&s.every(te=>te.id===s[0].id)?s[0].address?s[0].address:s[0].name:k.value.multiple_locations}let zt=w("amFonts",g({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=w("amColors"),ie=_(()=>({"--am-c-fcil-text-op-10":ee($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&h.value!==1&&m.value.sidebar.visibility&&se.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":I.value&&I.value.catFormWidth<580?"100%":"50%"})),Ct=_(()=>({"--am-f-fcil-employee-f":zt.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ee($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(C,u)=>e(ve)?(t(),i("div",Js,[a("img",{src:e(O).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,Ys),a("div",Qs,l(e(k).oops),1),a("div",Xs,l(e(o).show!=="packages"?e(k).no_services_employees:e(k).no_package_services),1),a("div",Zs,[e(o).show!=="packages"?(t(),i("span",Ks,l(e(k).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",el,l(e(k).add_services_url)+"\xA0 ",1),e(o).show!=="packages"?(t(),i("span",tl,l(e(k).and)+"\xA0 ",1)):c("",!0),e(o).show!=="packages"?(t(),i("a",al,l(e(k).add_employees_url),1)):c("",!0)])],512)):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:I,"wrapper-class":`am-fcil ${e(G)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(G)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(G)<481?"am-mobile":""} ${e(x)?"":"no-scroll"}`,style:oe(e(ie))},Wt({header:P(()=>[a("span",Gi,[e(h)!==1&&!e(de).categories_hidden&&e(Ae).length!==1?(t(),he(Rt,{key:0,"btn-size":e(me)<481?"medium":"mini","btn-string":e(k).back_btn,"btn-type":e(m).backBtn.buttonType,"cart-btn-visibility":e(Le),"cart-items-number":e(pe),onGoBack:st,onGoToCart:yt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(me)<481?(t(),he(ze,{key:1,size:"medium",category:"secondary",type:e(m).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Ee),onClick:u[0]||(u[0]=()=>re(ce)?ce.value=!e(ce):ce=!e(ce))},null,8,["type","icon"])):c("",!0)]),a("div",Ji,[e(m).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(k).filter_input,class:D(["am-fcil__filter-item",e(Ge).search])},[M(za,{modelValue:e(A),"onUpdate:modelValue":u[1]||(u[1]=s=>re(A)?A.value=s:A=s),placeholder:e(k).filter_input,"prefix-icon":e(r)},null,8,["modelValue","placeholder","prefix-icon"])],10,Yi)):c("",!0),M(Xe,{name:"slide-fade"},{default:P(()=>[e(de).employee.length!==1&&e(J).employees.length>1&&e(m).filterEmployee.visibility&&e(ce)&&!e(Y).isLite?(t(),i("div",{key:0,class:D(["am-fcil__filter-item",e(Ge).employee]),role:"search","aria-label":e(k).filter_employee},[M(At,{modelValue:e(B),"onUpdate:modelValue":u[2]||(u[2]=s=>re(B)?B.value=s:B=s),clearable:"",filterable:"",placeholder:e(k).filter_employee,"aria-label":e(k).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:P(()=>[(t(!0),i(H,null,ge(e(L),s=>(t(),he(Nt,{key:s.id,value:s.id,label:`${s.firstName} ${s.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,Qi)):c("",!0)]),_:1}),M(Xe,{name:"slide-fade"},{default:P(()=>[e(de).location.length!==1&&e(J).locations.length>1&&e(m).filterLocation.visibility&&e(ce)&&!e(Y).isLite&&!e(Y).isStarter?(t(),i("div",{key:0,class:D(["am-fcil__filter-item",e(Ge).location]),role:"search","aria-label":e(k).filter_location},[M(At,{modelValue:e($),"onUpdate:modelValue":u[3]||(u[3]=s=>re($)?$.value=s:$=s),clearable:"",filterable:"",placeholder:e(k).filter_location,"aria-label":e(k).filter_location,"fit-input-width":!0,"filter-method":Z},{default:P(()=>[(t(!0),i(H,null,ge(e(Q),s=>(t(),he(Nt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,Xi)):c("",!0)]),_:1}),M(Xe,{name:"slide-fade"},{default:P(()=>[e(Ae).length!==1&&e(h)!==1&&e(m).sidebar.visibility&&!e(se)&&e(ce)?(t(),i("div",{key:0,class:D(["am-fcil__filter-item am-w100",e(Ge).category])},[M(At,{modelValue:e(K),"onUpdate:modelValue":u[4]||(u[4]=s=>re(K)?K.value=s:K=s),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:P(()=>[(t(!0),i(H,null,ge(e(Re),s=>(t(),he(Nt,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(o).show&&e(m).filterButtons.visibility&&e(Ie).length!==0&&e(W).length!==0&&!e(We)(e(j))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:D(["am-fcil__filter-item",e(Ge).buttons])},[a("div",Zi,[a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":e(U)&&e(Te)}]),onClick:u[5]||(u[5]=s=>we("all"))},[a("span",null,l(e(k).filter_all),1)],2),a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":e(U)&&!e(Te)}]),onClick:u[6]||(u[6]=s=>we("packages"))},[a("span",null,l(e(k).filter_packages),1)],2),a("div",{class:D(["am-fcil__filter-item__btn",{"am-active":!e(U)&&e(Te)}]),onClick:u[7]||(u[7]=s=>we("services"))},[a("span",null,l(e(k).filter_services),1)],2)])],2)):c("",!0)])]),heading:P(()=>[a("div",Ki,l(e(E)),1)]),content:P(()=>[e(U)&&!e(We)(e(j))?(t(!0),i(H,{key:0},ge(e(Ie),s=>(t(),i("div",{key:s.id,role:"group",class:D(["am-fcil__item",{"am-mobile":e(Pe)<481}])},[a("div",{class:D(["am-fcil__item-inner",{"am-mobile":e(Pe)<481}])},[a("div",{class:"am-fcil__item-content",style:oe(e(m).cardColor&&e(m).cardColor.visibility?{backgroundColor:e(ee)(s.color,.1)}:{})},[e(m).packageBadge.visibility?(t(),i("div",es,[a("div",ts,[as,a("span",null,l(e(k).package),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:oe({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",is,[a("div",ss,l(s.name),1),e(m).packagePrice.visibility?(t(),i("div",ls,[s.discount?(t(),i("span",os,l(`${e(k).save} ${s.discount}%`),1)):c("",!0),a("span",ns,l(s.price?e(vt)(e(Ut)(s)):e(k).free),1),s.price&&(e(m).tax?.visibility??!0)&&e(ft)(e(j),s.id,"package")?(t(),i("span",cs,[e(T).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(k).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(k).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",rs,[e(m).packageCategory.visibility&&e(K)?(t(),i("div",us,[ms,a("span",null,l(e(Ae).find(te=>te.id===e(K)).name),1)])):c("",!0),e(m).packageDuration.visibility?(t(),i("div",ds,[ps,s.endDate?(t(),i("span",_s,l(`${e(k).expires_at} ${s.endDate.split(" ")[0]}`),1)):s.durationCount?(t(),i("span",vs,l(`${e(k).expires_after} ${s.durationCount} ${Bt(s.durationCount,s.durationType)}`),1)):(t(),i("span",fs,l(e(k).without_expiration),1))])):c("",!0),e(m).packageCapacity.visibility?(t(),i("div",gs,bs)):c("",!0),e(Vt)(e(J),s,e(de)).length&&e(m).packageLocation.visibility?(t(),i("div",ks,[Cs,a("span",null,l(Et(e(J),s)),1)])):c("",!0)]),e(m).packageServices.visibility?(t(),i("div",$s,[a("span",null,l(`${e(k).in_package}:`),1),(t(!0),i(H,null,ge(s.bookable,te=>(t(),i("span",{key:te.id},l(te.service.name),1))),128))])):c("",!0)],4),a("div",{class:D(["am-fcil__item-footer",[{"am-mobile":e(Pe)<481},{"am-micro":e(Pe)<320}]])},[e(m).cardEmployeeBtn.visibility?(t(),he(ze,{key:0,class:D({"am-w100":e(Pe)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:te=>ht(s)},{default:P(()=>[ue(l(e(k).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),M(ze,{class:D([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Pe)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:te=>He(s)},{default:P(()=>[ue(l(e(k).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(Te)?(t(!0),i(H,{key:1},ge(e(W),s=>(t(),i("div",{key:s.id,class:D(["am-fcil__item",{"am-mobile":e(Pe)<481}])},[a("div",{class:D(["am-fcil__item-inner",{"am-mobile":e(Pe)<481}])},[a("div",{class:"am-fcil__item-content",style:oe(e(m).cardColor&&e(m).cardColor.visibility?{backgroundColor:e(ee)(s.color,.1)}:{})},[e(m).serviceBadge.visibility?(t(),i("div",ws,[a("div",Ss,[xs,a("span",null,l(e(k).heading_service),1)])])):c("",!0),s.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:oe({backgroundImage:`url(${s.pictureFullPath})`})},null,4)):c("",!0),a("div",Is,[a("div",Ps,l(s.name),1),e(m).servicePrice.visibility?(t(),i("div",Ds,[e(rt)(e(J),s.id).min||e(rt)(e(J),s.id).max?(t(),i("span",Ls,l(e(rt)(e(J),s.id).price),1)):c("",!0),(e(m).tax?.visibility??!0)&&e(ft)(e(j),s.id,"service")?(t(),i("span",Ts,[e(T).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(k).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(k).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Bs,[e(m).serviceCategory.visibility&&e(K)?(t(),i("div",Es,[zs,a("span",null,l(e(Ae).find(te=>te.id===e(K)).name),1)])):c("",!0),e(m).serviceDuration.visibility?(t(),i("div",Fs,[As,a("span",null,l(e(Zt)(s.duration)),1)])):c("",!0),e(m).serviceCapacity.visibility&&!e(Y).isLite?(t(),i("div",Ns,[Vs,a("span",null,l(e(Kt)(e(J),s.id)),1)])):c("",!0),e(at)(e(J),s.id).length&&e(m).serviceLocation.visibility?(t(),i("div",Ms,[Os,a("span",null,l(kt(e(J),s.id)),1)])):c("",!0)])],4),a("div",{class:D(["am-fcil__item-footer",[{"am-mobile":e(Pe)<481},{"am-micro":e(Pe)<320}]])},[e(m).cardEmployeeBtn.visibility&&!e(Y).isLite?(t(),he(ze,{key:0,class:D({"am-w100":e(Pe)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:te=>tt(s.id)},{default:P(()=>[ue(l(e(k).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),M(ze,{class:D([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Pe)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:te=>p(s.id)},{default:P(()=>[ue(l(e(k).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),M(mt,{modelValue:e(Oe),"onUpdate:modelValue":u[9]||(u[9]=s=>re(Oe)?Oe.value=s:Oe=s),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Ct),width:"648px",onClose:ot},{title:P(()=>[a("div",Ws,l(e(k).employee_info),1)]),default:P(()=>[a("div",null,[M(xt,null,{default:P(()=>[(t(!0),i(H,null,ge(e(lt),(s,te)=>(t(),he(It,{key:te,side:""},{heading:P(()=>[a("div",Us,[a("div",Rs,[M(ut,{"item-class":"am-fcil-employee__img","item-data":s,"trim-string":2},null,8,["item-data"]),a("div",Hs,[ue(l(`${s.firstName} ${s.lastName}`)+" ",1),s.badge?(t(),i("span",{key:0,style:oe({background:s.badge.color}),class:"am-fcil-employee__badge"},l(s.badge.content),5)):c("",!0)])]),e(Ze)==="service"&&bt(s)!==0?(t(),i("div",js,[a("div",qs,l(bt(s)),1)])):c("",!0)])]),default:P(()=>[e(Ve)(s.description)?(t(),i("div",{key:0,class:D(["am-fcil-employee__text",{"ql-description":s.description.includes("<!-- Content -->")}]),innerHTML:s.description},null,10,Gs)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:P(()=>[e(m).dialogEmployeeBtn.visibility?(t(),he(ze,{key:0,type:e(m).dialogEmployeeBtn.buttonType,category:"primary",onClick:u[8]||(u[8]=s=>Tt())},{default:P(()=>[ue(l(e(Ze)==="service"?e(k).book_service:e(k).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),M(mt,{modelValue:e(z),"onUpdate:modelValue":u[10]||(u[10]=s=>re(z)?z.value=s:z=s),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(d),onClosed:V},{default:P(()=>[M(jt,{"show-cart":e(le)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(h)!==1&&e(m).sidebar.visibility&&e(se)?{name:"side",fn:P(()=>[M(Za,{"menu-items":e(Re),"init-selection":e(K),identifier:"id","name-identifier":"name","footer-string":e(k).get_in_touch,"company-email":e(T).company.email,onClick:S},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ll={class:"am-fcis__header-text"},ol={class:"am-fcis__header-name",role:"heading","aria-level":"1"},nl={key:0,class:"am-fcis__badge am-service"},cl=a("span",{class:"am-icon-service"},null,-1),rl={class:"am-fcis__header-action"},ul={key:0,class:"am-fcis__header-price"},ml={key:1,class:"am-fcis__header-tax"},dl={class:"am-fcis__header-btn"},pl={key:0,class:"am-fcis__header-bottom"},_l={class:"am-fcis__mini-info"},vl={key:0,class:"am-fcis__mini-info__inner"},fl=a("span",{class:"am-icon-folder"},null,-1),gl={key:1,class:"am-fcis__mini-info__inner"},yl=a("span",{class:"am-icon-clock"},null,-1),hl={key:2,class:"am-fcis__mini-info__inner"},bl=a("span",{class:"am-icon-user"},null,-1),kl={key:3,class:"am-fcis__mini-info__inner"},Cl=a("span",{class:"am-icon-locations"},null,-1),$l={key:0,class:"am-fcis__gallery"},wl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Sl={class:"am-gd__display-wrapper"},xl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Il=["src","alt"],Pl={class:"am-gd__selection"},Dl={class:"am-gd__thumb-wrapper"},Ll=["onClick"],Tl={key:1,class:"am-fcis__info"},Bl={class:"am-fcis__info-tab__wrapper"},El={class:"am-fcis__info-content__wrapper"},zl={key:0,class:"am-fcis__info-content"},Fl=["innerHTML"],Al={key:1,class:"am-fcis__info-content"},Nl={class:"am-fcis__info-employee__hero"},Vl={class:"am-fcis__info-employee__heading"},Ml={class:"am-fcis__info-employee__name"},Ol={key:0,class:"am-fcis__info-employee__price"},Wl=["innerHTML"],Ul={key:2,class:"am-fcis__include-wrapper"},Rl={class:"am-fcis__include-heading"},Hl={class:"am-fcis__include-heading__text"},jl=["onClick"],ql={class:"am-fcis__include-hero"},Gl={key:0,class:"am-fcis__include-cost"},Jl={key:0,class:"am-fcis__include-discount"},Yl={class:"am-fcis__include-price"},Ql={key:1,class:"am-fcis__include-price"},Xl={class:"am-fcis__include-info"},Zl={key:0,class:"am-fcis__include-info__inner"},Kl=a("span",{class:"am-icon-folder"},null,-1),eo={key:1,class:"am-fcis__include-info__inner"},to=a("span",{class:"am-icon-clock"},null,-1),ao={key:0},io={key:1},so={key:2},lo={key:2,class:"am-fcis__include-info__inner"},oo=a("span",{class:"am-icon-user"},null,-1),no=a("span",null,"1/1",-1),co=[oo,no],ro={key:3,class:"am-fcis__include-info__inner"},uo=a("span",{class:"am-icon-locations"},null,-1),mo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},po={key:1,ref:"ameliaContainer",class:"am-empty"},_o=["src","alt"],vo={class:"am-empty__heading"},fo={class:"am-empty__subheading"},go={class:"am-empty__text"},yo={key:0},ho={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},bo={key:1},ko={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Co={name:"CategoryService"},$o=Object.assign(Co,{setup(ye){let Y=w("licence"),{previousPage:F}=w("changingPageFunctions",{previousPage:()=>{}}),ae=_(()=>x.getters["entities/getReady"]);const O=w("baseUrls");let ve=g(),z=w("containerWidth");const d=w("settings");let V=w("amFonts");const le=w("labels"),I=w("localLanguage");let G=_(()=>d.general.usedLanguages.includes(I.value)),f=_(()=>{let E=gt({...le});if(d.customizedData&&d.customizedData.cbf&&d.customizedData.cbf.categoryService.translations){let S=d.customizedData.cbf.categoryService.translations;Object.keys(S).forEach(v=>{S[v][I.value]&&G.value?E[v]=S[v][I.value]:S[v].default&&(E[v]=S[v].default)})}return E}),m=g(0),x=it(),T=w("amEntities"),j=_(()=>Qe(x)&&We(x)>0),de=_(()=>We(x)),o=w("customizedDataForm"),h=_(()=>o.value.categoryService.options),se=_(()=>"pageScroll"in h.value?h.value.pageScroll.visibility:!0),J=w("itemType"),ne=w("categorySelected"),ke=_(()=>T.value.categories.find(E=>E.id===ne.value)),L=_(()=>{let E=T.value.services.find(S=>S.id===x.getters["booking/getServiceId"]);return E||{}});function fe(E,S){let v=at(E,S);return v.length===1||v.length&&v.every(p=>p.id===v[0].id)?v[0].address?v[0].address:v[0].name:f.value.multiple_locations}let Z=g("description"),Q=_(()=>{let E=[];return Object.keys(T.value.entitiesRelations).forEach(v=>{T.value.entitiesRelations[v][L.value.id]&&T.value.employees.find(p=>p.id===parseInt(v))&&E.push(T.value.employees.find(p=>p.id===parseInt(v)))}),E});function Le(E){let S=E.serviceList.find(v=>v.id===L.value.id).price;return S-L.value.price!==0?`${S-L.value.price>0?L.value.price>0?"+":"":"-"} ${vt(S-L.value.price)}`:""}Fe(()=>{h.value.serviceDescription.visibility||(Z.value="employees"),Ve(L.value.description)||(Z.value="employees")});let pe=_(()=>{let E=L.value.gallery.length?JSON.parse(JSON.stringify(L.value.gallery)):[];return L.value.gallery.length===1?[]:(E.shift(),E.length>2&&E.splice(2,E.length-2),E)}),R=_(()=>{let E=[];return T.value.packages.forEach(S=>{S.bookable.filter(v=>v.service.id===L.value.id).length&&!E.filter(v=>v.id===S.id).length&&S.available&&S.status==="visible"&&E.push(S)}),E}),Ce=g(!1),Me=_(()=>{let E=[...R.value];return Ce.value?E:E.slice(0,2)}),k=_(()=>x.getters["entities/filteredLocations"](x.getters["booking/getSelection"]));function A(){J.value="",xe(()=>{F()})}let r=g(!1);function ce(){x.commit("booking/setShownCart",!1),Mt(x),r.value=!0,me.value=!0}function Ee(){me.value=!1,x.getters["entities/getPreselected"].service.length>1&&A()}let me=g(!1),Ue=g("760px");X("bookingDialogWidth",Ue);function N(){let E=x.getters["entities/getPreselected"];Q.value.length===1&&(x.commit("booking/setEmployeeId",parseInt(Q.value[0].id)),E.employee=[parseInt(Q.value[0].id)],x.commit("entities/setPreselected",E)),r.value=!1,me.value=!1,Fa(x),Xt(x,!1),dt(x);let S=at(T.value,L.value.id);S.length===1&&(x.commit("booking/setLocationId",parseInt(S[0].id)),E.location=[parseInt(S[0].id)],x.commit("entities/setPreselected",E)),x.commit("booking/setBookableType","appointment"),me.value=!0}w("restoreFormData").value&&N();function Re(E){x.commit("booking/setPackageId",E.id),x.commit("booking/setBookableType","package"),x.commit("booking/setMultipleAppointments",Lt(0,E)),x.commit("booking/setMultipleAppointmentsIndex",0),Q.value.length===1&&x.commit("booking/setEmployeeId",parseInt(Q.value[0].id)),at(T.value,L.value.id).length===1&&x.commit("booking/setLocationId",parseInt(at(T.value,L.value.id)[0].id)),xe(()=>{me.value=!0})}const K=_(()=>x.getters["entities/getPreselected"]);let Ne=g(T.value.services.length!==1&&K.value.service.length!==1),Ie=g("");X("stepName",Ie);function W(){let E=x.getters["entities/getBookableFromBookableEntities"](x.getters["booking/getSelection"]),S=E.settings?JSON.parse(E.settings):d;"general"in S&&"redirectUrlAfterAppointment"in S.general&&S.general.redirectUrlAfterAppointment?window.location.href=S.general.redirectUrlAfterAppointment:d.general.redirectUrlAfterAppointment?window.location.href=d.general.redirectUrlAfterAppointment:window.location.reload()}function B(){if(Ie.value&&Ie.value==="CongratulationsStep")W();else{if(Ie.value&&Ie.value==="DateTimeStep"){let E=Aa(x);E&&console.log(E)}x.commit("booking/setEmployeeId",null),x.commit("booking/setLocationId",null),x.commit("entities/setPreselected",x.getters["entities/getOriginalPreselected"])}Ue.value="760px"}let $=g(!1);function U(E,S){let v="";return E>1?(S==="day"&&(v=f.value.expires_days),S==="week"&&(v=f.value.expires_weeks),S==="month"&&(v=f.value.expires_months)):(S==="day"&&(v=f.value.expires_day),S==="week"&&(v=f.value.expires_week),S==="month"&&(v=f.value.expires_month)),v}let Te=_(()=>Object.keys(L.value).length===0||Q.value.length===0);_t(()=>x.getters["booking/getServiceId"],E=>{if(x.dispatch("appointmentWaitingListOptions/resetWaitingOptions"),!E||!!!d.appointments?.waitingListAppointments?.enabled)return;let v=x.getters["entities/getService"](E);if(!v||!v.settings)return;let p=null;try{p=JSON.parse(v.settings)}catch{p=null}if(!p||!p.waitingList||!p.waitingList.enabled)return;const He=p.waitingList;let st={enabled:!!He.enabled,maxCapacity:He.maxCapacity||0,maxExtraPeople:He.maxExtraPeople||0,maxExtraPeopleEnabled:!!He.maxExtraPeopleEnabled,peopleWaiting:He.peopleWaiting||0,isWaitingListSlot:!1};x.commit("appointmentWaitingListOptions/setAllData",st)},{immediate:!0});let we=w("amColors"),Ge=_(()=>({"--am-c-fcis-success-op20":ee(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(we.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(we.value.colorBtnSec,.5)})),Pe=_(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":ee(we.value.colorPrimary,.3),"--am-c-scroll-op10":ee(we.value.colorPrimary,.1),"--am-font-family":V.fontFamily}));return(E,S)=>e(ae)?(t(),i(H,{key:0},[e(Te)?c("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:ve,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(se)?"":"no-scroll"}`,style:oe(e(Ge))},{header:P(()=>[M(Rt,{"btn-string":e(f).back_btn,"btn-type":e(h).backBtn.buttonType,"back-btn-visibility":e(Ne),"cart-btn-visibility":e(j),"cart-items-number":e(de),role:"navigation","aria-label":"Navigation Controls",onGoBack:A,onGoToCart:ce},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:P(()=>[a("div",{class:D([[{"am-tablet":e(z)<=678},{"am-mobile":e(z)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",ll,[a("span",ol,l(e(L).name),1),e(h).serviceBadge.visibility?(t(),i("div",nl,[cl,a("span",null,l(e(f).heading_service),1)])):c("",!0)]),a("div",rl,[e(h).servicePrice.visibility?(t(),i("span",ul,l(e(rt)(e(T),e(L).id).min||e(rt)(e(T),e(L).id).max?e(rt)(e(T),e(L).id).price:e(f).free),1)):c("",!0),(e(h).tax?.visibility??!0)&&e(ft)(e(x),e(L).id,"service")?(t(),i("span",ml,[e(d).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(f).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(f).incl_tax),1)],64))])):c("",!0),a("span",dl,[M(ze,{type:e(h).bookingBtn.buttonType,onClick:N},{default:P(()=>[ue(l(e(f).book_now),1)]),_:1},8,["type"])])])],2),e(h).serviceCategory.visibility||e(h).serviceDuration.visibility||e(h).serviceCapacity.visibility||e(h).serviceLocation.visibility?(t(),i("div",pl,[a("div",_l,[e(h).serviceCategory.visibility&&e(ke)?(t(),i("div",vl,[fl,a("span",null,l(e(ke).name),1)])):c("",!0),e(h).serviceDuration.visibility?(t(),i("div",gl,[yl,a("span",null,l(e(Zt)(e(L).duration)),1)])):c("",!0),e(h).serviceCapacity.visibility&&!e(Y).isLite?(t(),i("div",hl,[bl,a("span",null,l(e(Kt)(e(T),e(L).id)),1)])):c("",!0),e(at)(e(T),e(L).id).length&&e(h).serviceLocation.visibility&&!e(Y).isLite&&!e(Y).isStarter?(t(),i("div",kl,[Cl,a("span",null,l(fe(e(T),e(L).id)),1)])):c("",!0)])])):c("",!0)]),content:P(()=>[e(L).gallery.length?(t(),i("div",$l,[a("div",{class:D(["am-fcis__gallery-hero",[{w100:e(L).gallery.length===1},{"am-mobile w100":e(z)<678}]]),style:oe({backgroundImage:`url(${e(L).gallery[0].pictureFullPath})`})},null,6),e(pe).length&&e(z)>677?(t(),i("div",wl,[(t(!0),i(H,null,ge(e(pe),(v,p)=>(t(),i("div",{key:p,class:D(["am-fcis__gallery-thumb",{"am-one-thumb":e(pe).length===1}]),style:oe({backgroundImage:`url(${v.pictureFullPath})`})},null,6))),128))])):c("",!0),M(ze,{"custom-class":`am-fcis__gallery-btn${e(z)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:S[0]||(S[0]=()=>re($)?$.value=!0:$=!0)},{default:P(()=>[ue(l(e(f).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),M(mt,{modelValue:e($),"onUpdate:modelValue":S[4]||(S[4]=v=>re($)?$.value=v:$=v),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:P(()=>[a("div",{class:"am-gd",style:oe(e(Pe))},[a("div",Sl,[a("div",xl,[a("span",{class:"am-icon-arrow-left",onClick:S[1]||(S[1]=()=>re(m)?m.value=e(m)<=0?e(L).gallery.length-1:e(m)-1:m=e(m)<=0?e(L).gallery.length-1:e(m)-1)}),a("span",{class:"am-icon-arrow-right",onClick:S[2]||(S[2]=()=>re(m)?m.value=e(L).gallery.length-1===e(m)?0:e(m)+1:m=e(L).gallery.length-1===e(m)?0:e(m)+1)})]),(t(!0),i(H,null,ge(e(L).gallery,(v,p)=>(t(),i("div",{key:p,class:"am-gd__display",style:oe({display:p===e(m)?"flex":"none"}),onClick:S[3]||(S[3]=()=>re(m)?m.value=e(L).gallery.length-1===e(m)?0:e(m)+1:m=e(L).gallery.length-1===e(m)?0:e(m)+1)},[a("img",{src:v.pictureFullPath,alt:p},null,8,Il)],4))),128))]),a("div",Pl,l(`${e(m)+1}/${e(L).gallery.length}`),1),a("div",Dl,[(t(!0),i(H,null,ge(e(L).gallery,(v,p)=>(t(),i("div",{key:p,class:D(["am-gd__thumb",{"am-active":p===e(m)}]),style:oe({backgroundImage:`url(${v.pictureFullPath})`}),onClick:()=>re(m)?m.value=p:m=p},null,14,Ll))),128))])],4)]),_:1},8,["modelValue"]),e(h).serviceDescription.visibility&&e(Ve)(e(L).description)||e(h).serviceEmployees.visibility?(t(),i("div",Tl,[a("div",Bl,[e(Ve)(e(L).description)&&e(h).serviceDescription.visibility?(t(),i("div",{key:0,class:D(["am-fcis__info-tab",{"am-active":e(Z)==="description"}]),onClick:S[5]||(S[5]=()=>re(Z)?Z.value="description":Z="description")},l(e(f).about_service),3)):c("",!0),e(h).serviceEmployees.visibility&&!e(Y).isLite?(t(),i("div",{key:1,class:D([{"am-active":e(Z)==="employees"},"am-fcis__info-tab"]),onClick:S[6]||(S[6]=()=>re(Z)?Z.value="employees":Z="employees")},l(e(f).tab_employees),3)):c("",!0)]),a("div",El,[e(Ve)(e(L).description)&&e(h).serviceDescription.visibility?Pt((t(),i("div",zl,[a("div",{class:D(["am-fcis__info-service__desc",{"ql-description":e(L).description.includes("<!-- Content -->")}]),innerHTML:e(L).description},null,10,Fl)],512)),[[Dt,e(Z)==="description"]]):c("",!0),e(h).serviceEmployees.visibility?Pt((t(),i("div",Al,[M(xt,null,{default:P(()=>[(t(!0),i(H,null,ge(e(Q),v=>(t(),he(It,{key:v.id,side:""},{heading:P(()=>[a("div",{class:D([{"am-mobile":e(z)<451},"am-fcis__info-employee"])},[a("div",Nl,[M(ut,{"item-class":"am-fcis__info-employee__img","item-data":v,"trim-string":3},null,8,["item-data"]),a("div",Vl,[a("div",Ml,[ue(l(v.firstName)+" "+l(v.lastName)+" ",1),v.badge?(t(),i("span",{key:0,style:oe({background:v.badge.color}),class:"am-fcis__info-employee__badge"},l(v.badge.content),5)):c("",!0)]),Le(v)&&e(h).serviceEmployeePrice.visibility?(t(),i("div",Ol,l(Le(v)),1)):c("",!0)])])],2)]),default:P(()=>[e(Ve)(v.description)?(t(),i("div",{key:0,class:D(["am-fcis__info-employee__description",{"ql-description":v.description.includes("<!-- Content -->")}]),innerHTML:v.description},null,10,Wl)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Dt,e(Z)==="employees"]]):c("",!0)])])):c("",!0),e(R).length&&e(K).show!=="services"&&e(h).servicePackages.visibility&&!e(We)(e(x))?(t(),i("div",Ul,[a("div",Rl,[a("span",Hl,l(e(f).service_available_in_package),1),e(R).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:S[7]||(S[7]=()=>re(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(H,{key:1},[ue(l(e(f).less_packages),1)],64)):(t(),i(H,{key:0},[ue(l(e(f).more_packages),1)],64))])):c("",!0)]),(t(!0),i(H,null,ge(e(Me),v=>(t(),i("div",{key:v.id,class:"am-fcis__include",onClick:p=>Re(v)},[a("div",ql,[e(z)>450?(t(),he(ut,{key:0,"item-class":"am-fcis__include-img","item-data":v,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:D([{"am-mobile":e(z)<451},"am-fcis__include-text"])},[a("div",{class:D(["am-fcis__include-header",{"am-mobile":e(z)<600}])},[a("div",{class:D(["am-fcis__include-name",{"am-mobile":e(z)<600}])},l(v.name),3),e(h).packagePrice.visibility?(t(),i("div",Gl,[v.discount?(t(),i("span",Jl,l(`${e(f).save} ${v.discount}%`),1)):c("",!0),a("span",Yl,l(v.price?e(vt)(e(Ut)(v)):e(f).free),1),(e(h).tax?.visibility??!0)&&e(ft)(e(x),v.id,"package")?(t(),i("span",Ql,[e(d).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(f).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(f).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",Xl,[e(h).packageCategory.visibility&&e(ke)?(t(),i("div",Zl,[Kl,a("span",null,l(e(ke).name),1)])):c("",!0),e(h).packageDuration.visibility?(t(),i("div",eo,[to,v.endDate?(t(),i("span",ao,l(`${e(f).expires_at} ${v.endDate.split(" ")[0]}`),1)):v.durationCount?(t(),i("span",io,l(`${e(f).expires_after} ${v.durationCount} ${U(v.durationCount,v.durationType)}`),1)):(t(),i("span",so,l(e(f).without_expiration),1))])):c("",!0),e(h).packageCapacity.visibility?(t(),i("div",lo,co)):c("",!0),e(h).packageLocation.visibility&&e(k).length?(t(),i("div",ro,[uo,a("span",null,l(e(k).length===1?e(k)[0].address?e(k)[0].address:e(k)[0].name:e(f).multiple_locations),1)])):c("",!0),e(h).packageServices.visibility?(t(),i("div",mo,[a("span",null,l(`${e(f).in_package}:`),1),(t(!0),i(H,null,ge(v.bookable,p=>(t(),i("span",{key:p.id},l(p.service.name),1))),128))])):c("",!0)])],2)])],8,jl))),128))])):c("",!0),M(mt,{modelValue:e(me),"onUpdate:modelValue":S[9]||(S[9]=v=>re(me)?me.value=v:me=v),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ue),onClosed:B},{default:P(()=>[M(jt,{"show-cart":e(r),onAddToCart:Ee,onEmptiedCart:S[8]||(S[8]=v=>re(me)?me.value=!1:me=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Te)?(t(),i("div",po,[a("img",{src:e(O).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(K).show!=="packages"?e(f).no_services_employees:e(f).no_package_services},null,8,_o),a("div",vo,l(e(f).oops),1),a("div",fo,l(e(K).show!=="packages"?e(f).no_services_employees:e(f).no_package_services),1),a("div",go,[e(K).show!=="packages"?(t(),i("span",yo,l(e(f).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ho,l(e(f).add_services_url)+"\xA0 ",1),e(K).show!=="packages"?(t(),i("span",bo,l(e(f).and)+"\xA0 ",1)):c("",!0),e(K).show!=="packages"?(t(),i("a",ko,l(e(f).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const wo={class:"am-fcip__header-text"},So={class:"am-fcip__header-name",role:"heading","aria-level":"1"},xo={key:0,class:"am-fcip__badge am-package"},Io=a("span",{class:"am-icon-shipment"},null,-1),Po={class:"am-fcip__header-action"},Do={key:0,class:"am-fcip__header-discount"},Lo={key:1,class:"am-fcip__header-price"},To={key:2,class:"am-fcip__header-tax"},Bo={class:"am-fcip__header-btn"},Eo={key:0,class:"am-fcip__header-bottom"},zo={class:"am-fcip__mini-info"},Fo={key:0,class:"am-fcip__mini-info__inner"},Ao=a("span",{class:"am-icon-folder"},null,-1),No={key:1,class:"am-fcip__mini-info__inner"},Vo=a("span",{class:"am-icon-clock"},null,-1),Mo={key:0},Oo={key:1},Wo={key:2},Uo={key:2,class:"am-fcip__mini-info__inner"},Ro=a("span",{class:"am-icon-user"},null,-1),Ho=a("span",null,"1/1",-1),jo=[Ro,Ho],qo={key:3,class:"am-fcip__mini-info__inner"},Go=a("span",{class:"am-icon-locations"},null,-1),Jo={key:0,class:"am-fcip__gallery"},Yo={key:0,class:"am-fcip__gallery-thumb__wrapper"},Qo=a("span",{class:"am-icon-gallery"},null,-1),Xo={class:"am-gd__display-wrapper"},Zo={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Ko=["src","alt"],en={class:"am-gd__selection"},tn={class:"am-gd__thumb-wrapper"},an=["onClick"],sn={key:1,class:"am-fcip__info"},ln={class:"am-fcip__info-tab__wrapper"},on={class:"am-fcip__info-content__wrapper"},nn={key:0,class:"am-fcip__info-content"},cn=["innerHTML"],rn={key:1,class:"am-fcip__info-content"},un={class:"am-fcip__info-employee"},mn={class:"am-fcip__info-employee__hero"},dn={class:"am-fcip__info-employee__name"},pn=["innerHTML"],_n={key:2,class:"am-fcip__include-wrapper"},vn={class:"am-fcip__include-heading"},fn={class:"am-fcip__include-heading__text"},gn={class:"am-fcip__include-service"},yn={class:"am-fcip__include-service__info"},hn={key:0},bn=["innerHTML"],kn={class:"am-fcip__include-footer"},Cn={class:"am-fcip__include-footer__text"},$n={key:1,ref:"ameliaContainer",class:"am-empty"},wn=["src","alt"],Sn={class:"am-empty__heading"},xn={class:"am-empty__subheading"},In={class:"am-empty__text"},Pn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Dn={name:"CategoryPackage"},Ln=Object.assign(Dn,{setup(ye){let{previousPage:Y}=w("changingPageFunctions",{previousPage:()=>{}}),F=g(),ae=w("containerWidth");const O=w("settings"),ve=w("baseUrls");let z=it();const d=w("shortcodeData"),V=_(()=>z.getters["entities/getPreselected"]);let le=g(V.value.package.length!==1),I=w("amEntities"),G=w("customizedDataForm"),f=_(()=>G.value.categoryPackage.options),m=_(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0),x=w("itemType"),T=w("categorySelected"),j=_(()=>I.value.categories.find(W=>W.id===T.value)),de=g(V.value.package.length!==1&&f.value.packageCategory.visibility&&j),o=_(()=>I.value.packages.find(W=>W.id===z.getters["booking/getPackageId"])),h=g(0),se=g("description"),J=_(()=>ea(I.value,o.value,d.value)),ne=_(()=>Vt(I.value,o.value,d.value)),ke=g(V.value.employee.length>0?I.value.unfilteredEmployees.filter(W=>V.value.employee.map(B=>parseInt(B)).includes(W.id)):I.value.unfilteredEmployees);function L(W){let B=[];return W.providers.length?W.providers.forEach($=>{ke.value.find(U=>U.id===parseInt($.id))&&B.push(ke.value.find(U=>U.id===parseInt($.id)))}):B=ke.value.filter($=>$.serviceList.find(U=>U.id===W.service.id)),B}Fe(()=>{f.value.packageDescription.visibility||(se.value="employees"),Ve(o.value.description)||(se.value="employees")});let fe=g(!1);Ot(()=>{fe.value=z.getters["entities/getEmployees"].length===0||J.value.length===0});let Z=g(!1),Q=_(()=>{let W=o.value.gallery.length?JSON.parse(JSON.stringify(o.value.gallery)):[];return o.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)});function Le(){x.value="",xe(()=>{Y()})}let pe=g(!1),R=g("760px");X("bookingDialogWidth",R);function Ce(){z.commit("booking/setPackageId",o.value.id),z.commit("booking/setMultipleAppointments",Lt(0,o.value)),z.commit("booking/setMultipleAppointmentsIndex",0),z.commit("booking/setBookableType","package"),xe(()=>{pe.value=!0})}w("restoreFormData").value&&Ce();let k=g("");X("stepName",k);function A(){let W=z.getters["entities/getBookableFromBookableEntities"](z.getters["booking/getSelection"]),B=W.settings?JSON.parse(W.settings):O;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:O.general.redirectUrlAfterAppointment?window.location.href=O.general.redirectUrlAfterAppointment:window.location.reload()}function r(){k.value&&k.value==="CongratulationsStep"?A():z.commit("entities/setPreselected",z.getters["entities/getOriginalPreselected"]),R.value="760px"}let ce=w("amFonts");const Ee=w("labels"),me=w("localLanguage");let Ue=_(()=>O.general.usedLanguages.includes(me.value)),N=_(()=>{let W=gt({...Ee});if(O.customizedData&&O.customizedData.cbf&&O.customizedData.cbf.categoryPackage.translations){let B=O.customizedData.cbf.categoryPackage.translations;Object.keys(B).forEach($=>{B[$][me.value]&&Ue.value?W[$]=B[$][me.value]:B[$].default&&(W[$]=B[$].default)})}return W});function Ae(W){return W.length===1||W.length&&W.every(B=>B.id===W[0].id)?W[0].address?W[0].address:W[0].name:N.value.multiple_locations}function Re(W,B){let $="";return W>1?(B==="day"&&($=N.value.expires_days),B==="week"&&($=N.value.expires_weeks),B==="month"&&($=N.value.expires_months)):(B==="day"&&($=N.value.expires_day),B==="week"&&($=N.value.expires_week),B==="month"&&($=N.value.expires_month)),$}let K=w("amColors"),Ne=_(()=>({"--am-c-fcip-success-op20":ee(K.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(K.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(K.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(K.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(K.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(K.value.colorBtnSec,.5)})),Ie=_(()=>({"--am-c-fcip-bgr":K.value.colorMainBgr,"--am-c-fcip-text":K.value.colorMainText,"--am-c-fcip-success":K.value.colorSuccess,"--am-c-fcip-primary":K.value.colorPrimary,"--am-c-scroll-op30":ee(K.value.colorPrimary,.3),"--am-c-scroll-op10":ee(K.value.colorPrimary,.1),"--am-font-family":ce.fontFamily}));return(W,B)=>(t(),i(H,null,[e(fe)?c("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:F,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(m)?"":"no-scroll"}`,style:oe(e(Ne))},Wt({heading:P(()=>[a("div",{class:D([[{"am-tablet":e(ae)<=678},{"am-mobile":e(ae)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",wo,[a("span",So,[a("span",null,l(e(o).name),1)]),e(f).packageBadge.visibility?(t(),i("div",xo,[Io,a("span",null,l(e(N).package),1)])):c("",!0)]),a("div",Po,[e(o).discount&&e(f).packagePrice.visibility?(t(),i("span",Do,l(`${e(N).save} ${e(o).discount}%`),1)):c("",!0),e(f).packagePrice.visibility?(t(),i("span",Lo,l(e(o).price?e(vt)(e(Ut)(e(o))):e(N).free),1)):c("",!0),e(o).price&&(e(f).tax?.visibility??!0)&&e(ft)(e(z),e(o).id,"package")?(t(),i("span",To,[e(O).payments.taxes.excluded?(t(),i(H,{key:0},[ue(l(`+${e(N).total_tax_colon}`),1)],64)):(t(),i(H,{key:1},[ue(l(e(N).incl_tax),1)],64))])):c("",!0),a("span",Bo,[M(ze,{type:e(f).bookingBtn.buttonType,onClick:Ce},{default:P(()=>[ue(l(e(N).book_now),1)]),_:1},8,["type"])])])],2),e(f).packageCategory.visibility&&e(V).package.length!==1||e(f).packageDuration.visibility||e(f).packageCapacity.visibility||e(f).packageLocation.visibility&&e(ne).length?(t(),i("div",Eo,[a("div",zo,[e(de)?(t(),i("div",Fo,[Ao,a("span",null,l(e(j).name),1)])):c("",!0),e(f).packageDuration.visibility?(t(),i("div",No,[Vo,e(o).endDate?(t(),i("span",Mo,l(`${e(N).expires_at} ${e(o).endDate.split(" ")[0]}`),1)):e(o).durationCount?(t(),i("span",Oo,l(`${e(N).expires_after} ${e(o).durationCount} ${Re(e(o).durationCount,e(o).durationType)}`),1)):(t(),i("span",Wo,l(e(N).without_expiration),1))])):c("",!0),e(f).packageCapacity.visibility?(t(),i("div",Uo,jo)):c("",!0),e(ne).length&&e(f).packageLocation.visibility?(t(),i("div",qo,[Go,a("span",null,l(Ae(e(ne))),1)])):c("",!0)])])):c("",!0)]),content:P(()=>[e(o).gallery.length?(t(),i("div",Jo,[a("div",{class:D(["am-fcip__gallery-hero",[{w100:e(o).gallery.length===1},{"am-mobile w100":e(ae)<678}]]),style:oe({backgroundImage:`url(${e(o).gallery[0].pictureFullPath})`})},null,6),e(Q).length&&e(ae)>677?(t(),i("div",Yo,[(t(!0),i(H,null,ge(e(Q),($,U)=>(t(),i("div",{key:U,class:D(["am-fcip__gallery-thumb",{"am-one-thumb":e(Q).length===1}]),style:oe({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):c("",!0),M(ze,{"custom-class":`am-fcip__gallery-btn${e(ae)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>re(Z)?Z.value=!0:Z=!0)},{default:P(()=>[Qo,a("span",null,l(e(N).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),M(mt,{modelValue:e(Z),"onUpdate:modelValue":B[4]||(B[4]=$=>re(Z)?Z.value=$:Z=$),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:P(()=>[a("div",{class:"am-gd",style:oe(e(Ie))},[a("div",Xo,[a("div",Zo,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>re(h)?h.value=e(h)<=0?e(o).gallery.length-1:e(h)-1:h=e(h)<=0?e(o).gallery.length-1:e(h)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>re(h)?h.value=e(o).gallery.length-1===e(h)?0:e(h)+1:h=e(o).gallery.length-1===e(h)?0:e(h)+1)})]),(t(!0),i(H,null,ge(e(o).gallery,($,U)=>(t(),i("div",{key:U,class:"am-gd__display",style:oe({display:U===e(h)?"flex":"none"}),onClick:B[3]||(B[3]=()=>re(h)?h.value=e(o).gallery.length-1===e(h)?0:e(h)+1:h=e(o).gallery.length-1===e(h)?0:e(h)+1)},[a("img",{src:$.pictureFullPath,alt:U},null,8,Ko)],4))),128))]),a("div",en,l(`${e(h)+1}/${e(o).gallery.length}`),1),a("div",tn,[(t(!0),i(H,null,ge(e(o).gallery,($,U)=>(t(),i("div",{key:U,class:D(["am-gd__thumb",{"am-active":U===e(h)}]),style:oe({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>re(h)?h.value=U:h=U},null,14,an))),128))])],4)]),_:1},8,["modelValue"]),e(f).packageDescription.visibility&&e(Ve)(e(o).description)||e(f).packageEmployees.visibility?(t(),i("div",sn,[a("div",ln,[e(Ve)(e(o).description)&&e(f).packageDescription.visibility?(t(),i("div",{key:0,class:D(["am-fcip__info-tab",{"am-active":e(se)==="description"}]),onClick:B[5]||(B[5]=()=>re(se)?se.value="description":se="description")},l(e(N).about_package),3)):c("",!0),e(f).packageEmployees.visibility?(t(),i("div",{key:1,class:D([{"am-active":e(se)==="employees"},"am-fcip__info-tab"]),onClick:B[6]||(B[6]=()=>re(se)?se.value="employees":se="employees")},l(e(N).tab_employees),3)):c("",!0)]),a("div",on,[e(Ve)(e(o).description)&&e(f).packageDescription.visibility?Pt((t(),i("div",nn,[a("div",{class:D(["am-fcip__info-service__desc",{"ql-description":e(o).description.includes("<!-- Content -->")}]),innerHTML:e(o).description},null,10,cn)],512)),[[Dt,e(se)==="description"]]):c("",!0),e(f).packageEmployees.visibility?Pt((t(),i("div",rn,[M(xt,null,{default:P(()=>[(t(!0),i(H,null,ge(e(J),$=>(t(),he(It,{key:$.id,side:""},{heading:P(()=>[a("div",un,[a("div",mn,[M(ut,{"item-class":"am-fcip__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),a("div",dn,[ue(l($.firstName)+" "+l($.lastName)+" ",1),$.badge?(t(),i("span",{key:0,style:oe({background:$.badge.color}),class:"am-fcip__info-employee__badge"},l($.badge.content),5)):c("",!0)])])])]),default:P(()=>[e(Ve)($.description)?(t(),i("div",{key:0,class:D(["am-fcip__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,pn)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Dt,e(se)==="employees"]]):c("",!0)])])):c("",!0),e(f).packageServices.visibility?(t(),i("div",_n,[a("div",vn,[a("span",fn,l(`${e(N).package_includes}:`),1)]),M(xt,null,{default:P(()=>[(t(!0),i(H,null,ge(e(o).bookable,$=>(t(),he(It,{key:$.id,side:!0},{heading:P(()=>[a("div",gn,[M(ut,{"item-class":"am-fcip__include-service__img","item-data":$.service},null,8,["item-data"]),ue(" "+l($.service.name+(e(o).sharedCapacity?"":" x"+$.quantity)),1)])]),default:P(()=>[a("div",yn,[a("span",null,l(`${e(N).tab_employees}:`),1),(t(!0),i(H,null,ge(L($).slice(0,6),U=>(t(),he(ut,{key:U.id,"item-class":"am-fcip__include-service__info-name","item-data":U,"trim-string":3},null,8,["item-data"]))),128)),L($).length>6?(t(),i("span",hn," + "+l(L($).length-6),1)):c("",!0),e(Ve)($.service.description)?(t(),i("div",{key:1,class:D(["am-fcip__include-service__info-description",{"ql-description":$.service.description.includes("<!-- Content -->")}]),innerHTML:$.service.description},null,10,bn)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",kn,[a("span",Cn,l(e(N).package_book_service),1)])])):c("",!0),M(mt,{modelValue:e(pe),"onUpdate:modelValue":B[7]||(B[7]=$=>re(pe)?pe.value=$:pe=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(R),onClosed:r},{default:P(()=>[M(jt)]),_:1},8,["modelValue","width"])]),_:2},[e(le)?{name:"header",fn:P(()=>[M(Rt,{"btn-string":e(N).back_btn,"btn-type":e(f).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:Le},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(fe)?(t(),i("div",$n,[a("img",{src:e(ve).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(N).no_package_services},null,8,wn),a("div",Sn,l(e(N).oops),1),a("div",xn,l(e(N).no_package_services),1),a("div",In,[a("a",Pn,l(e(N).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const Tn={name:"CatalogSkeleton"},Bn=Object.assign(Tn,{setup(ye){let Y=g(null),F=g(0);window.addEventListener("resize",ae);function ae(){Y.value&&(F.value=Y.value.offsetWidth)}Fe(()=>{Y.value&&(F.value=Y.value.offsetWidth)});let O=_(()=>F.value<=500?"am-w100":F.value<=600?"am-w50":F.value<=768?"am-w33":"");return(ve,z)=>{const d=Va,V=Na;return t(),i("div",{ref_key:"amSkeletonContainer",ref:Y,class:"am-skeleton-catalog__wrapper"},[M(V,{animated:"",class:"am-skeleton-catalog"},{template:P(()=>[(t(!0),i(H,null,ge(new Array(8),le=>(t(),i("div",{key:le,class:D(["am-skeleton-catalog__item",e(O)])},[M(d,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const En=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),zn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fn=["href"],An={name:"CatalogFormWrapper"},Nn=Object.assign(An,{setup(ye){let Y=w("licence"),F=g(null),ae=g(20);const O=w("baseUrls");let ve=g(0);X("containerWidth",ve),window.addEventListener("resize",z);function z(){F.value&&(ve.value=F.value.offsetWidth)}Fe(()=>{I.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+le.value.counter).classList.add("amelia-v2-booking-"+le.value.counter+"-loaded"),pt(I,{},"ViewContent","appointment",null,null),z(),Yt("scrollForm",{offsetFromTop:ae})});let d=g(!1);const V=w("settings"),le=w("shortcodeData"),I=it();I.commit("entities/setPreselected",le.value),I.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:Y,loadEntities:le.value.hasApiCall||le.value.in_dialog,showHidden:!1,isPanel:!1});const G=Se(bi),f=Se(sl),m=Se($o),x=Se(Ln);let T=g([G,f]),j=g(0),de=g(null);X("categorySelected",de);let o=g([]);X("availableCategories",o);let h=g("");X("itemType",h),_t(h,()=>{h.value==="appointment"&&T.value.push(m),h.value==="package"&&T.value.push(x),h.value===""&&T.value.forEach((A,r)=>{A.name==="CategoryService"&&se(T.value,r),A.name==="CategoryPackage"&&se(T.value,r)})});function se(A,r){A.splice(r,1)}function J(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ne(){if(j.value=j.value+1,J())setTimeout(()=>{let A=F.value.getBoundingClientRect().top+window.pageYOffset-ae.value;window.scrollTo({top:A,behavior:"smooth"})},500);else{let A=F.value.getBoundingClientRect().top+window.pageYOffset-ae.value;window.scrollTo({top:A,behavior:"smooth"})}}function ke(){j.value=j.value-1}X("changingPageFunctions",{nextPage:ne,previousPage:ke});let L=_(()=>I.getters["entities/getReady"]),fe=_(()=>I.state.entities);X("amEntities",fe);function Z(){let A=I.getters["entities/getPreselected"];if(A.category.length!==1&&(le.value.categories_hidden&&(o.value=JSON.parse(JSON.stringify(wt(fe.value,le.value))),xe(()=>{let r=T.value.findIndex(ce=>ce.name==="CategoriesList");T.value.splice(r,1)})),le.value.categories_hidden||(o.value=JSON.parse(JSON.stringify(wt(fe.value,le.value))),xe(()=>{if(o.value.length===1){I.commit("booking/setCategoryId",parseInt(o.value[0].id)),de.value=parseInt(o.value[0].id);let r=T.value.findIndex(ce=>ce.name==="CategoriesList");T.value.splice(r,1)}}))),A.category.length===1&&(I.commit("booking/setCategoryId",parseInt(A.category)),de.value=parseInt(A.category[0]),o.value=JSON.parse(JSON.stringify(wt(fe.value,le.value).filter(r=>r.id===parseInt(A.category[0])))),xe(()=>{let r=T.value.findIndex(ce=>ce.name==="CategoriesList");T.value.splice(r,1)})),A.service.length===1){I.commit("booking/setServiceId",parseInt(A.service[0]));let r=I.getters["entities/getService"](parseInt(A.service[0]));de.value=r?parseInt(r.categoryId):null,I.commit("booking/setCategoryId",r?parseInt(r.categoryId):null),xe(()=>{T.value=[],T.value.push(m)})}A.employee.length===1&&I.commit("booking/setEmployeeId",parseInt(A.employee[0])),A.location.length===1&&I.commit("booking/setLocationId",parseInt(A.location[0])),A.package.length===1&&I.getters["entities/getPackages"].length&&(T.value=[],I.commit("booking/setPackageId",parseInt(A.package[0])),xe(()=>{T.value.push(x)})),A.show==="packages"?I.commit("booking/setBookableType","package"):I.commit("booking/setBookableType","appointment")}let Q=_(()=>L.value?Oa(I,le.value):null);X("restoreFormData",Q),_t(L,A=>{A&&(Z(),d.value=I.getters["entities/getServices"].length===0||I.getters["entities/getEmployees"].length===0,Q.value&&(h.value=I.state.booking.appointment.type,xe(()=>{j.value=T.value.length-1,de.value=I.state.booking.appointment.categoryId})))});let Le=_(()=>V.customizedData&&"cbf"in V.customizedData?V.customizedData.cbf:ct.cbf);X("customizedDataForm",Le);const pe=g(V.customizedData?V.customizedData.fonts:ct.fonts);X("amFonts",pe);let R=_(()=>V.customizedData&&"cbf"in V.customizedData?V.customizedData.cbf.colors:ct.cbf.colors);X("amColors",R);let Ce=_(()=>({"--am-c-primary":R.value.colorPrimary,"--am-c-success":R.value.colorSuccess,"--am-c-error":R.value.colorError,"--am-c-warning":R.value.colorWarning,"--am-c-main-bgr":R.value.colorMainBgr,"--am-c-main-heading-text":R.value.colorMainHeadingText,"--am-c-main-text":R.value.colorMainText,"--am-c-sb-bgr":R.value.colorSbBgr,"--am-c-sb-text":R.value.colorSbText,"--am-c-inp-bgr":R.value.colorInpBgr,"--am-c-inp-border":R.value.colorInpBorder,"--am-c-inp-text":R.value.colorInpText,"--am-c-inp-placeholder":R.value.colorInpPlaceHolder,"--am-c-drop-bgr":R.value.colorDropBgr,"--am-c-drop-text":R.value.colorDropText,"--am-c-card-bgr":R.value.colorCardBgr,"--am-c-card-text":R.value.colorCardText,"--am-c-card-border":R.value.colorCardBorder,"--am-c-btn-prim":R.value.colorBtnPrim,"--am-c-btn-prim-text":R.value.colorBtnPrimText,"--am-c-btn-sec":R.value.colorBtnSec,"--am-c-btn-sec-text":R.value.colorBtnSecText,"--am-c-skeleton-op20":ee(R.value.colorMainText,.2),"--am-c-skeleton-op60":ee(R.value.colorMainText,.6),"--am-font-family":pe.value.fontFamily}));function Me(){let A=document.head||document.getElementsByTagName("head")[0];A.querySelector("#amCustomFont")&&A.querySelector("#amCustomFont").remove();let r=`@font-face {font-family: '${pe.value.fontFamily}'; src: url(${pe.value.fontUrl});}`,ce=document.createElement("style");A.appendChild(ce),ce.setAttribute("type","text/css"),ce.setAttribute("id","amCustomFont"),ce.appendChild(document.createTextNode(r))}pe.value.customFontSelected&&Me();let k=_(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",k),(A,r)=>(t(),i(H,null,[pe.value.customFontSelected?c("",!0):(t(),i(H,{key:0},[En,zn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(O).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:F,class:"am-fc__wrapper",style:oe(e(Ce))},[e(L)&&e(T).length?(t(),he(Qt(e(T)[e(j)]),{key:0})):(t(),he(Bn,{key:1}))],4),M(e(Ma))],64))}});var Mn=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"}));export{Mn as C,Za as _,Rt as a,ut as b,Ht as c,Nn as d};
