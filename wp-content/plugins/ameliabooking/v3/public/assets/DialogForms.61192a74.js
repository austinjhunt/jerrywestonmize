import{z as k,G as u,c_ as B,q as i,C as d,E as R,v as W,a4 as $,l as f,a3 as L,e as w,w as M,b as l,a9 as S,al as N,k as D,D as y,o as x,ad as P}from"./stepForm.0d506831.js";import{d as T}from"./catalogForm.a2d1945b.js";import{v as j}from"./eventListForm.39c0f144.js";import A from"./eventCalendarForm.66e94328.js";const F={name:"EventsListFormWrapper"},U=Object.assign(F,{setup(H){let e=D("shortcodeData"),E=k({sbsNew:u(B),cbf:u(T),elf:u(j),ecf:u(A)}),n=i(0);d("dialogWrapperWidth",n);let a=i(!1);d("formDialogVisibility",a);let c=i(!1),g=e.value.trigger_type&&e.value.trigger_type==="class"?[...document.getElementsByClassName(e.value.trigger)]:[document.getElementById(e.value.trigger)];function b(s){c.value=s}let v=i(100),p=i(0);d("loadDialogCounter",p),g.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),a.value=!0,c.value||p.value++,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},v.value)})}),R(c,s=>{s&&g.forEach(r=>{r.dispatchEvent(new Event("click"))})});function z(){a.value=!1}let m=i(0);function _(){m.value=window.visualViewport.height}window.addEventListener("resize",_),W(()=>{$("renderPopup",{resizeAfter:v}),_()});const o=D("settings");let t=f(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form].colors:y[e.value.triggered_form].colors),C=f(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form]:y[e.value.triggered_form]),V=f(()=>({"--am-c-primary":t.value.colorPrimary,"--am-c-success":t.value.colorSuccess,"--am-c-error":t.value.colorError,"--am-c-warning":t.value.colorWarning,"--am-c-main-bgr":t.value.colorMainBgr,"--am-c-main-heading-text":t.value.colorMainHeadingText,"--am-c-main-text":t.value.colorMainText,"--am-dvh":m.value?`${m.value}px`:"100dvh"}));return L(()=>{e.value.triggered_form==="sbsNew"&&(n.value=C.value.sidebar.options.self.visibility?"760px":"520px"),e.value.triggered_form==="cbf"&&(n.value="1140px"),e.value.triggered_form==="elf"&&(n.value="792px")},{flush:"post"}),(s,r)=>(x(),w(N,{modelValue:l(a),"onUpdate:modelValue":r[0]||(r[0]=h=>S(a)?a.value=h:a=h),"append-to-body":!0,"modal-class":`amelia-v2-booking am-forms-dialog am-${l(e).triggered_form}`,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-styles":l(V),"used-for-shortcode":!0,width:l(n),onClosed:z},{default:M(()=>[(x(),w(P(l(E)[l(e).triggered_form]),{onIsRestored:b}))]),_:1},8,["modelValue","modal-class","custom-styles","width"]))}});export{U as default};
