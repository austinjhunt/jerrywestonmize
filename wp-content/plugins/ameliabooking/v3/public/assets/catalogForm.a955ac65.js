import{d as Gt,_ as $t,u as it,o as t,c as i,a,b as e,e as he,w as A,f as me,t as o,g as ca,h as ze,i as r,j as q,k as Vt,l as z,m as y,n as ie,F as Q,r as ye,p as R,q as ce,s as b,v as xe,x as Fe,y as kt,z as Jt,A as st,B as Ke,I as ra,C as pt,D as se,E as ct,G as wt,H as Se,J as ua,K as da,L as ma,M as pa,N as _a,O as va,P as fa,Q as ga,R as ya,S as ha,T as ba,U as ka,V as Ca,W as $a,X as Je,Y as Ft,Z as wa,$ as Lt,a0 as Ot,a1 as mt,a2 as Yt,a3 as Sa,a4 as xa,a5 as Pa,a6 as Xt,a7 as Oe,a8 as Ye,a9 as Ia,aa as La,ab as de,ac as Da,ad as Ut,ae as Ea,af as Zt,ag as Ta,ah as Ba,ai as Kt,aj as za,ak as Fa,al as At,am as St,an as dt,ao as Rt,ap as Wt,aq as _t,ar as xt,as as Ne,at as Pt,au as It,av as Aa,aw as Ra,ax as Na,ay as Ma,az as Va,aA as Oa}from"./stepForm.4a19009a.js";const Ua={class:"am-cat__header-inner"},Wa={class:"am-cat__back-btn"},ja={key:0,class:"am-cat__cart-btn"},Ha={class:"am-cat__cart-number"},qa={name:"MainHeader"},jt=Object.assign(qa,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(h,{emit:B}){const f=h;let w=Gt({components:{IconComponent:$t},template:'<IconComponent icon="arrow-left"></IconComponent>'}),x=Gt({components:{IconComponent:$t},template:'<IconComponent icon="cart"/>'});function I(){B("goBack")}const d=it();function s(){Vt(d),B("goToCart")}return(m,g)=>(t(),i("div",Ua,[a("div",Wa,[e(f).backBtnVisibility?(t(),he(ze,{key:0,prefix:e(w),category:"secondary",type:h.btnType,size:h.btnSize,onClick:I,onKeydown:ca(I,["enter"])},{default:A(()=>[me(o(e(f).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):r("",!0)]),e(f).cartBtnVisibility?(t(),i("div",ja,[a("span",Ha,o(e(f).cartItemsNumber),1),q(ze,{"aria-label":"Go to cart button",category:"secondary",type:h.btnType,size:h.btnSize,round:!0,"icon-only":!0,icon:e(x),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const Ga={class:"am-cat__sidemenu-item__wrapper"},Ja=["onClick"],Ya={key:0,class:"am-cat__sidemenu-footer"},Qa={class:"am-cat__sidemenu-footer__text"},Xa=["href"],Za={name:"SideMenu"},Ka=Object.assign(Za,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(h,{emit:B}){const f=h;function w(d){B("click",d)}let x=z("amColors"),I=y(()=>({"--am-c-csm-text-op10":ie(x.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(x.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(x.value.colorSbText,.6),"--am-c-csm-text-op80":ie(x.value.colorSbText,.8)}));return(d,s)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:ce(e(I))},[a("div",Ga,[(t(!0),i(Q,null,ye(h.menuItems,(m,g)=>(t(),i("div",{key:g,class:R(["am-cat__sidemenu-item",{"am-active":e(f).initSelection===m[e(f).identifier]}]),onClick:()=>w(m)},o(m[e(f).nameIdentifier]),11,Ja))),128))]),e(f).companyEmail?(t(),i("div",Ya,[a("span",Qa,o(e(f).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(f).companyEmail}`},o(e(f).companyEmail),9,Xa)])):r("",!0)],4))}});const ei={name:"MainContent"},Ht=Object.assign(ei,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(h,{expose:B}){let f=b(null),w=b(0),x=b(null),I=b(0),d=b(null),s=b(0),m=b(null),g=b(null),_=b(0);window.addEventListener("resize",O);function O(){xe(()=>{f.value&&(w.value=f.value.offsetWidth),x.value&&(I.value=x.value.offsetWidth),d.value&&(s.value=d.value.offsetWidth)})}Fe(()=>{xe(()=>{if(d.value&&m.value){let N=d.value.offsetHeight-m.value.offsetHeight-2;_.value=N<=656?656:N}O()})}),B({catHeaderWidth:w,catFormWidth:s,catContainerWidth:I});let C=z("amColors"),v=y(()=>({"--am-h-cat-content":`${_.value}px`,"--am-c-scroll-op30":ie(C.value.colorPrimary,.3),"--am-c-scroll-op10":ie(C.value.colorPrimary,.1)}));return(N,V)=>(t(),i("div",{class:R(["am-cat__wrapper",h.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:f,class:"am-cat__header"},[kt(N.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:x,class:"am-cat__main"},[kt(N.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",h.formClass]),style:ce(e(v))},[a("div",{ref_key:"catHeading",ref:m,class:R(["am-cat__heading",h.headingClass])},[kt(N.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:g,class:R(["am-cat__content",h.contentClass])},[kt(N.$slots,"content")],2)],6)],512)],2))}}),ti={name:"AmImagePlaceholder"},rt=Object.assign(ti,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(h){const B=h;function f(x){return x.pictureFullPath?{backgroundImage:`url(${x.pictureFullPath})`}:{backgroundColor:`${Jt.value[Math.floor(Math.random()*Jt.value.length)]}`}}function w(x){return x.pictureFullPath?"":("firstName"in x?`${x.firstName} ${x.lastName}`:x.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,B.trimString).replace(/[^\w\s]/g,"")}return(x,I)=>(t(),i("span",{class:R(e(B).itemClass),style:ce({...f(e(B).itemData)})},o(w(e(B).itemData)),7))}}),Nt=st(window.wpAmeliaSettings),Qt=st(window.wpAmeliaLabels);function ea(h,B,f,w=null,x=null){let I=[],d=h&&h.service?h.service.split(",").map(s=>parseInt(s)):null;return B&&B.serviceList.forEach(s=>{w?w in f.entitiesRelations&&s.id in f.entitiesRelations[w]&&(x?f.entitiesRelations[w][s.id].find(m=>m===x):!0)&&s.status==="visible"&&s.show&&!I.filter(m=>m===s.id).length&&(!d||d.includes(s.id))&&I.push(s.id):f.employees.forEach(m=>{m.id in f.entitiesRelations&&s.id in f.entitiesRelations[m.id]&&(x?f.entitiesRelations[m.id][s.id].find(g=>g===x):!0)&&s.status==="visible"&&s.show&&!I.filter(g=>g===s.id).length&&(!d||d.includes(s.id))&&I.push(s.id)})}),I}function ta(h,B){let f=[],w=[];h.employees.forEach(d=>{if(d.id in h.entitiesRelations&&B in h.entitiesRelations[d.id]){let s=d.serviceList.find(m=>m.id===B);f.push(s.maxCapacity),w.push(s.minCapacity)}});let x=w.reduce((d,s)=>s<d?s:d,w[0]),I=f.reduce((d,s)=>s>d?s:d,f[0]);return x!==I?`${x}/${I}`:x}function aa(h){let B=Math.floor(h/3600),f=h/60%60;return(B?B+Qt.h+" ":"")+" "+(f?f+Qt.min:"")}function ut(h,B){let f=[];h.employees.forEach(I=>{if(I.id in h.entitiesRelations&&B in h.entitiesRelations[I.id]){let d=I.serviceList.find(s=>s.id===B);f.push(d.price)}});let w=f.reduce((I,d)=>d<I?d:I,f[0]),x=f.reduce((I,d)=>d>I?d:I,f[0]);return w!==x?{price:`${Ke(w,!Nt.payments.hideCurrencySymbolFrontend)} - ${Ke(x,!Nt.payments.hideCurrencySymbolFrontend)}`,min:w,max:x}:{price:Ke(w,Nt.payments.hideCurrencySymbolFrontend),min:w,max:x}}function at(h,B){let f=[];return h.employees.forEach(w=>{w.id in h.entitiesRelations&&B in h.entitiesRelations[w.id]&&h.entitiesRelations[w.id][B].length&&h.locations.forEach(x=>{h.entitiesRelations[w.id][B].some(I=>I===x.id)&&!f.find(I=>I===x.id)&&f.push(x)})}),f}function ai(h,B){let f=[],w=Object.keys(h.entitiesRelations);return B.bookable.forEach(x=>{let I=[];w.forEach(d=>{h.entitiesRelations[d]&&h.entitiesRelations[d][x.service.id]&&!I.find(s=>s?s.id===parseInt(d):!0)&&I.push(h.employees.find(s=>s.id===parseInt(d)))}),I.length||f.push(!1)}),f.filter(x=>x===!1).length}function ii(h,B,f){let w=[],x=Object.keys(h.entitiesRelations),I=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,d=b(I?h.unfilteredEmployees.filter(s=>I.map(m=>parseInt(m)).includes(s.id)):h.unfilteredEmployees);return B.bookable.forEach(s=>{let m=[];s.providers.length?s.providers.forEach(g=>{s.locations.length?s.locations.forEach(_=>{d.value.find(O=>O.id===g.id)&&h.entitiesRelations[g.id]&&h.entitiesRelations[g.id][s.service.id]&&h.entitiesRelations[g.id][s.service.id].indexOf(_.id)!==-1&&!m.find(O=>O.id===g.id)&&m.push(d.value.find(O=>O.id===g.id))}):d.value.find(_=>_.id===g.id)&&!m.find(_=>_.id===g.id)&&m.push(d.value.find(_=>_.id===g.id))}):x.forEach(g=>{s.locations.length?s.locations.forEach(_=>{h.entitiesRelations[g]&&h.entitiesRelations[g][s.service.id]&&h.entitiesRelations[g][s.service.id].indexOf(_.id)!==-1&&d.value.find(O=>O.id===parseInt(g))&&!m.find(O=>O.id===parseInt(g))&&m.push(d.value.find(O=>O.id===parseInt(g)))}):h.entitiesRelations[g]&&h.entitiesRelations[g][s.service.id]&&d.value.find(_=>_.id===parseInt(g))&&!m.find(_=>_.id===parseInt(g))&&m.push(d.value.find(_=>_.id===parseInt(g)))}),w.push(!!m.length)}),!w.filter(s=>s===!1).length}function ia(h,B,f){let w=[],x=Object.keys(h.entitiesRelations),I=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,d=b(I?h.unfilteredEmployees.filter(s=>I.map(m=>parseInt(m)).includes(s.id)):h.unfilteredEmployees);return B.bookable.forEach(s=>{s.providers.length?s.providers.forEach(m=>{s.locations.length?s.locations.forEach(g=>{d.value.find(_=>_.id===m.id)&&h.entitiesRelations[m.id]&&h.entitiesRelations[m.id][s.service.id]&&h.entitiesRelations[m.id][s.service.id].indexOf(g.id)!==-1&&!w.find(_=>_.id===m.id)&&w.push(d.value.find(_=>_.id===m.id))}):d.value.find(g=>g.id===m.id)&&!w.find(g=>g.id===m.id)&&w.push(d.value.find(g=>g.id===m.id))}):x.forEach(m=>{s.locations.length?s.locations.forEach(g=>{h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id]&&h.entitiesRelations[m][s.service.id].indexOf(g.id)!==-1&&d.value.find(_=>_.id===parseInt(m))&&!w.find(_=>_.id===parseInt(m))&&w.push(d.value.find(_=>_.id===parseInt(m)))}):h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id]&&d.value.find(g=>g.id===parseInt(m))&&!w.find(g=>g.id===parseInt(m))&&w.push(d.value.find(g=>g.id===parseInt(m)))})}),w}function Mt(h,B,f){let w=[],x=Object.keys(h.entitiesRelations),I=f&&f.location?f.location.split(",").map(s=>parseInt(s)):null,d=b(I?h.unfilteredLocations.filter(s=>I.map(m=>parseInt(m)).includes(s.id)):h.unfilteredLocations);return B.bookable.forEach(s=>{s.locations.length?s.locations.forEach(m=>{d.value.find(g=>g.id===m.id)&&!w.find(g=>g.id===m.id)&&w.push(d.value.find(g=>g.id===m.id))}):x.forEach(m=>{d.value.forEach(g=>{m in h.entitiesRelations&&s.service.id in h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id].indexOf(g.id)!==-1&&d.value.find(_=>_.id===g.id)&&!w.find(_=>_.id===parseInt(g.id))&&w.push(d.value.find(_=>_.id===g.id))})})}),w}function Ct(h,B,f=null,w=null){let x=[];return h.categories.forEach(I=>{let d=ea(B,I,h,f,w);I.serviceIdList=d,I.packageList=[],h.packages.forEach(s=>{d.forEach(m=>{s.bookable.filter(g=>g.service.id===m).length&&!I.packageList.filter(g=>g===s.id).length&&s.available&&s.status==="visible"&&!ai(h,s)&&ii(h,s,B)&&I.packageList.push(s.id)})}),I.status==="visible"&&I.serviceList.length&&!!d.length&&(B.show==="packages"?!!I.packageList.length:!0)&&x.push(I)}),x}const si={class:"am-fcl__item-inner"},li={class:"am-fcl__item-name"},oi={class:"am-fcl__item-segments"},ni={key:0,class:"am-fcl__item-segments__item"},ci=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),ri={class:"am-fcl__item-segments__item-count"},ui={key:1,class:"am-fcl__item-segments__item"},di=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),mi={class:"am-fcl__item-segments__item-count"},pi={class:"am-fcl__item-footer"},_i=["src","alt"],vi={class:"am-empty__heading"},fi={class:"am-empty__subheading"},gi={class:"am-empty__text"},yi={key:0},hi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},bi={key:1},ki={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ci={name:"CategoriesList",key:"categoriesList"},$i=Object.assign(Ci,{setup(h){const B=z("baseUrls");let f=b(null),w=b(0);window.addEventListener("resize",x);function x(){f.value&&(w.value=f.value.offsetWidth)}Fe(()=>{f.value&&(w.value=f.value.offsetWidth)});let I=y(()=>w.value<=500?"am-w100":w.value<=600?"am-w50":w.value<=768?"am-w33":""),{nextPage:d}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let m=it(),g=z("amEntities"),_=z("customizedDataForm"),O=y(()=>_.value.categoriesList.options);const C=z("shortcodeData"),v=y(()=>m.getters["entities/getPreselected"]);let N=z("availableCategories"),V=y(()=>N.value),X=z("categorySelected");function _e(ge){X.value=ge,m.commit("booking/setCategoryId",parseInt(ge)),pt(m,{},"SelectCategory","appointment",null,null),d()}let n=y(()=>V.value.length===0);const P=z("labels"),ne=z("localLanguage");let K=y(()=>s.general.usedLanguages.includes(ne.value)),re=y(()=>{let ge=st({...P});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let te=s.customizedData.cbf.categoriesList.translations;Object.keys(te).forEach(ee=>{te[ee][ne.value]&&K.value?ge[ee]=te[ee][ne.value]:te[ee].default&&(ge[ee]=te[ee].default)})}return ge}),ke=z("amColors"),M=y(()=>({"--am-c-fcl-card-text-op80":ie(ke.value.colorCardText,.8)}));return(ge,te)=>e(n)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:f,class:"am-empty"},[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(v).show!=="packages"?e(re).no_services_employees:e(re).no_package_services},null,8,_i),a("div",vi,o(e(re).oops),1),a("div",fi,o(e(v).show!=="packages"?e(re).no_services_employees:e(re).no_package_services),1),a("div",gi,[e(v).show!=="packages"?(t(),i("span",yi,o(e(re).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",hi,o(e(re).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(t(),i("span",bi,o(e(re).and)+"\xA0 ",1)):r("",!0),e(v).show!=="packages"?(t(),i("a",ki,o(e(re).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:f,class:"am-fcl",role:"main",style:ce(e(M))},[(t(!0),i(Q,null,ye(e(V),ee=>(t(),i("div",{key:ee.id,class:R(["am-fcl__item",e(I)]),role:"group"},[a("div",si,[a("div",{class:"am-fcl__item-content",style:ce(e(O).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:ee.color}:{})},[a("div",{class:"am-fcl__item-heading",style:ce(e(O).cardColor&&e(O).cardColor.visibility?{backgroundColor:e(ie)(ee.color,.1)}:{})},[ee.pictureFullPath?(t(),i("div",{key:0,style:ce({backgroundImage:`url(${ee.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",li,o(ee.name),1),a("div",oi,[(!e(v).show||e(v).show==="services")&&e(O).services.visibility?(t(),i("div",ni,[ci,a("span",ri,o(e(ea)(e(C),ee,e(g)).length),1)])):r("",!0),(!e(v).show||e(v).show==="packages")&&ee.packageList.length&&e(O).packages.visibility?(t(),i("div",ui,[di,a("span",mi,o(ee.packageList.length),1)])):r("",!0)])],4),a("div",pi,[q(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(O).cardButton.buttonType,suffix:e(ra),onClick:De=>_e(ee.id)},{default:A(()=>[me(o(e(re).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const wi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Si=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),xi=["href"],Pi={class:"am-fs-sb__step-wrapper",tabindex:"0"},Ii={class:"am-fs-sb__step-inner"},Li={class:"am-fs-sb__step-icon"},Di={key:0,class:"am-icon-check"},Ei={key:0},Ti={key:1},Bi={key:1},zi={key:0,class:"am-fs-sb__step"},Fi={class:"am-fs-sb__step-inner"},Ai={class:"am-fs-sb__step-icon"},Ri={key:0,class:"am-icon-check"},Ni={key:0,class:"am-fs-sb__support"},Mi=["aria-label","href"],Vi={key:1,class:"am-icon-phone"},Oi=["aria-label","href"],Ui={key:1,class:"am-icon-email"},Wi={key:0,class:"am-fs-sb__menu-text"},ji={key:2,class:"am-no-services"},Hi=["src","alt"],qi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Gi={style:{"font-size":"14px"}},Ji={href:"https://wpamelia.com/employees/",rel:"nofollow"},Yi={name:"CategoryBooking"},qt=Object.assign(Yi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(h,{emit:B}){const f=h;let w=b(null),x=b();se("containerWidth",x);let I=b(!1);window.addEventListener("resize",d);function d(){w.value&&(x.value=w.value.offsetWidth)}Fe(()=>{xe(()=>{w.value&&(x.value=w.value.offsetWidth)}),pt(n,{containerWidth:x},"ContainerWidth","appointment",null,null)});const s=z("settings"),m=s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew:ct.sbsNew;m&&se("amCustomize",m);let g=y(()=>{let c={heading:!0,phone:!0,email:!0};return"supportHeading"in m.sidebar.options&&(c.heading=m.sidebar.options.supportHeading.visibility),"companyPhone"in m.sidebar.options&&(c.phone=m.sidebar.options.companyPhone.visibility),"companyEmail"in m.sidebar.options&&(c.email=m.sidebar.options.companyEmail.visibility),c});const _=b(s.customizedData?s.customizedData.fonts:ct.fonts);se("amFonts",_);let O=b(!1);se("sidebarCollapsed",O);let C=b(""),v=z("bookingDialogWidth");wt(O,c=>{c?setTimeout(()=>{C.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):(C.value="",v.value="760px")}),Fe(()=>{m.sidebar.options.self.visibility||(v.value="520px")});let N=b(null),V=b(0);Fe(()=>{setTimeout(()=>{xe(()=>{N.value&&setTimeout(()=>{N.value&&(V.value=N.value.offsetHeight)},200)})},800)});let X=b(m.sidebar?m.sidebar.options.self.visibility:!0);const _e=z("baseUrls"),n=it();let P=y(()=>{let c=n.getters["entities/getOriginalPreselected"],S={category:n.state.booking.appointment.categoryId?[n.state.booking.appointment.categoryId]:[],counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId?[n.state.booking.appointment.providerId]:[],hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId?[n.state.booking.appointment.locationId]:[],service:n.state.booking.appointment.serviceId?[n.state.booking.appointment.serviceId]:[],package:n.state.booking.packageId?[n.state.booking.packageId]:[],show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(c).forEach(L=>{L in S||(S[L]=c[L])}),S});n.commit("entities/setPreselected",P.value);let ne=z("restoreFormData");const K=Se(ua),re=Se(da),ke=Se(ma),M=Se(pa),ge=Se(_a),te=Se(va),ee=Se(fa),De=Se(ga),ve=Se(ya),Y=Se(ha),Ce=Se(ba),Me=Se(ka),D=Se(Ca),W=Se($a),u=b(Je(n)?[K,te,Y,Ce,ve]:[K,te,Ce,ve]);se("stepsArray",u);const ue=z("labels"),Be=z("localLanguage");let pe=y(()=>s.general.usedLanguages.includes(Be.value)),Ue=Ft(n),j=y(()=>{let c=st({...ue});return s.customizedData&&s.customizedData.sbsNew&&Object.keys(s.customizedData.sbsNew).forEach(S=>{if(S!=="colors"&&s.customizedData.sbsNew[S].translations){let L=s.customizedData.sbsNew[S].translations;Object.keys(L).forEach(Z=>{L[Z][Be.value]&&pe.value?c[Z]=L[Z][Be.value]:L[Z].default&&(c[Z]=L[Z].default)})}}),c});se("amLabels",j);let Ae=y(()=>{let c={};if(s.customizedData&&s.customizedData.sbsNew){let S=s.customizedData.sbsNew[u.value[k.value].key]?s.customizedData.sbsNew[u.value[k.value].key].translations:null;s.customizedData&&S&&Object.keys(S).forEach(L=>{S[L][Be.value]&&pe.value?c[L]=S[L][Be.value]:S[L].default&&(c[L]=S[L].default)})}return Object.keys(c).length?c:ue}),We=y(()=>{let c="filled";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[u.value[k.value].key]&&(c=s.customizedData.sbsNew[u.value[k.value].key].options.primaryFooterButton.buttonType),c});se("primFooterBtnType",We),se("primDescBtnType",We);let ae=y(()=>{let c="text";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[u.value[k.value].key]&&s.customizedData.sbsNew[u.value[k.value].key].options.secondaryFooterButton&&(c=s.customizedData.sbsNew[u.value[k.value].key].options.secondaryFooterButton.buttonType),c}),Re=y(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Pe=y(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function G(c,S){let L="";if(s.customizedData&&s.customizedData.sbsNew){let Z=s.customizedData.sbsNew[S]?s.customizedData.sbsNew[S].translations:null;s.customizedData&&Z&&Z[c]&&(L===""&&Z[c][Be.value]&&pe.value?L=Z[c][Be.value]:L===""&&Z[c].default&&(L=Z[c].default))}return L||ue[c]}let U=y(()=>wa(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function T(){let c=n.getters["entities/getPreselected"];if(c.show==="packages")c.package.length>0&&(u.value.splice(0,1),le.value.splice(0,1),we()),p();else{$();let S=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,L=!m.initStep.options.employee.visibility,Z=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,Te=!m.initStep.options.location.visibility;c.service.length>0&&(c.employee.length>0||S||L)&&(c.location.length>0||Z||Te)&&(U.value.availability?(u.value.splice(0,1,W),le.value.splice(0,1)):(u.value.splice(0,1),le.value.splice(0,1)),p())}}function J(c,S,L,Z){c.value.map((Ge,na)=>S.includes(Ge.name)?na:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{c.value.splice(Ge,1)});let nt={value:Z};L.forEach(Ge=>{c.value.indexOf(Ge)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package.length>0?c.value.splice(nt.value,0,Ge):c.value.splice(nt.value+1,0,Ge))})}se("goToPackageStep",{goToPackageStep:Ee});function Ee(c){n.commit("booking/setPackageId",c.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",Lt(0,c)),n.commit("booking/setMultipleAppointmentsIndex",0);let S=c.bookable.reduce((Te,nt)=>Te+nt.maximumScheduled,0),L=[],Z=[];u.value[0]!==re&&L.push("ExtrasStep"),u.value[0]!==te&&L.push("DateTimeStep"),u.value[0]!==Y&&L.push("CartStep"),S>0?Z=Z.concat([De,ee,ke]):Z.push(ke),J(u,L,Z,k.value),J(le,L,[],k.value),p(),Ve()}function we(){let S=n.state.entities.packages.find(Te=>Te.id===n.getters["booking/getPackageId"]).bookable.reduce((Te,nt)=>Te+nt.maximumScheduled,0),L=[],Z=[];u.value.find(Te=>Te.name==="ExtrasStep")&&L.push("ExtrasStep"),u.value.find(Te=>Te.name==="DateTimeStep")&&L.push("DateTimeStep"),S>0?Z=Z.concat([De,ee,ke]):Z.push(ke),J(u,L,Z,k.value),J(le,L,[],k.value),p(),Ve()}function qe(){n.commit("booking/setBookableType","appointment"),n.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),n.commit("booking/setPackageId",null),n.commit("booking/setMultipleAppointmentsIndex",0),mt(n);let c=[];u.value[0]!==te&&(Je(n)&&c.push(Y),c.push(te)),u.value[0]!==re&&F.value&&F.value.length&&c.push(re),J(u,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],c,k.value-1),J(le,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],k.value),p()}se("goToRecurringStep",{goToRecurringStep:Ie}),se("removeRecurringStep",{removeRecurringStep:H});function Ie(){Je(n)&&Xe();let c=0;for(let S=0;S<u.value.length;S++)if(u.value[S].name==="DateTimeStep"){c=S;break}u.value.splice(c+1,0,M),u.value.splice(c+2,0,ge),p(),Ve()}function H(){for(let c=u.value.length-1;c>=0;c--)(u.value[c].name==="RecurringStep"||u.value[c].name==="RecurringSummary")&&u.value.splice(c+1,1);Je(n)&&Le(k.value),p()}let F=y(()=>{let c=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return c?c.extras:[]});function $(){F.value.length&&!u.value.find(c=>c.name==="ExtrasStep")&&(u.value.splice(k.value+1,0,re),p()),le.value.find(c=>c.name==="ExtrasStep")&&!Object.keys(F.value).length&&(u.value.splice(1,1),le.value.splice(1,1)),f.showCart||mt(n)}se("initDataChanges",{changeInitStepDataService:$});const k=b(0);se("stepIndex",k);let vt=z("stepName",b(""));wt(k,(c,S)=>{c<le.value.length&&(le.value[S].selected=!1,le.value[c].selected=!0),c===le.value.length&&(le.value[S].selected=!1),vt.value=u.value[c].name});let ft=b(!1);se("goBackToPackageBooking",ft);function Dt(){ht(!1),$e.value||(u.value[k.value].name===ke.name&&qe(),u.value[k.value].name===M.name&&(u.value.splice(k.value,2),le.value.splice(k.value,2),Je(n)&&(u.value.splice(k.value,0,Y),J(le,[],[],k.value),p())),u.value[k.value].name===De.name&&(ft.value=!0),k.value=k.value-1),tt.value=!tt.value}function Ve(){$e.value||(le.value[k.value].finished=!0,k.value=k.value+1)}let Qe=y(()=>n.getters["entities/getReady"]),lt=y(()=>n.getters["booking/getLoading"]),je=y(()=>n.getters["booking/getBooked"]),et=y(()=>n.getters["booking/getPaymentGateway"]),ot=b(!1),gt=b(!1),tt=b(!1);function yt(){ot.value=!0}function Et(){ot.value=!1}function Tt(){tt.value=!0}function Bt(){tt.value=!1}function ht(c){gt.value=c}function zt(){je.value&&(je.value.customerCabinetUrl?window.location.href=je.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:zt});let $e=b(!1);se("changingStepsFunctions",{nextStep:Ve,previousStep:Dt,footerButtonClick:yt,footerButtonReset:Et,footerBtnDisabledUpdater:ht,headerButtonPreviousClick:Tt,headerButtonPreviousReset:Bt,footerBtnDisabled:gt,footerButtonClicked:ot,headerButtonPreviousClicked:tt,navigateInsideStep:$e});const le=b([]);se("sidebarSteps",le);function bt(c){le.value[k.value].stepSelectedData.filter(S=>S.reference===c.reference).length?le.value[k.value].stepSelectedData.forEach((S,L,Z)=>{S.reference===c.reference&&c.value&&c.value!==S.value&&(S.value=c.value),S.reference===c.reference&&!c.value&&Z.splice(L,1)}):c.value&&le.value[k.value].stepSelectedData.push(c),le.value[k.value].stepSelectedData.sort((S,L)=>S.position-L.position)}function E(){u.value.forEach((c,S)=>{if(c.name!=="CongratulationsStep"){let L=c.sidebarData.label,Z={name:c.name,key:c.key,label:j.value[L],labelKey:L,icon:c.sidebarData.icon,stepSelectedData:[],finished:!1,selected:S===k.value};le.value.splice(S,0,Z)}})}Ot(()=>{E(),T()}),Fe(()=>{switch(n.getters["booking/getBookableType"]){case"appointment":f.showCart||mt(n);break}if(f.showCart&&Yt(u,k),ne.value){u.value.splice(0,u.value.length),le.value.splice(0,le.value.length),k.value=0,ne.value.steps.forEach(S=>{switch(S){case"packageStep":u.value.push(D);break;case"bringingAnyone":u.value.push(W);break;case"initStep":u.value.push(K);break;case"packageInfoStep":u.value.push(ke);break;case"packageAppointmentsStep":u.value.push(ee);break;case"packageAppointmentsListStep":u.value.push(De);break;case"extrasStep":u.value.push(re);break;case"dateTimeStep":u.value.push(te);break;case"recurringStep":u.value.push(M);break;case"recurringSummary":u.value.push(ge);break;case"cartStep":u.value.push(Y);break;case"infoStep":u.value.push(Ce);break;case"paymentStep":u.value.push(Me);break;case"congratulations":u.value.push(ve);break}let L=ne.value.sidebar.find(Z=>Z.key===S);p(),typeof L<"u"&&L.data&&L.data.forEach(Z=>{bt({reference:Z.reference,position:Z.position,value:Z.value})}),k.value++}),n.commit("booking/setLoading",!1);let c=-1;ne.value.result==="success"?c=u.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(c=u.value.length-2);for(let S=0;S<=c;S++)u.value[S].finished=!0;for(let S=0;S<=c-1;S++)le.value[S].finished=!0,le.value[S].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(le.value[c].finished=!1,le.value[c].selected=!0),k.value=c}});function p(){u.value.forEach((c,S)=>{if(c.name!=="CongratulationsStep"&&!le.value.find(L=>L.labelKey===c.sidebarData.label)){let L=c.sidebarData.label,Z={name:c.name,key:c.key,label:j.value[L],labelKey:L,icon:c.sidebarData.icon,stepSelectedData:[],finished:!1,selected:S===k.value};le.value.splice(S,0,Z)}})}se("sidebarStepsFunctions",{sidebarDataCollector:bt}),se("addPaymentsStep",{addPaymentsStep:l}),se("removePaymentsStep",{removePaymentsStep:oe});function l(){u.value.splice(u.value.length-1,0,Me),p()}function oe(){let c=["PaymentStep"];J(u,c,[],k.value),J(le,c,[],k.value)}function Le(c){J(u,[],[Y],c),J(le,[],[],c)}function Xe(){J(u,["CartStep"],[],k.value),J(le,["CartStep"],[],k.value)}let Ze=y(()=>Ft(n).length?Sa(n)!==0:xa(n));Pa(()=>{let c=Ft(n);!c[0].serviceId&&Object.keys(c[0].services).length===0&&B("emptiedCart"),!ne.value&&!Ze.value?oe():ne.value||u.value.indexOf(Me)===-1&&l()},{flush:"post"});function He(){le.value.forEach(c=>{c.finished=!1,c.selected=!1}),u.value.forEach(c=>{c.finished=!1,c.selected=!1}),k.value=0,Kt(n,!0),za(n),mt(n),B("addToCart")}function fe(){let c=n.getters["booking/getCurrentCartItem"],S=n.getters["booking/getAllMultipleAppointments"];c?(n.commit("booking/setCartItem",c),n.commit("booking/setCartItemIndex",S.length-1),n.commit("booking/setCurrentCartItem",null)):(S.pop(),n.commit("booking/setCartItemIndex",S.length-1),n.commit("booking/setServiceId",S[S.length-1].serviceId),n.commit("booking/setEmployeeId",S[S.length-1].services[S[S.length-1].serviceId].providerId),n.commit("booking/setLocationId",S[S.length-1].services[S[S.length-1].serviceId].locationId)),Yt(u,k)}let be=y(()=>s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew.colors:ct.sbsNew.colors);se("amColors",be);let sa=y(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ie(be.value.colorMainText,.2),"--am-c-skeleton-op60":ie(be.value.colorMainText,.6),"--am-font-family":_.value.fontFamily,"--am-mw-main":X.value?O.value?"592px":"760px":"520px","--am-brad-main":X.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function la(){let c=document.head||document.getElementsByTagName("head")[0];c.querySelector("#amCustomFont")&&c.querySelector("#amCustomFont").remove();let S=`@font-face {font-family: '${_.value.fontFamily}'; src: url(${_.value.fontUrl});}`,L=document.createElement("style");c.appendChild(L),L.setAttribute("type","text/css"),L.setAttribute("id","amCustomFont"),L.appendChild(document.createTextNode(S))}_.value.customFontSelected&&la();let oa=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",oa),Fe(()=>{Xt("renderForm",{ameliaContainer:w,containerWidth:x,empty:I,amCustomize:m,amFonts:_,sidebarCollapsed:O,sidebarCollapseItemsClass:C,sidebarFooterRef:N,sidebarFooterHeight:V,sidebarVisibility:X})}),(c,S)=>(t(),i(Q,null,[_.value.customFontSelected?r("",!0):(t(),i(Q,{key:0},[wi,Si,a("link",{rel:"stylesheet",type:"text/css",href:`${e(_e).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,xi)],64)),e(I)?(t(),i("div",ji,[a("img",{src:e(_e).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(j).no_services_employees},null,8,Hi),a("h1",null,o(e(j).oops),1),a("h3",null,o(e(j).no_services_employees),1),a("p",null,o(e(j).add_services_employees),1),a("a",qi,o(e(j).add_services_url)+"\xA0 ",1),a("span",Gi,o(e(j).and)+"\xA0",1),a("a",Ji,o(e(j).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:w,class:R(["am-fs__wrapper",{"am-collapsed":e(O)}]),style:ce(e(sa))},[e(x)>560&&e(X)?(t(),he(Da,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(O)}]),style:ce({width:e(O)?"72px":"240px",paddingBottom:`${e(V)+16}px`})},{"step-list":A(()=>[a("div",Pi,[u.value[k.value]!==e(ve)||!e(s).general.addToCalendar||e(je)&&e(je).data.length===0?(t(!0),i(Q,{key:0},ye(le.value,L=>(t(),i("div",{key:L.key,class:"am-fs-sb__step"},[a("div",Ii,[a("div",Li,[a("span",{class:R(`am-icon-${L.icon}`)},null,2),L.key==="cartStep"&&e(Oe)(e(n))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e(C)])},o(e(Oe)(e(n))),3)):r("",!0)]),q(Ye,{name:"fade"},{default:A(()=>[e(O)?r("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e(C)])},o(L.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":L.selected},e(C)]])},[q(Ye,{name:"fade"},{default:A(()=>[L.finished?(t(),i("span",Di)):r("",!0)]),_:2},1024)],2)]),q(Ia,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":L.key===e(ee).key&&L.stepSelectedData.length>3}])},{default:A(()=>[e(O)?r("",!0):(t(!0),i(Q,{key:0},ye(L.stepSelectedData,(Z,Te)=>(t(),i("p",{key:Z.position,class:"am-fs-sb__step-selection"},[L.key!==e(ee).key||Te<3?(t(),i("span",Ei,o(Z.value),1)):(t(),i("span",Ti,o(e(j).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Bi,[q(Ye,{name:"fade"},{default:A(()=>[e(O)?r("",!0):(t(),he(La,{key:0}))]),_:1}),e(O)?(t(),i("div",zi,[a("div",Fi,[a("div",Ai,[a("span",{class:R(`am-icon-${u.value[k.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":u.value[k.value].sidebarData.selected},e(C)]])},[q(Ye,{name:"fade"},{default:A(()=>[u.value[k.value].sidebarData.finished?(t(),i("span",Ri)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":A(()=>[a("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(g).heading||e(g).phone||e(g).email)?(t(),i("div",Ni,[q(Ye,{name:"fade"},{default:A(()=>[!e(O)&&e(g).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e(C)])},o(e(j).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(g).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(s).company.phone}`,href:`tel:${e(s).company.phone}`},[e(O)?(t(),i("span",Vi)):(t(),i(Q,{key:0},[me(o(e(s).company.phone),1)],64))],8,Mi)):r("",!0),e(s).company.email&&e(g).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(s).company.email}`,href:`mailto:${e(s).company.email}`},[e(O)?(t(),i("span",Ui)):(t(),i(Q,{key:0},[me(o(e(s).company.email),1)],64))],8,Oi)):r("",!0)])):r("",!0),a("div",{class:R(["am-fs-sb__menu",e(C)]),onClick:S[0]||(S[0]=L=>de(O)?O.value=!e(O):O=!e(O))},[q(Ye,{name:"fade"},{default:A(()=>[e(O)?r("",!0):(t(),i("span",Wi,o(e(j).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(O)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),q(Ba,null,Ut({step:A(()=>[(t(),he(Zt(u.value[k.value]),{"global-class":"am-fs__main-content","show-cart":e(f).showCart&&u.value[k.value]===e(te)},null,8,["show-cart"]))]),footer:A(()=>[q(e(Ta),{"second-button-show":u.value[k.value]===e(ve)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(n))&&u.value[k.value]===e(Y),"back-to-cart-button-show":e(Je)(e(n))&&e(Ue).length>1&&u.value[k.value]!==e(Y)&&u.value[k.value]!==e(Ce)&&u.value[k.value]!==e(Me)&&u.value[k.value]!==e(ve),booked:e(je),loading:e(lt),ready:e(Qe),"payment-gateway":e(et),"customized-labels":e(Ae),"primary-footer-button-type":e(We),"secondary-footer-button-type":e(ae),"add-to-cart-button-type":e(Re),"back-to-cart-button-type":e(Pe),"back-to-cart-label":G("cancel","cartStep"),onAddToCart:He,onBackToCart:fe},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[u.value[k.value]!==e(ve)?{name:"header",fn:A(()=>[q(Ea,{"sidebar-visible":e(X),ready:e(Qe)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Qi={class:"am-fcil__filter-buttons"},Xi={class:"am-fcil__filter"},Zi=["aria-label"],Ki=["aria-label"],es=["aria-label"],ts={class:"am-fcil__filter-item__btn-wrapper"},as={role:"heading","aria-level":"2",class:"am-fcil__heading"},is={key:0,class:"am-fcil__item-badge__wrapper"},ss={class:"am-fcil__item-badge am-package"},ls=a("span",{class:"am-icon-shipment"},null,-1),os={class:"am-fcil__item-heading"},ns={class:"am-fcil__item-name"},cs={key:0,class:"am-fcil__item-cost"},rs={key:0,class:"am-fcil__item-discount"},us={class:"am-fcil__item-price"},ds={key:1,class:"am-fcil__item-price"},ms={class:"am-fcil__item-info"},ps={key:0,class:"am-fcil__item-info__inner"},_s=a("span",{class:"am-icon-folder"},null,-1),vs={key:1,class:"am-fcil__item-info__inner"},fs=a("span",{class:"am-icon-clock"},null,-1),gs={key:0},ys={key:1},hs={key:2},bs={key:2,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-user"},null,-1),Cs=a("span",null,"1/1",-1),$s=[ks,Cs],ws={key:3,class:"am-fcil__item-info__inner"},Ss=a("span",{class:"am-icon-locations"},null,-1),xs={key:2,class:"am-fcil__item-services"},Ps={key:0,class:"am-fcil__item-badge__wrapper"},Is={class:"am-fcil__item-badge am-service"},Ls=a("span",{class:"am-icon-service"},null,-1),Ds={class:"am-fcil__item-heading"},Es={class:"am-fcil__item-name"},Ts={key:0,class:"am-fcil__item-cost"},Bs={key:0,class:"am-fcil__item-price"},zs={key:1,class:"am-fcil__item-price"},Fs={class:"am-fcil__item-info"},As={key:0,class:"am-fcil__item-info__inner"},Rs=a("span",{class:"am-icon-folder"},null,-1),Ns={key:1,class:"am-fcil__item-info__inner"},Ms=a("span",{class:"am-icon-clock"},null,-1),Vs={key:2,class:"am-fcil__item-info__inner"},Os=a("span",{class:"am-icon-user"},null,-1),Us={key:3,class:"am-fcil__item-info__inner"},Ws=a("span",{class:"am-icon-locations"},null,-1),js={class:"am-fcil-employee__header"},Hs={class:"am-fcil-employee__heading"},qs={class:"am-fcil-employee__heading-left"},Gs={class:"am-fcil-employee__name"},Js={key:0,class:"am-fcil-employee__heading-right"},Ys={class:"am-fcil-employee__price"},Qs=["innerHTML"],Xs={key:1,ref:"ameliaContainer",class:"am-empty"},Zs=["src"],Ks={class:"am-empty__heading"},el={class:"am-empty__subheading"},tl={class:"am-empty__text"},al={key:0},il={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},sl={key:1},ll={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},ol={name:"CategoryItemsList",key:"categoryItemsList"},nl=Object.assign(ol,{setup(h){let B=z("licence"),{nextPage:f,previousPage:w}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const x=z("baseUrls");let I=b(!1),d=b(!1),s=b("760px");se("bookingDialogWidth",s);function m(){s.value="760px"}let g=b(!1),_=b(),O=z("containerWidth"),C=z("customizedDataForm"),v=y(()=>C.value.categoryItemsList.options),N=y(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0);const V=z("settings");let X=it();const _e=z("shortcodeData"),n=y(()=>X.getters["entities/getPreselected"]);let P=y(()=>{let E=Array.isArray(_e.value.category)?_e.value.category:_e.value.category.split(",");return E=E.filter(p=>p),E.length}),ne=y(()=>{let E=_.value&&_.value.catContainerWidth?_.value.catContainerWidth>768:!0;return P.value!==1&&v.value.sidebar.visibility&&E}),K=z("amEntities"),re=b("");function ke(E){re.value=E.toLowerCase()}let M=y(()=>re.value?K.value.employees.filter(E=>`${E.firstName} ${E.lastName}`.toLowerCase().includes(re.value)):K.value.employees),ge=b("");function te(E){ge.value=E.toLowerCase()}let ee=y(()=>ge.value?K.value.locations.filter(E=>E.name.toLowerCase().includes(ge.value)):K.value.locations),De=y(()=>Je(X)&&Oe(X)>0),ve=y(()=>Oe(X));const Y=z("labels"),Ce=z("localLanguage");let Me=y(()=>V.general.usedLanguages.includes(Ce.value)),D=y(()=>{let E=st({...Y});if(V.customizedData&&V.customizedData.cbf&&V.customizedData.cbf.categoryItemsList.translations){let p=V.customizedData.cbf.categoryItemsList.translations;Object.keys(p).forEach(l=>{p[l][Ce.value]&&Me.value?E[l]=p[l][Ce.value]:p[l].default&&(E[l]=p[l].default)})}return E}),W=b(""),u={components:{IconComponent:$t},template:'<IconComponent icon="search"/>'},ue=b(!0),Be={components:{IconComponent:$t},template:'<IconComponent icon="filter"/>'},pe=y(()=>_.value&&_.value.catHeaderWidth?_.value.catHeaderWidth:0);window.addEventListener("resize",Ue);function Ue(){xe(()=>{pe.value>480&&(ue.value=!0)})}Fe(()=>{Ue()});function j(E){let p=[];return W.value.toLowerCase().split(" ").forEach(l=>{p.push(E.toLowerCase().includes(l))}),p.filter(l=>l===!1).length<=0}let Ae=z("availableCategories"),We=y(()=>{let E=[...Ae.value],p=[];return E.forEach(l=>{p.push({id:l.id,name:l.name})}),p.unshift({id:0,name:D.value.filter_all}),p}),ae=z("categorySelected"),Re=y(()=>Ct(K.value,_e.value,U.value,T.value)),Pe=y(()=>{let E=[];return Re.value.find(p=>p.id===ae.value)?K.value.packages.forEach(p=>{Re.value.find(l=>l.id===ae.value).packageList.forEach(l=>{p.id===l&&(W.value?j(p.name):!0)&&E.push(p)})}):K.value.packages.forEach(p=>{Re.value.forEach(l=>{l.packageList.forEach(oe=>{p.id===oe&&!E.find(Le=>Le.id===oe)&&(W.value?j(p.name):!0)&&E.push(p)})})}),E}),G=y(()=>{let E=[];return ae.value&&Re.value.find(p=>p.id===ae.value)?K.value.services.forEach(p=>{Re.value.find(l=>l.id===ae.value).serviceIdList.forEach(l=>{p.id===l&&(W.value?j(p.name):!0)&&E.push(p)})}):K.value.services.forEach(p=>{Re.value.forEach(l=>{l.serviceIdList.forEach(oe=>{p.id===oe&&(W.value?j(p.name):!0)&&E.push(p)})})}),E}),U=b(null),T=b(null),J=b(!0),Ee=b(!0);function we(E){E==="all"&&(J.value=!0,Ee.value=!0),E==="packages"&&(J.value=!0,Ee.value=!1),E==="services"&&(J.value=!1,Ee.value=!0)}Ot(()=>{n.value.show&&we(n.value.show)});let qe=y(()=>{let E=_e.value.employee,p=K.value.employees.length,l=_e.value.location,oe=K.value.locations.length,Le=v.value.searchInput.visibility,Xe=v.value.filterEmployee.visibility&&E.length!==1&&p>1&&!B.isLite,Ze=v.value.filterLocation.visibility&&l.length!==1&&oe>1&&!B.isLite&&!B.isStarter,He=v.value.filterButtons.visibility&&n.value.show!=="packages"&&n.value.show!=="services"&&Pe.value.length!==0&&G.value.length!==0&&!Oe(X),fe={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return pe.value>992?!Le||!He?(fe.employee=!Le&&!He?"am-w50":"am-w35",fe.location=!Le&&!He?"am-w50":"am-w35",fe.search=!He&&!Ze&&!Xe?"am-w100":"am-w30",Xe||(fe.location=!Le&&!He?"am-w100":"am-w70"),Ze||(fe.employee=!Le&&!He?"am-w100":"am-w70")):(Xe||(fe.location="am-w40"),Ze||(fe.employee="am-w40"),!Xe&&!Ze&&(fe.search="am-w70")):pe.value>768||pe.value>480?(fe.search=He?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",fe.buttons=Le?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",fe.employee=Ze?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",fe.location=Xe?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",fe.category="am-w100 am-tablet am-order5"):(fe.employee="am-w100 am-mobile",fe.location="am-w100 am-mobile",fe.search="am-w100 am-mobile",fe.buttons="am-w100 am-mobile",fe.category="am-w100 am-mobile"),fe}),Ie=y(()=>_.value&&_.value.catContainerWidth?_.value.catContainerWidth:0),H=y(()=>{let E=Pe.value.length&&!Oe(X)?Pe.value.length:0,p=G.value.length>1?D.value.heading_services:D.value.heading_service,l=E?E>1?D.value.packages:D.value.package:"";if(!G.value.length&&!E)return D.value.no_search_data;if(Ee.value&&(!J.value||!E))return`${D.value.available} - ${G.value.length} ${p}`;if((!Ee.value||!G.value.length)&&J.value)return`${D.value.available} - ${E} ${l}`;let oe=E?"/":"";return`${D.value.available} - ${G.value.length} ${p} ${oe} ${E} ${l}`});Fe(()=>{xe(()=>{I.value=Pe.value.length===0&&G.value.length===0})});function F(E){const p=E.id===0?null:E.id;ae.value=p,X.commit("booking/setCategoryId",p)}let $=z("itemType");function k(E){X.commit("booking/setServiceId",parseInt(E)),X.commit("booking/setBookableType","appointment"),$.value="appointment",pt(X,{},"SelectService","appointment",null,null),xe(()=>{f()})}function vt(E){X.commit("booking/setServiceId",null),X.commit("booking/setPackageId",E.id),X.commit("booking/setBookableType","package"),X.commit("booking/setMultipleAppointments",Lt(0,E)),X.commit("booking/setCartItemIndex",0),$.value="package",pt(X,{},"SelectPackage","package",null,null),xe(()=>{f()})}function ft(){ae.value=null,X.commit("booking/setCategoryId",null),w()}function Dt(){Vt(X),g.value=!0,d.value=!0}let Ve=b(!1),Qe=b(""),lt=b([]),je=b({}),et=b(null);function ot(){Qe.value="",lt.value=[],je.value={},et.value=null}function gt(E){lt.value=ia(K.value,E,_e.value),je.value=E,Ve.value=!0}function tt(E){let p=[];Object.keys(K.value.entitiesRelations).forEach(oe=>{oe in K.value.entitiesRelations&&E in K.value.entitiesRelations[oe]&&K.value.employees.find(Le=>Le.id===parseInt(oe))&&p.push(K.value.employees.find(Le=>Le.id===parseInt(oe)))}),lt.value=p,Qe.value="service",Ve.value=!0,et.value=E}function yt(E){let p=K.value.services.find(oe=>oe.id===et.value).price,l=E.serviceList.find(oe=>oe.id===et.value).price;return l!==p?`${l-p>0?p>0?"+":"":"-"} ${Ke(l-p)}`:0}function Et(){Qe.value==="service"?k(et.value):vt(je.value),ot()}function Tt(E,p){let l="";return E>1?(p==="day"&&(l=D.value.expires_days),p==="week"&&(l=D.value.expires_weeks),p==="month"&&(l=D.value.expires_months)):(p==="day"&&(l=D.value.expires_day),p==="week"&&(l=D.value.expires_week),p==="month"&&(l=D.value.expires_month)),l}function Bt(E,p){let l=Mt(E,p);return l.length===1||l.length&&l.every(oe=>oe.id===l[0].id)?l[0].address?l[0].address:l[0].name:D.value.multiple_locations}function ht(E,p){let l=at(E,p);return l.length===1||l.length&&l.every(oe=>oe.id===l[0].id)?l[0].address?l[0].address:l[0].name:D.value.multiple_locations}let zt=z("amFonts",b({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=z("amColors"),le=y(()=>({"--am-c-fcil-text-op-10":ie($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&P.value!==1&&v.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":_.value&&_.value.catFormWidth<580?"100%":"50%"})),bt=y(()=>({"--am-f-fcil-employee-f":zt.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ie($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(E,p)=>e(I)?(t(),i("div",Xs,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,Zs),a("div",Ks,o(e(D).oops),1),a("div",el,o(e(n).show!=="packages"?e(D).no_services_employees:e(D).no_package_services),1),a("div",tl,[e(n).show!=="packages"?(t(),i("span",al,o(e(D).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",il,o(e(D).add_services_url)+"\xA0 ",1),e(n).show!=="packages"?(t(),i("span",sl,o(e(D).and)+"\xA0 ",1)):r("",!0),e(n).show!=="packages"?(t(),i("a",ll,o(e(D).add_employees_url),1)):r("",!0)])],512)):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:_,"wrapper-class":`am-fcil ${e(O)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(O)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(O)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:ce(e(le))},Ut({header:A(()=>[a("span",Qi,[e(P)!==1&&!e(_e).categories_hidden&&e(Ae).length!==1?(t(),he(jt,{key:0,"btn-size":e(pe)<481?"medium":"mini","btn-string":e(D).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(De),"cart-items-number":e(ve),onGoBack:ft,onGoToCart:Dt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(pe)<481?(t(),he(ze,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Be),onClick:p[0]||(p[0]=()=>de(ue)?ue.value=!e(ue):ue=!e(ue))},null,8,["type","icon"])):r("",!0)]),a("div",Xi,[e(v).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(D).filter_input,class:R(["am-fcil__filter-item",e(qe).search])},[q(Fa,{modelValue:e(W),"onUpdate:modelValue":p[1]||(p[1]=l=>de(W)?W.value=l:W=l),placeholder:e(D).filter_input,"prefix-icon":e(u)},null,8,["modelValue","placeholder","prefix-icon"])],10,Zi)):r("",!0),q(Ye,{name:"slide-fade"},{default:A(()=>[e(_e).employee.length!==1&&e(K).employees.length>1&&e(v).filterEmployee.visibility&&e(ue)&&!e(B).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(qe).employee]),role:"search","aria-label":e(D).filter_employee},[q(At,{modelValue:e(U),"onUpdate:modelValue":p[2]||(p[2]=l=>de(U)?U.value=l:U=l),clearable:"",filterable:"",placeholder:e(D).filter_employee,"aria-label":e(D).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:A(()=>[(t(!0),i(Q,null,ye(e(M),l=>(t(),he(Rt,{key:l.id,value:l.id,label:`${l.firstName} ${l.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,Ki)):r("",!0)]),_:1}),q(Ye,{name:"slide-fade"},{default:A(()=>[e(_e).location.length!==1&&e(K).locations.length>1&&e(v).filterLocation.visibility&&e(ue)&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(qe).location]),role:"search","aria-label":e(D).filter_location},[q(At,{modelValue:e(T),"onUpdate:modelValue":p[3]||(p[3]=l=>de(T)?T.value=l:T=l),clearable:"",filterable:"",placeholder:e(D).filter_location,"aria-label":e(D).filter_location,"fit-input-width":!0,"filter-method":te},{default:A(()=>[(t(!0),i(Q,null,ye(e(ee),l=>(t(),he(Rt,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,es)):r("",!0)]),_:1}),q(Ye,{name:"slide-fade"},{default:A(()=>[e(Ae).length!==1&&e(P)!==1&&e(v).sidebar.visibility&&!e(ne)&&e(ue)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(qe).category])},[q(At,{modelValue:e(ae),"onUpdate:modelValue":p[4]||(p[4]=l=>de(ae)?ae.value=l:ae=l),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(t(!0),i(Q,null,ye(e(We),l=>(t(),he(Rt,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(n).show&&e(v).filterButtons.visibility&&e(Pe).length!==0&&e(G).length!==0&&!e(Oe)(e(X))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:R(["am-fcil__filter-item",e(qe).buttons])},[a("div",ts,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&e(Ee)}]),onClick:p[5]||(p[5]=l=>we("all"))},[a("span",null,o(e(D).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&!e(Ee)}]),onClick:p[6]||(p[6]=l=>we("packages"))},[a("span",null,o(e(D).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(J)&&e(Ee)}]),onClick:p[7]||(p[7]=l=>we("services"))},[a("span",null,o(e(D).filter_services),1)],2)])],2)):r("",!0)])]),heading:A(()=>[a("div",as,o(e(H)),1)]),content:A(()=>[e(J)&&!e(Oe)(e(X))?(t(!0),i(Q,{key:0},ye(e(Pe),l=>(t(),i("div",{key:l.id,role:"group",class:R(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ie)(l.color,.1)}:{})},[e(v).packageBadge.visibility?(t(),i("div",is,[a("div",ss,[ls,a("span",null,o(e(D).package),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",os,[a("div",ns,o(l.name),1),e(v).packagePrice.visibility?(t(),i("div",cs,[l.discount?(t(),i("span",rs,o(`${e(D).save} ${l.discount}%`),1)):r("",!0),a("span",us,o(l.price?e(Ke)(e(Wt)(l)):e(D).free),1),l.price&&(e(v).tax?.visibility??!0)&&e(_t)(e(X),l.id,"package")?(t(),i("span",ds,[e(V).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(D).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(D).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",ms,[e(v).packageCategory.visibility&&e(ae)?(t(),i("div",ps,[_s,a("span",null,o(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):r("",!0),e(v).packageDuration.visibility?(t(),i("div",vs,[fs,l.endDate?(t(),i("span",gs,o(`${e(D).expires_at} ${l.endDate.split(" ")[0]}`),1)):l.durationCount?(t(),i("span",ys,o(`${e(D).expires_after} ${l.durationCount} ${Tt(l.durationCount,l.durationType)}`),1)):(t(),i("span",hs,o(e(D).without_expiration),1))])):r("",!0),e(v).packageCapacity.visibility?(t(),i("div",bs,$s)):r("",!0),e(Mt)(e(K),l,e(_e)).length&&e(v).packageLocation.visibility?(t(),i("div",ws,[Ss,a("span",null,o(Bt(e(K),l)),1)])):r("",!0)]),e(v).packageServices.visibility?(t(),i("div",xs,[a("span",null,o(`${e(D).in_package}:`),1),(t(!0),i(Q,null,ye(l.bookable,oe=>(t(),i("span",{key:oe.id},o(oe.service.name),1))),128))])):r("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(v).cardEmployeeBtn.visibility?(t(),he(ze,{key:0,class:R({"am-w100":e(Ie)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:oe=>gt(l)},{default:A(()=>[me(o(e(D).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),q(ze,{class:R([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:oe=>vt(l)},{default:A(()=>[me(o(e(D).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),e(Ee)?(t(!0),i(Q,{key:1},ye(e(G),l=>(t(),i("div",{key:l.id,class:R(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:ce(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ie)(l.color,.1)}:{})},[e(v).serviceBadge.visibility?(t(),i("div",Ps,[a("div",Is,[Ls,a("span",null,o(e(D).heading_service),1)])])):r("",!0),l.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${l.pictureFullPath})`})},null,4)):r("",!0),a("div",Ds,[a("div",Es,o(l.name),1),e(v).servicePrice.visibility?(t(),i("div",Ts,[e(ut)(e(K),l.id).min||e(ut)(e(K),l.id).max?(t(),i("span",Bs,o(e(ut)(e(K),l.id).price),1)):r("",!0),(e(v).tax?.visibility??!0)&&e(_t)(e(X),l.id,"service")?(t(),i("span",zs,[e(V).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(D).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(D).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Fs,[e(v).serviceCategory.visibility&&e(ae)?(t(),i("div",As,[Rs,a("span",null,o(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):r("",!0),e(v).serviceDuration.visibility?(t(),i("div",Ns,[Ms,a("span",null,o(e(aa)(l.duration)),1)])):r("",!0),e(v).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Vs,[Os,a("span",null,o(e(ta)(e(K),l.id)),1)])):r("",!0),e(at)(e(K),l.id).length&&e(v).serviceLocation.visibility?(t(),i("div",Us,[Ws,a("span",null,o(ht(e(K),l.id)),1)])):r("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(B).isLite?(t(),he(ze,{key:0,class:R({"am-w100":e(Ie)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:oe=>tt(l.id)},{default:A(()=>[me(o(e(D).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),q(ze,{class:R([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:oe=>k(l.id)},{default:A(()=>[me(o(e(D).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),q(dt,{modelValue:e(Ve),"onUpdate:modelValue":p[9]||(p[9]=l=>de(Ve)?Ve.value=l:Ve=l),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(bt),width:"648px",onClose:ot},{title:A(()=>[a("div",js,o(e(D).employee_info),1)]),default:A(()=>[a("div",null,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,ye(e(lt),(l,oe)=>(t(),he(xt,{key:oe,side:""},{heading:A(()=>[a("div",Hs,[a("div",qs,[q(rt,{"item-class":"am-fcil-employee__img","item-data":l,"trim-string":2},null,8,["item-data"]),a("div",Gs,[me(o(`${l.firstName} ${l.lastName}`)+" ",1),l.badge?(t(),i("span",{key:0,style:ce({background:l.badge.color}),class:"am-fcil-employee__badge"},o(l.badge.content),5)):r("",!0)])]),e(Qe)==="service"&&yt(l)!==0?(t(),i("div",Js,[a("div",Ys,o(yt(l)),1)])):r("",!0)])]),default:A(()=>[e(Ne)(l.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":l.description.includes("<!-- Content -->")}]),innerHTML:l.description},null,10,Qs)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(v).dialogEmployeeBtn.visibility?(t(),he(ze,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:p[8]||(p[8]=l=>Et())},{default:A(()=>[me(o(e(Qe)==="service"?e(D).book_service:e(D).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),q(dt,{modelValue:e(d),"onUpdate:modelValue":p[10]||(p[10]=l=>de(d)?d.value=l:d=l),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:m},{default:A(()=>[q(qt,{"show-cart":e(g)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(P)!==1&&e(v).sidebar.visibility&&e(ne)?{name:"side",fn:A(()=>[q(Ka,{"menu-items":e(We),"init-selection":e(ae),identifier:"id","name-identifier":"name","footer-string":e(D).get_in_touch,"company-email":e(V).company.email,onClick:F},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const cl={class:"am-fcis__header-text"},rl={class:"am-fcis__header-name",role:"heading","aria-level":"1"},ul={key:0,class:"am-fcis__badge am-service"},dl=a("span",{class:"am-icon-service"},null,-1),ml={class:"am-fcis__header-action"},pl={key:0,class:"am-fcis__header-price"},_l={key:1,class:"am-fcis__header-tax"},vl={class:"am-fcis__header-btn"},fl={key:0,class:"am-fcis__header-bottom"},gl={class:"am-fcis__mini-info"},yl={key:0,class:"am-fcis__mini-info__inner"},hl=a("span",{class:"am-icon-folder"},null,-1),bl={key:1,class:"am-fcis__mini-info__inner"},kl=a("span",{class:"am-icon-clock"},null,-1),Cl={key:2,class:"am-fcis__mini-info__inner"},$l=a("span",{class:"am-icon-user"},null,-1),wl={key:3,class:"am-fcis__mini-info__inner"},Sl=a("span",{class:"am-icon-locations"},null,-1),xl={key:0,class:"am-fcis__gallery"},Pl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Il={class:"am-gd__display-wrapper"},Ll={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Dl=["src","alt"],El={class:"am-gd__selection"},Tl={class:"am-gd__thumb-wrapper"},Bl=["onClick"],zl={key:1,class:"am-fcis__info"},Fl={class:"am-fcis__info-tab__wrapper"},Al={class:"am-fcis__info-content__wrapper"},Rl={key:0,class:"am-fcis__info-content"},Nl=["innerHTML"],Ml={key:1,class:"am-fcis__info-content"},Vl={class:"am-fcis__info-employee__hero"},Ol={class:"am-fcis__info-employee__heading"},Ul={class:"am-fcis__info-employee__name"},Wl={key:0,class:"am-fcis__info-employee__price"},jl=["innerHTML"],Hl={key:2,class:"am-fcis__include-wrapper"},ql={class:"am-fcis__include-heading"},Gl={class:"am-fcis__include-heading__text"},Jl=["onClick"],Yl={class:"am-fcis__include-hero"},Ql={key:0,class:"am-fcis__include-cost"},Xl={key:0,class:"am-fcis__include-discount"},Zl={class:"am-fcis__include-price"},Kl={key:1,class:"am-fcis__include-price"},eo={class:"am-fcis__include-info"},to={key:0,class:"am-fcis__include-info__inner"},ao=a("span",{class:"am-icon-folder"},null,-1),io={key:1,class:"am-fcis__include-info__inner"},so=a("span",{class:"am-icon-clock"},null,-1),lo={key:0},oo={key:1},no={key:2},co={key:2,class:"am-fcis__include-info__inner"},ro=a("span",{class:"am-icon-user"},null,-1),uo=a("span",null,"1/1",-1),mo=[ro,uo],po={key:3,class:"am-fcis__include-info__inner"},_o=a("span",{class:"am-icon-locations"},null,-1),vo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},fo={key:1,ref:"ameliaContainer",class:"am-empty"},go=["src","alt"],yo={class:"am-empty__heading"},ho={class:"am-empty__subheading"},bo={class:"am-empty__text"},ko={key:0},Co={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},$o={key:1},wo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},So={name:"CategoryService"},xo=Object.assign(So,{setup(h){let B=z("licence"),{previousPage:f}=z("changingPageFunctions",{previousPage:()=>{}}),w=y(()=>N.getters["entities/getReady"]);const x=z("baseUrls");let I=b(),d=z("containerWidth");const s=z("settings");let m=z("amFonts");const g=z("labels"),_=z("localLanguage");let O=y(()=>s.general.usedLanguages.includes(_.value)),C=y(()=>{let H=st({...g});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let F=s.customizedData.cbf.categoryService.translations;Object.keys(F).forEach($=>{F[$][_.value]&&O.value?H[$]=F[$][_.value]:F[$].default&&(H[$]=F[$].default)})}return H}),v=b(0),N=it(),V=z("amEntities"),X=y(()=>Je(N)&&Oe(N)>0),_e=y(()=>Oe(N)),n=z("customizedDataForm"),P=y(()=>n.value.categoryService.options),ne=y(()=>"pageScroll"in P.value?P.value.pageScroll.visibility:!0),K=z("itemType"),re=z("categorySelected"),ke=y(()=>V.value.categories.find(H=>H.id===re.value)),M=y(()=>{let H=V.value.services.find(F=>F.id===N.getters["booking/getServiceId"]);return H||{}});function ge(H,F){let $=at(H,F);return $.length===1||$.length&&$.every(k=>k.id===$[0].id)?$[0].address?$[0].address:$[0].name:C.value.multiple_locations}let te=b("description"),ee=y(()=>{let H=[];return Object.keys(V.value.entitiesRelations).forEach($=>{V.value.entitiesRelations[$][M.value.id]&&V.value.employees.find(k=>k.id===parseInt($))&&H.push(V.value.employees.find(k=>k.id===parseInt($)))}),H});function De(H){let F=H.serviceList.find($=>$.id===M.value.id).price;return F-M.value.price!==0?`${F-M.value.price>0?M.value.price>0?"+":"":"-"} ${Ke(F-M.value.price)}`:""}Fe(()=>{P.value.serviceDescription.visibility||(te.value="employees"),Ne(M.value.description)||(te.value="employees")});let ve=y(()=>{let H=M.value.gallery.length?JSON.parse(JSON.stringify(M.value.gallery)):[];return M.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),Y=y(()=>{let H=[];return V.value.packages.forEach(F=>{F.bookable.filter($=>$.service.id===M.value.id).length&&!H.filter($=>$.id===F.id).length&&F.available&&F.status==="visible"&&H.push(F)}),H}),Ce=b(!1),Me=y(()=>{let H=[...Y.value];return Ce.value?H:H.slice(0,2)}),D=y(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function W(){K.value="",xe(()=>{f()})}let u=b(!1);function ue(){N.commit("booking/setShownCart",!1),Vt(N),u.value=!0,pe.value=!0}function Be(){pe.value=!1,N.getters["entities/getPreselected"].service.length>1&&W()}let pe=b(!1),Ue=b("760px");se("bookingDialogWidth",Ue);function j(){let H=N.getters["entities/getPreselected"];ee.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),H.employee=[parseInt(ee.value[0].id)],N.commit("entities/setPreselected",H)),u.value=!1,pe.value=!1,Aa(N),Kt(N,!1),mt(N);let F=at(V.value,M.value.id);F.length===1&&(N.commit("booking/setLocationId",parseInt(F[0].id)),H.location=[parseInt(F[0].id)],N.commit("entities/setPreselected",H)),N.commit("booking/setBookableType","appointment"),pe.value=!0}z("restoreFormData").value&&j();function We(H){N.commit("booking/setPackageId",H.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",Lt(0,H)),N.commit("booking/setMultipleAppointmentsIndex",0),ee.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),at(V.value,M.value.id).length===1&&N.commit("booking/setLocationId",parseInt(at(V.value,M.value.id)[0].id)),xe(()=>{pe.value=!0})}const ae=y(()=>N.getters["entities/getPreselected"]);let Re=b(V.value.services.length!==1&&ae.value.service.length!==1),Pe=b("");se("stepName",Pe);function G(){let H=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),F=H.settings?JSON.parse(H.settings):s;"general"in F&&"redirectUrlAfterAppointment"in F.general&&F.general.redirectUrlAfterAppointment?window.location.href=F.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function U(){if(Pe.value&&Pe.value==="CongratulationsStep")G();else{if(Pe.value&&Pe.value==="DateTimeStep"){let H=Ra(N);H&&console.log(H)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}Ue.value="760px"}let T=b(!1);function J(H,F){let $="";return H>1?(F==="day"&&($=C.value.expires_days),F==="week"&&($=C.value.expires_weeks),F==="month"&&($=C.value.expires_months)):(F==="day"&&($=C.value.expires_day),F==="week"&&($=C.value.expires_week),F==="month"&&($=C.value.expires_month)),$}let Ee=y(()=>Object.keys(M.value).length===0||ee.value.length===0),we=z("amColors"),qe=y(()=>({"--am-c-fcis-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(we.value.colorBtnSec,.5)})),Ie=y(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":ie(we.value.colorPrimary,.3),"--am-c-scroll-op10":ie(we.value.colorPrimary,.1),"--am-font-family":m.fontFamily}));return(H,F)=>e(w)?(t(),i(Q,{key:0},[e(Ee)?r("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:I,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:ce(e(qe))},{header:A(()=>[q(jt,{"btn-string":e(C).back_btn,"btn-type":e(P).backBtn.buttonType,"back-btn-visibility":e(Re),"cart-btn-visibility":e(X),"cart-items-number":e(_e),role:"navigation","aria-label":"Navigation Controls",onGoBack:W,onGoToCart:ue},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",cl,[a("span",rl,o(e(M).name),1),e(P).serviceBadge.visibility?(t(),i("div",ul,[dl,a("span",null,o(e(C).heading_service),1)])):r("",!0)]),a("div",ml,[e(P).servicePrice.visibility?(t(),i("span",pl,o(e(ut)(e(V),e(M).id).min||e(ut)(e(V),e(M).id).max?e(ut)(e(V),e(M).id).price:e(C).free),1)):r("",!0),(e(P).tax?.visibility??!0)&&e(_t)(e(N),e(M).id,"service")?(t(),i("span",_l,[e(s).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(C).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(C).incl_tax),1)],64))])):r("",!0),a("span",vl,[q(ze,{type:e(P).bookingBtn.buttonType,onClick:j},{default:A(()=>[me(o(e(C).book_now),1)]),_:1},8,["type"])])])],2),e(P).serviceCategory.visibility||e(P).serviceDuration.visibility||e(P).serviceCapacity.visibility||e(P).serviceLocation.visibility?(t(),i("div",fl,[a("div",gl,[e(P).serviceCategory.visibility&&e(ke)?(t(),i("div",yl,[hl,a("span",null,o(e(ke).name),1)])):r("",!0),e(P).serviceDuration.visibility?(t(),i("div",bl,[kl,a("span",null,o(e(aa)(e(M).duration)),1)])):r("",!0),e(P).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Cl,[$l,a("span",null,o(e(ta)(e(V),e(M).id)),1)])):r("",!0),e(at)(e(V),e(M).id).length&&e(P).serviceLocation.visibility&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",wl,[Sl,a("span",null,o(ge(e(V),e(M).id)),1)])):r("",!0)])])):r("",!0)]),content:A(()=>[e(M).gallery.length?(t(),i("div",xl,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(M).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:ce({backgroundImage:`url(${e(M).gallery[0].pictureFullPath})`})},null,6),e(ve).length&&e(d)>677?(t(),i("div",Pl,[(t(!0),i(Q,null,ye(e(ve),($,k)=>(t(),i("div",{key:k,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(ve).length===1}]),style:ce({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):r("",!0),q(ze,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:F[0]||(F[0]=()=>de(T)?T.value=!0:T=!0)},{default:A(()=>[me(o(e(C).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),q(dt,{modelValue:e(T),"onUpdate:modelValue":F[4]||(F[4]=$=>de(T)?T.value=$:T=$),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:ce(e(Ie))},[a("div",Il,[a("div",Ll,[a("span",{class:"am-icon-arrow-left",onClick:F[1]||(F[1]=()=>de(v)?v.value=e(v)<=0?e(M).gallery.length-1:e(v)-1:v=e(v)<=0?e(M).gallery.length-1:e(v)-1)}),a("span",{class:"am-icon-arrow-right",onClick:F[2]||(F[2]=()=>de(v)?v.value=e(M).gallery.length-1===e(v)?0:e(v)+1:v=e(M).gallery.length-1===e(v)?0:e(v)+1)})]),(t(!0),i(Q,null,ye(e(M).gallery,($,k)=>(t(),i("div",{key:k,class:"am-gd__display",style:ce({display:k===e(v)?"flex":"none"}),onClick:F[3]||(F[3]=()=>de(v)?v.value=e(M).gallery.length-1===e(v)?0:e(v)+1:v=e(M).gallery.length-1===e(v)?0:e(v)+1)},[a("img",{src:$.pictureFullPath,alt:k},null,8,Dl)],4))),128))]),a("div",El,o(`${e(v)+1}/${e(M).gallery.length}`),1),a("div",Tl,[(t(!0),i(Q,null,ye(e(M).gallery,($,k)=>(t(),i("div",{key:k,class:R(["am-gd__thumb",{"am-active":k===e(v)}]),style:ce({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>de(v)?v.value=k:v=k},null,14,Bl))),128))])],4)]),_:1},8,["modelValue"]),e(P).serviceDescription.visibility&&e(Ne)(e(M).description)||e(P).serviceEmployees.visibility?(t(),i("div",zl,[a("div",Fl,[e(Ne)(e(M).description)&&e(P).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(te)==="description"}]),onClick:F[5]||(F[5]=()=>de(te)?te.value="description":te="description")},o(e(C).about_service),3)):r("",!0),e(P).serviceEmployees.visibility&&!e(B).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(te)==="employees"},"am-fcis__info-tab"]),onClick:F[6]||(F[6]=()=>de(te)?te.value="employees":te="employees")},o(e(C).tab_employees),3)):r("",!0)]),a("div",Al,[e(Ne)(e(M).description)&&e(P).serviceDescription.visibility?Pt((t(),i("div",Rl,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(M).description.includes("<!-- Content -->")}]),innerHTML:e(M).description},null,10,Nl)],512)),[[It,e(te)==="description"]]):r("",!0),e(P).serviceEmployees.visibility?Pt((t(),i("div",Ml,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,ye(e(ee),$=>(t(),he(xt,{key:$.id,side:""},{heading:A(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Vl,[q(rt,{"item-class":"am-fcis__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),a("div",Ol,[a("div",Ul,[me(o($.firstName)+" "+o($.lastName)+" ",1),$.badge?(t(),i("span",{key:0,style:ce({background:$.badge.color}),class:"am-fcis__info-employee__badge"},o($.badge.content),5)):r("",!0)]),De($)&&e(P).serviceEmployeePrice.visibility?(t(),i("div",Wl,o(De($)),1)):r("",!0)])])],2)]),default:A(()=>[e(Ne)($.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,jl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[It,e(te)==="employees"]]):r("",!0)])])):r("",!0),e(Y).length&&e(ae).show!=="services"&&e(P).servicePackages.visibility&&!e(Oe)(e(N))?(t(),i("div",Hl,[a("div",ql,[a("span",Gl,o(e(C).service_available_in_package),1),e(Y).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:F[7]||(F[7]=()=>de(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(Q,{key:1},[me(o(e(C).less_packages),1)],64)):(t(),i(Q,{key:0},[me(o(e(C).more_packages),1)],64))])):r("",!0)]),(t(!0),i(Q,null,ye(e(Me),$=>(t(),i("div",{key:$.id,class:"am-fcis__include",onClick:k=>We($)},[a("div",Yl,[e(d)>450?(t(),he(rt,{key:0,"item-class":"am-fcis__include-img","item-data":$,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},o($.name),3),e(P).packagePrice.visibility?(t(),i("div",Ql,[$.discount?(t(),i("span",Xl,o(`${e(C).save} ${$.discount}%`),1)):r("",!0),a("span",Zl,o($.price?e(Ke)(e(Wt)($)):e(C).free),1),(e(P).tax?.visibility??!0)&&e(_t)(e(N),$.id,"package")?(t(),i("span",Kl,[e(s).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(C).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(C).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",eo,[e(P).packageCategory.visibility&&e(ke)?(t(),i("div",to,[ao,a("span",null,o(e(ke).name),1)])):r("",!0),e(P).packageDuration.visibility?(t(),i("div",io,[so,$.endDate?(t(),i("span",lo,o(`${e(C).expires_at} ${$.endDate.split(" ")[0]}`),1)):$.durationCount?(t(),i("span",oo,o(`${e(C).expires_after} ${$.durationCount} ${J($.durationCount,$.durationType)}`),1)):(t(),i("span",no,o(e(C).without_expiration),1))])):r("",!0),e(P).packageCapacity.visibility?(t(),i("div",co,mo)):r("",!0),e(P).packageLocation.visibility&&e(D).length?(t(),i("div",po,[_o,a("span",null,o(e(D).length===1?e(D)[0].address?e(D)[0].address:e(D)[0].name:e(C).multiple_locations),1)])):r("",!0),e(P).packageServices.visibility?(t(),i("div",vo,[a("span",null,o(`${e(C).in_package}:`),1),(t(!0),i(Q,null,ye($.bookable,k=>(t(),i("span",{key:k.id},o(k.service.name),1))),128))])):r("",!0)])],2)])],8,Jl))),128))])):r("",!0),q(dt,{modelValue:e(pe),"onUpdate:modelValue":F[9]||(F[9]=$=>de(pe)?pe.value=$:pe=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ue),onClosed:U},{default:A(()=>[q(qt,{"show-cart":e(u),onAddToCart:Be,onEmptiedCart:F[8]||(F[8]=$=>de(pe)?pe.value=!1:pe=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ee)?(t(),i("div",fo,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(ae).show!=="packages"?e(C).no_services_employees:e(C).no_package_services},null,8,go),a("div",yo,o(e(C).oops),1),a("div",ho,o(e(ae).show!=="packages"?e(C).no_services_employees:e(C).no_package_services),1),a("div",bo,[e(ae).show!=="packages"?(t(),i("span",ko,o(e(C).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Co,o(e(C).add_services_url)+"\xA0 ",1),e(ae).show!=="packages"?(t(),i("span",$o,o(e(C).and)+"\xA0 ",1)):r("",!0),e(ae).show!=="packages"?(t(),i("a",wo,o(e(C).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Po={class:"am-fcip__header-text"},Io={class:"am-fcip__header-name",role:"heading","aria-level":"1"},Lo={key:0,class:"am-fcip__badge am-package"},Do=a("span",{class:"am-icon-shipment"},null,-1),Eo={class:"am-fcip__header-action"},To={key:0,class:"am-fcip__header-discount"},Bo={key:1,class:"am-fcip__header-price"},zo={key:2,class:"am-fcip__header-tax"},Fo={class:"am-fcip__header-btn"},Ao={key:0,class:"am-fcip__header-bottom"},Ro={class:"am-fcip__mini-info"},No={key:0,class:"am-fcip__mini-info__inner"},Mo=a("span",{class:"am-icon-folder"},null,-1),Vo={key:1,class:"am-fcip__mini-info__inner"},Oo=a("span",{class:"am-icon-clock"},null,-1),Uo={key:0},Wo={key:1},jo={key:2},Ho={key:2,class:"am-fcip__mini-info__inner"},qo=a("span",{class:"am-icon-user"},null,-1),Go=a("span",null,"1/1",-1),Jo=[qo,Go],Yo={key:3,class:"am-fcip__mini-info__inner"},Qo=a("span",{class:"am-icon-locations"},null,-1),Xo={key:0,class:"am-fcip__gallery"},Zo={key:0,class:"am-fcip__gallery-thumb__wrapper"},Ko=a("span",{class:"am-icon-gallery"},null,-1),en={class:"am-gd__display-wrapper"},tn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},an=["src","alt"],sn={class:"am-gd__selection"},ln={class:"am-gd__thumb-wrapper"},on=["onClick"],nn={key:1,class:"am-fcip__info"},cn={class:"am-fcip__info-tab__wrapper"},rn={class:"am-fcip__info-content__wrapper"},un={key:0,class:"am-fcip__info-content"},dn=["innerHTML"],mn={key:1,class:"am-fcip__info-content"},pn={class:"am-fcip__info-employee"},_n={class:"am-fcip__info-employee__hero"},vn={class:"am-fcip__info-employee__name"},fn=["innerHTML"],gn={key:2,class:"am-fcip__include-wrapper"},yn={class:"am-fcip__include-heading"},hn={class:"am-fcip__include-heading__text"},bn={class:"am-fcip__include-service"},kn={class:"am-fcip__include-service__info"},Cn={key:0},$n=["innerHTML"],wn={class:"am-fcip__include-footer"},Sn={class:"am-fcip__include-footer__text"},xn={key:1,ref:"ameliaContainer",class:"am-empty"},Pn=["src","alt"],In={class:"am-empty__heading"},Ln={class:"am-empty__subheading"},Dn={class:"am-empty__text"},En={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Tn={name:"CategoryPackage"},Bn=Object.assign(Tn,{setup(h){let{previousPage:B}=z("changingPageFunctions",{previousPage:()=>{}}),f=b(),w=z("containerWidth");const x=z("settings"),I=z("baseUrls");let d=it();const s=z("shortcodeData"),m=y(()=>d.getters["entities/getPreselected"]);let g=b(m.value.package.length!==1),_=z("amEntities"),O=z("customizedDataForm"),C=y(()=>O.value.categoryPackage.options),v=y(()=>"pageScroll"in C.value?C.value.pageScroll.visibility:!0),N=z("itemType"),V=z("categorySelected"),X=y(()=>_.value.categories.find(G=>G.id===V.value)),_e=b(m.value.package.length!==1&&C.value.packageCategory.visibility&&X),n=y(()=>_.value.packages.find(G=>G.id===d.getters["booking/getPackageId"])),P=b(0),ne=b("description"),K=y(()=>ia(_.value,n.value,s.value)),re=y(()=>Mt(_.value,n.value,s.value)),ke=b(m.value.employee.length>0?_.value.unfilteredEmployees.filter(G=>m.value.employee.map(U=>parseInt(U)).includes(G.id)):_.value.unfilteredEmployees);function M(G){let U=[];return G.providers.length?G.providers.forEach(T=>{ke.value.find(J=>J.id===parseInt(T.id))&&U.push(ke.value.find(J=>J.id===parseInt(T.id)))}):U=ke.value.filter(T=>T.serviceList.find(J=>J.id===G.service.id)),U}Fe(()=>{C.value.packageDescription.visibility||(ne.value="employees"),Ne(n.value.description)||(ne.value="employees")});let ge=b(!1);Ot(()=>{ge.value=d.getters["entities/getEmployees"].length===0||K.value.length===0});let te=b(!1),ee=y(()=>{let G=n.value.gallery.length?JSON.parse(JSON.stringify(n.value.gallery)):[];return n.value.gallery.length===1?[]:(G.shift(),G.length>2&&G.splice(2,G.length-2),G)});function De(){N.value="",xe(()=>{B()})}let ve=b(!1),Y=b("760px");se("bookingDialogWidth",Y);function Ce(){d.commit("booking/setPackageId",n.value.id),d.commit("booking/setMultipleAppointments",Lt(0,n.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),xe(()=>{ve.value=!0})}z("restoreFormData").value&&Ce();let D=b("");se("stepName",D);function W(){let G=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),U=G.settings?JSON.parse(G.settings):x;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:x.general.redirectUrlAfterAppointment?window.location.href=x.general.redirectUrlAfterAppointment:window.location.reload()}function u(){D.value&&D.value==="CongratulationsStep"?W():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),Y.value="760px"}let ue=z("amFonts");const Be=z("labels"),pe=z("localLanguage");let Ue=y(()=>x.general.usedLanguages.includes(pe.value)),j=y(()=>{let G=st({...Be});if(x.customizedData&&x.customizedData.cbf&&x.customizedData.cbf.categoryPackage.translations){let U=x.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(T=>{U[T][pe.value]&&Ue.value?G[T]=U[T][pe.value]:U[T].default&&(G[T]=U[T].default)})}return G});function Ae(G){return G.length===1||G.length&&G.every(U=>U.id===G[0].id)?G[0].address?G[0].address:G[0].name:j.value.multiple_locations}function We(G,U){let T="";return G>1?(U==="day"&&(T=j.value.expires_days),U==="week"&&(T=j.value.expires_weeks),U==="month"&&(T=j.value.expires_months)):(U==="day"&&(T=j.value.expires_day),U==="week"&&(T=j.value.expires_week),U==="month"&&(T=j.value.expires_month)),T}let ae=z("amColors"),Re=y(()=>({"--am-c-fcip-success-op20":ie(ae.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ae.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ae.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ae.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ae.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ae.value.colorBtnSec,.5)})),Pe=y(()=>({"--am-c-fcip-bgr":ae.value.colorMainBgr,"--am-c-fcip-text":ae.value.colorMainText,"--am-c-fcip-success":ae.value.colorSuccess,"--am-c-fcip-primary":ae.value.colorPrimary,"--am-c-scroll-op30":ie(ae.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ae.value.colorPrimary,.1),"--am-font-family":ue.fontFamily}));return(G,U)=>(t(),i(Q,null,[e(ge)?r("",!0):(t(),he(Ht,{key:0,ref_key:"contentRef",ref:f,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(v)?"":"no-scroll"}`,style:ce(e(Re))},Ut({heading:A(()=>[a("div",{class:R([[{"am-tablet":e(w)<=678},{"am-mobile":e(w)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",Po,[a("span",Io,[a("span",null,o(e(n).name),1)]),e(C).packageBadge.visibility?(t(),i("div",Lo,[Do,a("span",null,o(e(j).package),1)])):r("",!0)]),a("div",Eo,[e(n).discount&&e(C).packagePrice.visibility?(t(),i("span",To,o(`${e(j).save} ${e(n).discount}%`),1)):r("",!0),e(C).packagePrice.visibility?(t(),i("span",Bo,o(e(n).price?e(Ke)(e(Wt)(e(n))):e(j).free),1)):r("",!0),e(n).price&&(e(C).tax?.visibility??!0)&&e(_t)(e(d),e(n).id,"package")?(t(),i("span",zo,[e(x).payments.taxes.excluded?(t(),i(Q,{key:0},[me(o(`+${e(j).total_tax_colon}`),1)],64)):(t(),i(Q,{key:1},[me(o(e(j).incl_tax),1)],64))])):r("",!0),a("span",Fo,[q(ze,{type:e(C).bookingBtn.buttonType,onClick:Ce},{default:A(()=>[me(o(e(j).book_now),1)]),_:1},8,["type"])])])],2),e(C).packageCategory.visibility&&e(m).package.length!==1||e(C).packageDuration.visibility||e(C).packageCapacity.visibility||e(C).packageLocation.visibility&&e(re).length?(t(),i("div",Ao,[a("div",Ro,[e(_e)?(t(),i("div",No,[Mo,a("span",null,o(e(X).name),1)])):r("",!0),e(C).packageDuration.visibility?(t(),i("div",Vo,[Oo,e(n).endDate?(t(),i("span",Uo,o(`${e(j).expires_at} ${e(n).endDate.split(" ")[0]}`),1)):e(n).durationCount?(t(),i("span",Wo,o(`${e(j).expires_after} ${e(n).durationCount} ${We(e(n).durationCount,e(n).durationType)}`),1)):(t(),i("span",jo,o(e(j).without_expiration),1))])):r("",!0),e(C).packageCapacity.visibility?(t(),i("div",Ho,Jo)):r("",!0),e(re).length&&e(C).packageLocation.visibility?(t(),i("div",Yo,[Qo,a("span",null,o(Ae(e(re))),1)])):r("",!0)])])):r("",!0)]),content:A(()=>[e(n).gallery.length?(t(),i("div",Xo,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(n).gallery.length===1},{"am-mobile w100":e(w)<678}]]),style:ce({backgroundImage:`url(${e(n).gallery[0].pictureFullPath})`})},null,6),e(ee).length&&e(w)>677?(t(),i("div",Zo,[(t(!0),i(Q,null,ye(e(ee),(T,J)=>(t(),i("div",{key:J,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(ee).length===1}]),style:ce({backgroundImage:`url(${T.pictureFullPath})`})},null,6))),128))])):r("",!0),q(ze,{"custom-class":`am-fcip__gallery-btn${e(w)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>de(te)?te.value=!0:te=!0)},{default:A(()=>[Ko,a("span",null,o(e(j).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),q(dt,{modelValue:e(te),"onUpdate:modelValue":U[4]||(U[4]=T=>de(te)?te.value=T:te=T),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:ce(e(Pe))},[a("div",en,[a("div",tn,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>de(P)?P.value=e(P)<=0?e(n).gallery.length-1:e(P)-1:P=e(P)<=0?e(n).gallery.length-1:e(P)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>de(P)?P.value=e(n).gallery.length-1===e(P)?0:e(P)+1:P=e(n).gallery.length-1===e(P)?0:e(P)+1)})]),(t(!0),i(Q,null,ye(e(n).gallery,(T,J)=>(t(),i("div",{key:J,class:"am-gd__display",style:ce({display:J===e(P)?"flex":"none"}),onClick:U[3]||(U[3]=()=>de(P)?P.value=e(n).gallery.length-1===e(P)?0:e(P)+1:P=e(n).gallery.length-1===e(P)?0:e(P)+1)},[a("img",{src:T.pictureFullPath,alt:J},null,8,an)],4))),128))]),a("div",sn,o(`${e(P)+1}/${e(n).gallery.length}`),1),a("div",ln,[(t(!0),i(Q,null,ye(e(n).gallery,(T,J)=>(t(),i("div",{key:J,class:R(["am-gd__thumb",{"am-active":J===e(P)}]),style:ce({backgroundImage:`url(${T.pictureFullPath})`}),onClick:()=>de(P)?P.value=J:P=J},null,14,on))),128))])],4)]),_:1},8,["modelValue"]),e(C).packageDescription.visibility&&e(Ne)(e(n).description)||e(C).packageEmployees.visibility?(t(),i("div",nn,[a("div",cn,[e(Ne)(e(n).description)&&e(C).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(ne)==="description"}]),onClick:U[5]||(U[5]=()=>de(ne)?ne.value="description":ne="description")},o(e(j).about_package),3)):r("",!0),e(C).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(ne)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>de(ne)?ne.value="employees":ne="employees")},o(e(j).tab_employees),3)):r("",!0)]),a("div",rn,[e(Ne)(e(n).description)&&e(C).packageDescription.visibility?Pt((t(),i("div",un,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(n).description.includes("<!-- Content -->")}]),innerHTML:e(n).description},null,10,dn)],512)),[[It,e(ne)==="description"]]):r("",!0),e(C).packageEmployees.visibility?Pt((t(),i("div",mn,[q(St,null,{default:A(()=>[(t(!0),i(Q,null,ye(e(K),T=>(t(),he(xt,{key:T.id,side:""},{heading:A(()=>[a("div",pn,[a("div",_n,[q(rt,{"item-class":"am-fcip__info-employee__img","item-data":T,"trim-string":3},null,8,["item-data"]),a("div",vn,[me(o(T.firstName)+" "+o(T.lastName)+" ",1),T.badge?(t(),i("span",{key:0,style:ce({background:T.badge.color}),class:"am-fcip__info-employee__badge"},o(T.badge.content),5)):r("",!0)])])])]),default:A(()=>[e(Ne)(T.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":T.description.includes("<!-- Content -->")}]),innerHTML:T.description},null,10,fn)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[It,e(ne)==="employees"]]):r("",!0)])])):r("",!0),e(C).packageServices.visibility?(t(),i("div",gn,[a("div",yn,[a("span",hn,o(`${e(j).package_includes}:`),1)]),q(St,null,{default:A(()=>[(t(!0),i(Q,null,ye(e(n).bookable,T=>(t(),he(xt,{key:T.id,side:!0},{heading:A(()=>[a("div",bn,[q(rt,{"item-class":"am-fcip__include-service__img","item-data":T.service},null,8,["item-data"]),me(" "+o(T.service.name+(e(n).sharedCapacity?"":" x"+T.quantity)),1)])]),default:A(()=>[a("div",kn,[a("span",null,o(`${e(j).tab_employees}:`),1),(t(!0),i(Q,null,ye(M(T).slice(0,6),J=>(t(),he(rt,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),M(T).length>6?(t(),i("span",Cn," + "+o(M(T).length-6),1)):r("",!0),e(Ne)(T.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":T.service.description.includes("<!-- Content -->")}]),innerHTML:T.service.description},null,10,$n)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",wn,[a("span",Sn,o(e(j).package_book_service),1)])])):r("",!0),q(dt,{modelValue:e(ve),"onUpdate:modelValue":U[7]||(U[7]=T=>de(ve)?ve.value=T:ve=T),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Y),onClosed:u},{default:A(()=>[q(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(g)?{name:"header",fn:A(()=>[q(jt,{"btn-string":e(j).back_btn,"btn-type":e(C).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:De},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ge)?(t(),i("div",xn,[a("img",{src:e(I).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(j).no_package_services},null,8,Pn),a("div",In,o(e(j).oops),1),a("div",Ln,o(e(j).no_package_services),1),a("div",Dn,[a("a",En,o(e(j).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const zn={name:"CatalogSkeleton"},Fn=Object.assign(zn,{setup(h){let B=b(null),f=b(0);window.addEventListener("resize",w);function w(){B.value&&(f.value=B.value.offsetWidth)}Fe(()=>{B.value&&(f.value=B.value.offsetWidth)});let x=y(()=>f.value<=500?"am-w100":f.value<=600?"am-w50":f.value<=768?"am-w33":"");return(I,d)=>{const s=Ma,m=Na;return t(),i("div",{ref_key:"amSkeletonContainer",ref:B,class:"am-skeleton-catalog__wrapper"},[q(m,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(t(!0),i(Q,null,ye(new Array(8),g=>(t(),i("div",{key:g,class:R(["am-skeleton-catalog__item",e(x)])},[q(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const An=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Rn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Nn=["href"],Mn={name:"CatalogFormWrapper"},Vn=Object.assign(Mn,{setup(h){let B=z("licence"),f=b(null),w=b(20);const x=z("baseUrls");let I=b(0);se("containerWidth",I),window.addEventListener("resize",d);function d(){f.value&&(I.value=f.value.offsetWidth)}Fe(()=>{_.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+g.value.counter).classList.add("amelia-v2-booking-"+g.value.counter+"-loaded"),pt(_,{},"ViewContent","appointment",null,null),d(),Xt("scrollForm",{offsetFromTop:w})});let s=b(!1);const m=z("settings"),g=z("shortcodeData"),_=it();_.commit("entities/setPreselected",g.value),_.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:B,loadEntities:g.value.hasApiCall||g.value.in_dialog,showHidden:!1,isPanel:!1});const O=Se($i),C=Se(nl),v=Se(xo),N=Se(Bn);let V=b([O,C]),X=b(0),_e=b(null);se("categorySelected",_e);let n=b([]);se("availableCategories",n);let P=b("");se("itemType",P),wt(P,()=>{P.value==="appointment"&&V.value.push(v),P.value==="package"&&V.value.push(N),P.value===""&&V.value.forEach((W,u)=>{W.name==="CategoryService"&&ne(V.value,u),W.name==="CategoryPackage"&&ne(V.value,u)})});function ne(W,u){W.splice(u,1)}function K(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function re(){if(X.value=X.value+1,K())setTimeout(()=>{let W=f.value.getBoundingClientRect().top+window.pageYOffset-w.value;window.scrollTo({top:W,behavior:"smooth"})},500);else{let W=f.value.getBoundingClientRect().top+window.pageYOffset-w.value;window.scrollTo({top:W,behavior:"smooth"})}}function ke(){X.value=X.value-1}se("changingPageFunctions",{nextPage:re,previousPage:ke});let M=y(()=>_.getters["entities/getReady"]),ge=y(()=>_.state.entities);se("amEntities",ge);function te(){let W=_.getters["entities/getPreselected"];if(W.category.length!==1&&(g.value.categories_hidden&&(n.value=JSON.parse(JSON.stringify(Ct(ge.value,g.value))),xe(()=>{let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)})),g.value.categories_hidden||(n.value=JSON.parse(JSON.stringify(Ct(ge.value,g.value))),xe(()=>{if(n.value.length===1){_.commit("booking/setCategoryId",parseInt(n.value[0].id)),_e.value=parseInt(n.value[0].id);let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)}}))),W.category.length===1&&(_.commit("booking/setCategoryId",parseInt(W.category)),_e.value=parseInt(W.category[0]),n.value=JSON.parse(JSON.stringify(Ct(ge.value,g.value).filter(u=>u.id===parseInt(W.category[0])))),xe(()=>{let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)})),W.service.length===1){_.commit("booking/setServiceId",parseInt(W.service[0]));let u=_.getters["entities/getService"](parseInt(W.service[0]));_e.value=u?parseInt(u.categoryId):null,_.commit("booking/setCategoryId",u?parseInt(u.categoryId):null),xe(()=>{V.value=[],V.value.push(v)})}W.employee.length===1&&_.commit("booking/setEmployeeId",parseInt(W.employee[0])),W.location.length===1&&_.commit("booking/setLocationId",parseInt(W.location[0])),W.package.length===1&&_.getters["entities/getPackages"].length&&(V.value=[],_.commit("booking/setPackageId",parseInt(W.package[0])),xe(()=>{V.value.push(N)})),W.show==="packages"?_.commit("booking/setBookableType","package"):_.commit("booking/setBookableType","appointment")}let ee=y(()=>M.value?Oa(_,g.value):null);se("restoreFormData",ee),wt(M,W=>{W&&(te(),s.value=_.getters["entities/getServices"].length===0||_.getters["entities/getEmployees"].length===0,ee.value&&(P.value=_.state.booking.appointment.type,xe(()=>{X.value=V.value.length-1,_e.value=_.state.booking.appointment.categoryId})))});let De=y(()=>m.customizedData&&"cbf"in m.customizedData?m.customizedData.cbf:ct.cbf);se("customizedDataForm",De);const ve=b(m.customizedData?m.customizedData.fonts:ct.fonts);se("amFonts",ve);let Y=y(()=>m.customizedData&&"cbf"in m.customizedData?m.customizedData.cbf.colors:ct.cbf.colors);se("amColors",Y);let Ce=y(()=>({"--am-c-primary":Y.value.colorPrimary,"--am-c-success":Y.value.colorSuccess,"--am-c-error":Y.value.colorError,"--am-c-warning":Y.value.colorWarning,"--am-c-main-bgr":Y.value.colorMainBgr,"--am-c-main-heading-text":Y.value.colorMainHeadingText,"--am-c-main-text":Y.value.colorMainText,"--am-c-sb-bgr":Y.value.colorSbBgr,"--am-c-sb-text":Y.value.colorSbText,"--am-c-inp-bgr":Y.value.colorInpBgr,"--am-c-inp-border":Y.value.colorInpBorder,"--am-c-inp-text":Y.value.colorInpText,"--am-c-inp-placeholder":Y.value.colorInpPlaceHolder,"--am-c-drop-bgr":Y.value.colorDropBgr,"--am-c-drop-text":Y.value.colorDropText,"--am-c-card-bgr":Y.value.colorCardBgr,"--am-c-card-text":Y.value.colorCardText,"--am-c-card-border":Y.value.colorCardBorder,"--am-c-btn-prim":Y.value.colorBtnPrim,"--am-c-btn-prim-text":Y.value.colorBtnPrimText,"--am-c-btn-sec":Y.value.colorBtnSec,"--am-c-btn-sec-text":Y.value.colorBtnSecText,"--am-c-skeleton-op20":ie(Y.value.colorMainText,.2),"--am-c-skeleton-op60":ie(Y.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Me(){let W=document.head||document.getElementsByTagName("head")[0];W.querySelector("#amCustomFont")&&W.querySelector("#amCustomFont").remove();let u=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,ue=document.createElement("style");W.appendChild(ue),ue.setAttribute("type","text/css"),ue.setAttribute("id","amCustomFont"),ue.appendChild(document.createTextNode(u))}ve.value.customFontSelected&&Me();let D=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",D),(W,u)=>(t(),i(Q,null,[ve.value.customFontSelected?r("",!0):(t(),i(Q,{key:0},[An,Rn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(x).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Nn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:f,class:"am-fc__wrapper",style:ce(e(Ce))},[e(M)&&e(V).length?(t(),he(Zt(e(V)[e(X)]),{key:0})):(t(),he(Fn,{key:1}))],4),q(e(Va))],64))}});var Un=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"}));export{Un as C,Ka as _,jt as a,rt as b,Ht as c,Vn as d};
