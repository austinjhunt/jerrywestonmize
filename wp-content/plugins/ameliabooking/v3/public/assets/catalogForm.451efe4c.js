var va=Object.defineProperty;var Yt=Object.getOwnPropertySymbols;var fa=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var Qt=(f,w,m)=>w in f?va(f,w,{enumerable:!0,configurable:!0,writable:!0,value:m}):f[w]=m,tt=(f,w)=>{for(var m in w||(w={}))fa.call(w,m)&&Qt(f,m,w[m]);if(Yt)for(var m of Yt(w))ga.call(w,m)&&Qt(f,m,w[m]);return f};import{o as t,c as i,n as R,d as kt,u as at,a,b as e,e as he,w as N,f as pe,t as l,_ as Ae,g as u,h as G,i as Mt,j as F,k as h,l as ae,F as Z,r as ge,m as re,p as x,q as Te,s as Re,v as bt,x as Xt,y as it,z as Ke,I as ya,A as gt,B as se,C as ot,D as Ct,E as Ie,G as ha,H as ba,J as ka,K as Ca,L as $a,M as wa,N as Sa,O as xa,P as Ia,Q as Pa,R as Da,S as Ea,T as La,U as Ta,V as Ye,W as Ft,X as Ba,Y as Pt,Z as Nt,$ as ft,a0 as Zt,a1 as Fa,a2 as za,a3 as ea,a4 as He,a5 as Qe,a6 as Aa,a7 as Ra,a8 as me,a9 as Ma,aa as Ot,ab as Na,ac as ta,ad as Oa,ae as Va,af as aa,ag as Ua,ah as Wa,ai as zt,aj as $t,ak as ut,al as At,am as Vt,an as yt,ao as wt,ap as Ne,aq as St,ar as xt,as as ja,at as Ha,au as qa,av as Ga,aw as Ja,ax as Ya}from"./stepForm.d988e24e.js";const Qa={name:"IconComponent"},It=Object.assign(Qa,{props:{icon:{type:String,required:!0}},setup(f){return(w,m)=>(t(),i("span",{class:R(`am-icon-${f.icon}`)},null,2))}});const Xa={class:"am-cat__header-inner"},Za={class:"am-cat__back-btn"},Ka={key:0,class:"am-cat__cart-btn"},ei={class:"am-cat__cart-number"},ti={name:"MainHeader"},Ut=Object.assign(ti,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(f,{emit:w}){const m=f;let y=kt({components:{IconComponent:It},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=kt({components:{IconComponent:It},template:'<IconComponent icon="cart"/>'});function T(){w("goBack")}const d=at();function s(){Mt(d),w("goToCart")}return(p,b)=>(t(),i("div",Xa,[a("div",Za,[e(m).backBtnVisibility?(t(),he(Ae,{key:0,prefix:e(y),category:"secondary",type:f.btnType,size:f.btnSize,onClick:T},{default:N(()=>[pe(l(e(m).btnString),1)]),_:1},8,["prefix","type","size"])):u("",!0)]),e(m).cartBtnVisibility?(t(),i("div",Ka,[a("span",ei,l(e(m).cartItemsNumber),1),G(Ae,{category:"secondary",type:f.btnType,size:f.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):u("",!0)]))}});const ai={class:"am-cat__sidemenu-item__wrapper"},ii=["onClick"],si={key:0,class:"am-cat__sidemenu-footer"},li={class:"am-cat__sidemenu-footer__text"},ni=["href"],oi={name:"SideMenu"},ci=Object.assign(oi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(f,{emit:w}){const m=f;function y(d){w("click",d)}let C=F("amColors"),T=h(()=>({"--am-c-csm-text-op10":ae(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(C.value.colorSbText,.6),"--am-c-csm-text-op80":ae(C.value.colorSbText,.8)}));return(d,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(T))},[a("div",ai,[(t(!0),i(Z,null,ge(f.menuItems,(p,b)=>(t(),i("div",{key:b,class:R(["am-cat__sidemenu-item",{"am-active":e(m).initSelection===p[e(m).identifier]}]),onClick:()=>y(p)},l(p[e(m).nameIdentifier]),11,ii))),128))]),e(m).companyEmail?(t(),i("div",si,[a("span",li,l(e(m).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(m).companyEmail}`},l(e(m).companyEmail),9,ni)])):u("",!0)],4))}});const ri={name:"MainContent"},Wt=Object.assign(ri,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(f,{expose:w}){let m=x(null),y=x(0),C=x(null),T=x(0),d=x(null),s=x(0),p=x(null),b=x(null),D=x(0);window.addEventListener("resize",k);function k(){Te(()=>{m.value&&(y.value=m.value.offsetWidth),C.value&&(T.value=C.value.offsetWidth),d.value&&(s.value=d.value.offsetWidth)})}Re(()=>{Te(()=>{if(d.value&&p.value){let V=d.value.offsetHeight-p.value.offsetHeight-2;D.value=V<=656?656:V}k()})}),w({catHeaderWidth:y,catFormWidth:s,catContainerWidth:T});let S=F("amColors"),_=h(()=>({"--am-h-cat-content":`${D.value}px`,"--am-c-scroll-op30":ae(S.value.colorPrimary,.3),"--am-c-scroll-op10":ae(S.value.colorPrimary,.1)}));return(V,ie)=>(t(),i("div",{class:R(["am-cat__wrapper",f.wrapperClass])},[a("div",{ref_key:"catHeader",ref:m,class:"am-cat__header"},[bt(V.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[bt(V.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",f.formClass]),style:re(e(_))},[a("div",{ref_key:"catHeading",ref:p,class:R(["am-cat__heading",f.headingClass])},[bt(V.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:R(["am-cat__content",f.contentClass])},[bt(V.$slots,"content")],2)],6)],512)],2))}}),ui={name:"AmImagePlaceholder"},ct=Object.assign(ui,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(f){const w=f;function m(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function y(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,w.trimString).replace(/[^\w\s]/g,"")}return(C,T)=>(t(),i("span",{class:R(e(w).itemClass),style:re(tt({},m(e(w).itemData)))},l(y(e(w).itemData)),7))}}),Rt=it(window.wpAmeliaSettings),Kt=it(window.wpAmeliaLabels);function ht(f,w,m,y=null,C=null){let T=[],d=f&&f.service?f.service.split(",").map(s=>parseInt(s)):null;return w&&w.serviceList.forEach(s=>{y?y in m.entitiesRelations&&s.id in m.entitiesRelations[y]&&(C?m.entitiesRelations[y][s.id].find(p=>p===C):!0)&&s.status==="visible"&&s.show&&!T.filter(p=>p===s.id).length&&(!d||d.includes(s.id))&&T.push(s.id):m.employees.forEach(p=>{p.id in m.entitiesRelations&&s.id in m.entitiesRelations[p.id]&&(C?m.entitiesRelations[p.id][s.id].find(b=>b===C):!0)&&s.status==="visible"&&s.show&&!T.filter(b=>b===s.id).length&&(!d||d.includes(s.id))&&T.push(s.id)})}),T}function ia(f,w){let m=[],y=[];f.employees.forEach(d=>{if(d.id in f.entitiesRelations&&w in f.entitiesRelations[d.id]){let s=d.serviceList.find(p=>p.id===w);m.push(s.maxCapacity),y.push(s.minCapacity)}});let C=y.reduce((d,s)=>s<d?s:d,y[0]),T=m.reduce((d,s)=>s>d?s:d,m[0]);return C!==T?`${C}/${T}`:C}function sa(f){let w=Math.floor(f/3600),m=f/60%60;return(w?w+Kt.h+" ":"")+" "+(m?m+Kt.min:"")}function rt(f,w){let m=[];f.employees.forEach(T=>{if(T.id in f.entitiesRelations&&w in f.entitiesRelations[T.id]){let d=T.serviceList.find(s=>s.id===w);m.push(d.price)}});let y=m.reduce((T,d)=>d<T?d:T,m[0]),C=m.reduce((T,d)=>d>T?d:T,m[0]);return y!==C?{price:`${Ke(y,!Rt.payments.hideCurrencySymbolFrontend)} - ${Ke(C,!Rt.payments.hideCurrencySymbolFrontend)}`,min:y,max:C}:{price:Ke(y,Rt.payments.hideCurrencySymbolFrontend),min:y,max:C}}function ze(f,w){let m=[];return f.employees.forEach(y=>{y.id in f.entitiesRelations&&w in f.entitiesRelations[y.id]&&f.entitiesRelations[y.id][w].length&&f.locations.forEach(C=>{f.entitiesRelations[y.id][w].some(T=>T===C.id)&&!m.find(T=>T===C.id)&&m.push(C)})}),m}function jt(f,w){let m=[],y=Object.keys(f.entitiesRelations);return w.bookable.forEach(C=>{let T=[];y.forEach(d=>{f.entitiesRelations[d][C.service.id]&&!T.find(s=>s?s.id===parseInt(d):!0)&&T.push(f.employees.find(s=>s.id===parseInt(d)))}),T.length||m.push(!1)}),m.filter(C=>C===!1).length}function Ht(f,w,m){let y=[],C=Object.keys(f.entitiesRelations),T=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,d=x(T?f.unfilteredEmployees.filter(s=>T.map(p=>parseInt(p)).includes(s.id)):f.unfilteredEmployees);return w.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(D=>{d.value.find(k=>k.id===b.id)&&f.entitiesRelations[b.id][s.service.id]&&f.entitiesRelations[b.id][s.service.id].indexOf(D.id)!==-1&&!p.find(k=>k.id===b.id)&&p.push(d.value.find(k=>k.id===b.id))}):d.value.find(D=>D.id===b.id)&&!p.find(D=>D.id===b.id)&&p.push(d.value.find(D=>D.id===b.id))}):C.forEach(b=>{s.locations.length?s.locations.forEach(D=>{f.entitiesRelations[b][s.service.id]&&f.entitiesRelations[b][s.service.id].indexOf(D.id)!==-1&&d.value.find(k=>k.id===parseInt(b))&&!p.find(k=>k.id===parseInt(b))&&p.push(d.value.find(k=>k.id===parseInt(b)))}):f.entitiesRelations[b][s.service.id]&&d.value.find(D=>D.id===parseInt(b))&&!p.find(D=>D.id===parseInt(b))&&p.push(d.value.find(D=>D.id===parseInt(b)))}),y.push(!!p.length)}),!y.filter(s=>s===!1).length}function la(f,w,m){let y=[],C=Object.keys(f.entitiesRelations),T=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,d=x(T?f.unfilteredEmployees.filter(s=>T.map(p=>parseInt(p)).includes(s.id)):f.unfilteredEmployees);return w.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(b=>{d.value.find(D=>D.id===p.id)&&f.entitiesRelations[p.id][s.service.id].indexOf(b.id)!==-1&&!y.find(D=>D.id===p.id)&&y.push(d.value.find(D=>D.id===p.id))}):d.value.find(b=>b.id===p.id)&&!y.find(b=>b.id===p.id)&&y.push(d.value.find(b=>b.id===p.id))}):C.forEach(p=>{s.locations.length?s.locations.forEach(b=>{f.entitiesRelations[p][s.service.id]&&f.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&d.value.find(D=>D.id===parseInt(p))&&!y.find(D=>D.id===parseInt(p))&&y.push(d.value.find(D=>D.id===parseInt(p)))}):f.entitiesRelations[p][s.service.id]&&d.value.find(b=>b.id===parseInt(p))&&!y.find(b=>b.id===parseInt(p))&&y.push(d.value.find(b=>b.id===parseInt(p)))})}),y}function nt(f,w,m){let y=[],C=Object.keys(f.entitiesRelations),T=m&&m.location?m.location.split(",").map(s=>parseInt(s)):null,d=x(T?f.unfilteredLocations.filter(s=>T.map(p=>parseInt(p)).includes(s.id)):f.unfilteredLocations);return w.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{d.value.find(b=>b.id===p.id)&&!y.find(b=>b.id===p.id)&&y.push(d.value.find(b=>b.id===p.id))}):C.forEach(p=>{d.value.forEach(b=>{p in f.entitiesRelations&&s.service.id in f.entitiesRelations[p]&&f.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&d.value.find(D=>D.id===b.id)&&!y.find(D=>D.id===parseInt(b.id))&&y.push(d.value.find(D=>D.id===b.id))})})}),y}function di(f,w){let m=[];return f.categories.forEach(y=>{let C=ht(w,y,f);y.packageList=[],f.packages.forEach(T=>{C.forEach(d=>{T.bookable.filter(s=>s.service.id===d).length&&!y.packageList.filter(s=>s===T.id).length&&T.available&&T.status==="visible"&&!jt(f,T)&&Ht(f,T,w)&&y.packageList.push(T.id)})}),y.status==="visible"&&y.serviceList.length&&!!C.length&&(w.show==="packages"?!!y.packageList.length:!0)&&m.push(y)}),m}const mi={class:"am-fcl__item-inner"},pi={class:"am-fcl__item-name"},_i={class:"am-fcl__item-segments"},vi={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={key:1,class:"am-fcl__item-segments__item"},hi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),bi={class:"am-fcl__item-segments__item-count"},ki={class:"am-fcl__item-footer"},Ci=["src"],$i={class:"am-empty__heading"},wi={class:"am-empty__subheading"},Si={class:"am-empty__text"},xi={key:0},Ii={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Pi={key:1},Di={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ei={name:"CategoriesList",key:"categoriesList"},Li=Object.assign(Ei,{setup(f){const w=F("baseUrls");let m=x(null),y=x(0);window.addEventListener("resize",C);function C(){m.value&&(y.value=m.value.offsetWidth)}Re(()=>{m.value&&(y.value=m.value.offsetWidth)});let T=h(()=>y.value<=500?"am-w100":y.value<=600?"am-w50":y.value<=768?"am-w33":""),{nextPage:d}=F("changingPageFunctions",{nextPage:()=>{}});const s=F("settings");let p=at(),b=F("amEntities"),D=F("customizedDataForm"),k=h(()=>D.value.categoriesList.options);const S=F("shortcodeData"),_=h(()=>p.getters["entities/getPreselected"]);let V=F("availableCategories"),ie=h(()=>{let ue=[];return b.value.categories.forEach(Y=>{let v=ht(S.value,Y,b.value);Y.packageList=[],b.value.packages.forEach(ce=>{v.forEach(Ce=>{ce.bookable.filter(le=>le.service.id===Ce).length&&!Y.packageList.filter(le=>le===ce.id).length&&ce.available&&ce.status==="visible"&&!jt(b.value,ce)&&Ht(b.value,ce,S.value)&&Y.packageList.push(ce.id)})}),Y.status==="visible"&&Y.serviceList.length&&!!v.length&&(_.value.show==="packages"?!!Y.packageList.length:!0)&&ue.push(Y)}),Te(()=>{V.value=JSON.parse(JSON.stringify(ue))}),ue}),P=F("categorySelected");function B(ue){P.value=ue,p.commit("booking/setCategoryId",parseInt(ue)),gt(p,{},"SelectCategory","appointment",null,null),d()}let o=h(()=>ie.value.length===0);const j=F("labels"),oe=F("localLanguage");let q=h(()=>s.general.usedLanguages.includes(oe.value)),fe=h(()=>{let ue=it(tt({},j));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let Y=s.customizedData.cbf.categoriesList.translations;Object.keys(Y).forEach(v=>{Y[v][oe.value]&&q.value?ue[v]=Y[v][oe.value]:Y[v].default&&(ue[v]=Y[v].default)})}return ue}),$e=F("amColors"),O=h(()=>({"--am-c-fcl-card-text-op80":ae($e.value.colorCardText,.8)}));return(ue,Y)=>e(o)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:m,class:"am-empty"},[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ci),a("div",$i,l(e(fe).oops),1),a("div",wi,l(e(_).show!=="packages"?e(fe).no_services_employees:e(fe).no_package_services),1),a("div",Si,[e(_).show!=="packages"?(t(),i("span",xi,l(e(fe).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",Ii,l(e(fe).add_services_url)+"\xA0 ",1),e(_).show!=="packages"?(t(),i("span",Pi,l(e(fe).and)+"\xA0 ",1)):u("",!0),e(_).show!=="packages"?(t(),i("a",Di,l(e(fe).add_employees_url),1)):u("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:m,class:"am-fcl",style:re(e(O))},[(t(!0),i(Z,null,ge(e(ie),v=>(t(),i("div",{key:v.id,class:R(["am-fcl__item",e(T)])},[a("div",mi,[a("div",{class:"am-fcl__item-content",style:re(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:v.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ae)(v.color,.1)}:{})},[v.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${v.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):u("",!0),a("div",pi,l(v.name),1),a("div",_i,[(!e(_).show||e(_).show==="services")&&e(k).services.visibility?(t(),i("div",vi,[fi,a("span",gi,l(e(ht)(e(S),v,e(b)).length),1)])):u("",!0),(!e(_).show||e(_).show==="packages")&&v.packageList.length&&e(k).packages.visibility?(t(),i("div",yi,[hi,a("span",bi,l(v.packageList.length),1)])):u("",!0)])],4),a("div",ki,[G(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(ya),onClick:ce=>B(v.id)},{default:N(()=>[pe(l(e(fe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ti=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Bi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fi=["href"],zi={class:"am-fs-sb__step-wrapper"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Ni={key:0},Oi={key:1},Vi={key:1},Ui={key:0,class:"am-fs-sb__step"},Wi={class:"am-fs-sb__step-inner"},ji={class:"am-fs-sb__step-icon"},Hi={key:0,class:"am-icon-check"},qi={key:0,class:"am-fs-sb__support"},Gi=["href"],Ji={key:1,class:"am-icon-phone"},Yi=["href"],Qi={key:1,class:"am-icon-email"},Xi={key:0,class:"am-fs-sb__menu-text"},Zi={key:2,class:"am-no-services"},Ki=["src"],es={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ts={style:{"font-size":"14px"}},as={href:"https://wpamelia.com/employees/",rel:"nofollow"},is={name:"CategoryBooking"},qt=Object.assign(is,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(f,{emit:w}){const m=f;let y=x(null),C=x();se("containerWidth",C);let T=x(!1);window.addEventListener("resize",d);function d(){y.value&&(C.value=y.value.offsetWidth)}Re(()=>{Te(()=>{y.value&&(C.value=y.value.offsetWidth)}),gt(o,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=F("settings"),p=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;p&&se("amCustomize",p);let b=h(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(n.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(n.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(n.email=p.sidebar.options.companyEmail.visibility),n});const D=x(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",D);let k=x(!1);se("sidebarCollapsed",k);let S=x(""),_=F("bookingDialogWidth");Ct(k,n=>{n?setTimeout(()=>{S.value="am-collapsed",setTimeout(()=>{_.value="592px"},200)},1e3):(S.value="",_.value="760px")}),Re(()=>{p.sidebar.options.self.visibility||(_.value="520px")});let V=x(null),ie=x(0);Re(()=>{setTimeout(()=>{Te(()=>{V.value&&setTimeout(()=>{V.value&&(ie.value=V.value.offsetHeight)},200)})},800)});let P=x(p.sidebar?p.sidebar.options.self.visibility:!0);const B=F("baseUrls"),o=at();let j=h(()=>{let n=o.getters["entities/getOriginalPreselected"],g={category:o.state.booking.appointment.categoryId?[o.state.booking.appointment.categoryId]:[],counter:o.state.entities.preselected.counter,employee:o.state.booking.appointment.providerId?[o.state.booking.appointment.providerId]:[],hasApiCall:o.state.entities.preselected.hasApiCall,location:o.state.booking.appointment.locationId?[o.state.booking.appointment.locationId]:[],service:o.state.booking.appointment.serviceId?[o.state.booking.appointment.serviceId]:[],package:o.state.booking.packageId?[o.state.booking.packageId]:[],show:o.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(I=>{I in g||(g[I]=n[I])}),g});o.commit("entities/setPreselected",j.value);let oe=F("restoreFormData");const q=Ie(ha),fe=Ie(ba),$e=Ie(ka),O=Ie(Ca),ue=Ie($a),Y=Ie(wa),v=Ie(Sa),ce=Ie(xa),Ce=Ie(Ia),le=Ie(Pa),Q=Ie(Da),Pe=Ie(Ea),Fe=Ie(La),Me=Ie(Ta),c=x(Ye(o)?[q,Y,le,Q,Ce]:[q,Y,Q,Ce]);se("stepsArray",c);const K=F("labels"),ye=F("localLanguage");let H=h(()=>s.general.usedLanguages.includes(ye.value)),De=Ft(o),ne=h(()=>{let n=it(tt({},K));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(g=>{if(g!=="colors"&&s.customizedData.sbsNew[g].translations){let I=s.customizedData.sbsNew[g].translations;Object.keys(I).forEach(J=>{I[J][ye.value]&&H.value?n[J]=I[J][ye.value]:I[J].default&&(n[J]=I[J].default)})}}),n});se("amLabels",ne);let qe=h(()=>{let n={};if(s.customizedData){let g=s.customizedData.sbsNew[c.value[A.value].key]?s.customizedData.sbsNew[c.value[A.value].key].translations:null;s.customizedData&&g&&Object.keys(g).forEach(I=>{g[I][ye.value]&&H.value?n[I]=g[I][ye.value]:g[I].default&&(n[I]=g[I].default)})}return Object.keys(n).length?n:K}),Ee=h(()=>{let n="filled";return s.customizedData&&s.customizedData.sbsNew[c.value[A.value].key]&&(n=s.customizedData.sbsNew[c.value[A.value].key].options.primaryFooterButton.buttonType),n});se("primFooterBtnType",Ee),se("primDescBtnType",Ee);let X=h(()=>{let n="text";return s.customizedData&&s.customizedData.sbsNew[c.value[A.value].key]&&s.customizedData.sbsNew[c.value[A.value].key].options.secondaryFooterButton&&(n=s.customizedData.sbsNew[c.value[A.value].key].options.secondaryFooterButton.buttonType),n}),U=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),z=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function te(n,g){let I="";if(s.customizedData){let J=s.customizedData.sbsNew[g]?s.customizedData.sbsNew[g].translations:null;s.customizedData&&J&&J[n]&&(I===""&&J[n][ye.value]&&H.value?I=J[n][ye.value]:I===""&&J[n].default&&(I=J[n].default))}return I||K[n]}let Oe=h(()=>Ba(o.getters["entities/getEmployeeServices"](o.getters["booking/getSelection"])));function dt(){let n=o.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(c.value.splice(0,1),ee.value.splice(0,1),st()),We();else{de();let g=o.getters["entities/filteredEmployees"](o.getters["booking/getSelection"]).length<=1,I=!p.initStep.options.employee.visibility,J=o.getters["entities/filteredLocations"](o.getters["booking/getSelection"]).length<=1,Le=!p.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||g||I)&&(n.location.length>0||J||Le)&&(Oe.value.availability?(c.value.splice(0,1,Me),ee.value.splice(0,1)):(c.value.splice(0,1),ee.value.splice(0,1)),We())}}function we(n,g,I,J){n.value.map((Ge,Ze)=>g.includes(Ge.name)?Ze:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{n.value.splice(Ge,1)});let Je={value:J};I.forEach(Ge=>{n.value.indexOf(Ge)===-1&&(o.getters["entities/getPreselected"].show==="packages"&&o.getters["entities/getPreselected"].package.length>0?n.value.splice(Je.value,0,Ge):n.value.splice(Je.value+1,0,Ge))})}se("goToPackageStep",{goToPackageStep:Be});function Be(n){o.commit("booking/setPackageId",n.id),o.commit("booking/setBookableType","package"),o.commit("booking/setMultipleAppointments",Pt(0,n)),o.commit("booking/setMultipleAppointmentsIndex",0);let g=n.bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),I=[],J=[];c.value[0]!==fe&&I.push("ExtrasStep"),c.value[0]!==Y&&I.push("DateTimeStep"),c.value[0]!==le&&I.push("CartStep"),g>0?J=J.concat([ce,v,$e]):J.push($e),we(c,I,J,A.value),we(ee,I,[],A.value),We(),lt()}function st(){let g=o.state.entities.packages.find(Le=>Le.id===o.getters["booking/getPackageId"]).bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),I=[],J=[];c.value.find(Le=>Le.name==="ExtrasStep")&&I.push("ExtrasStep"),c.value.find(Le=>Le.name==="DateTimeStep")&&I.push("DateTimeStep"),g>0?J=J.concat([ce,v,$e]):J.push($e),we(c,I,J,A.value),we(ee,I,[],A.value),We(),lt()}function mt(){o.commit("booking/setBookableType","appointment"),o.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),o.commit("booking/setPackageId",null),o.commit("booking/setMultipleAppointmentsIndex",0),ft(o);let n=[];c.value[0]!==Y&&(Ye(o)&&n.push(le),n.push(Y)),c.value[0]!==fe&&$.value&&$.value.length&&n.push(fe),we(c,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,A.value-1),we(ee,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],A.value),We()}se("goToRecurringStep",{goToRecurringStep:W}),se("removeRecurringStep",{removeRecurringStep:L});function W(){Ye(o)&&oa();let n=0;for(let g=0;g<c.value.length;g++)if(c.value[g].name==="DateTimeStep"){n=g;break}c.value.splice(n+1,0,O),c.value.splice(n+2,0,ue),We(),lt()}function L(){for(let n=c.value.length-1;n>=0;n--)(c.value[n].name==="RecurringStep"||c.value[n].name==="RecurringSummary")&&c.value.splice(n+1,1);Ye(o)&&na(A.value),We()}let $=h(()=>{let n=o.getters["entities/getService"](o.getters["booking/getServiceId"]);return n?n.extras:[]});function de(){$.value.length&&!c.value.find(n=>n.name==="ExtrasStep")&&(c.value.splice(A.value+1,0,fe),We()),ee.value.find(n=>n.name==="ExtrasStep")&&!Object.keys($.value).length&&(c.value.splice(1,1),ee.value.splice(1,1)),m.showCart||ft(o)}se("initDataChanges",{changeInitStepDataService:de});const A=x(0);se("stepIndex",A);let Ve=F("stepName",x(""));Ct(A,(n,g)=>{n<ee.value.length&&(ee.value[g].selected=!1,ee.value[n].selected=!0),n===ee.value.length&&(ee.value[g].selected=!1),Ve.value=c.value[n].name});let pt=x(!1);se("goBackToPackageBooking",pt);function Dt(){_e(!1),ke.value||(c.value[A.value].name===$e.name&&mt(),c.value[A.value].name===O.name&&(c.value.splice(A.value,2),ee.value.splice(A.value,2),Ye(o)&&(c.value.splice(A.value,0,le),we(ee,[],[],A.value),We())),c.value[A.value].name===ce.name&&(pt.value=!0),A.value=A.value-1),et.value=!et.value}function lt(){ke.value||(ee.value[A.value].finished=!0,A.value=A.value+1)}let _t=h(()=>o.getters["entities/getReady"]),Et=h(()=>o.getters["booking/getLoading"]),Xe=h(()=>o.getters["booking/getBooked"]),Lt=h(()=>o.getters["booking/getPaymentGateway"]),vt=x(!1),Se=x(!1),et=x(!1);function Tt(){vt.value=!0}function M(){vt.value=!1}function E(){et.value=!0}function r(){et.value=!1}function _e(n){Se.value=n}function xe(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:xe});let ke=x(!1);se("changingStepsFunctions",{nextStep:lt,previousStep:Dt,footerButtonClick:Tt,footerButtonReset:M,footerBtnDisabledUpdater:_e,headerButtonPreviousClick:E,headerButtonPreviousReset:r,footerBtnDisabled:Se,footerButtonClicked:vt,headerButtonPreviousClicked:et,navigateInsideStep:ke});const ee=x([]);se("sidebarSteps",ee);function Ue(n){ee.value[A.value].stepSelectedData.filter(g=>g.reference===n.reference).length?ee.value[A.value].stepSelectedData.forEach((g,I,J)=>{g.reference===n.reference&&n.value&&n.value!==g.value&&(g.value=n.value),g.reference===n.reference&&!n.value&&J.splice(I,1)}):n.value&&ee.value[A.value].stepSelectedData.push(n),ee.value[A.value].stepSelectedData.sort((g,I)=>g.position-I.position)}function ve(){c.value.forEach((n,g)=>{if(n.name!=="CongratulationsStep"){let I=n.sidebarData.label,J={name:n.name,key:n.key,label:ne.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===A.value};ee.value.splice(g,0,J)}})}Nt(()=>{ve(),dt()}),Re(()=>{switch(o.getters["booking/getBookableType"]){case"appointment":m.showCart||ft(o);break}if(m.showCart&&Zt(c,A),oe.value){c.value.splice(0,c.value.length),ee.value.splice(0,ee.value.length),A.value=0,oe.value.steps.forEach(g=>{switch(g){case"packageStep":c.value.push(Fe);break;case"bringingAnyone":c.value.push(Me);break;case"initStep":c.value.push(q);break;case"packageInfoStep":c.value.push($e);break;case"packageAppointmentsStep":c.value.push(v);break;case"packageAppointmentsListStep":c.value.push(ce);break;case"extrasStep":c.value.push(fe);break;case"dateTimeStep":c.value.push(Y);break;case"recurringStep":c.value.push(O);break;case"recurringSummary":c.value.push(ue);break;case"cartStep":c.value.push(le);break;case"infoStep":c.value.push(Q);break;case"paymentStep":c.value.push(Pe);break;case"congratulations":c.value.push(Ce);break}let I=oe.value.sidebar.find(J=>J.key===g);We(),typeof I!="undefined"&&I.data&&I.data.forEach(J=>{Ue({reference:J.reference,position:J.position,value:J.value})}),A.value++}),o.commit("booking/setLoading",!1);let n=-1;oe.value.result==="success"?n=c.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(n=c.value.length-2);for(let g=0;g<=n;g++)c.value[g].finished=!0;for(let g=0;g<=n-1;g++)ee.value[g].finished=!0,ee.value[g].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(ee.value[n].finished=!1,ee.value[n].selected=!0),A.value=n}});function We(){c.value.forEach((n,g)=>{if(n.name!=="CongratulationsStep"&&!ee.value.find(I=>I.labelKey===n.sidebarData.label)){let I=n.sidebarData.label,J={name:n.name,key:n.key,label:ne.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===A.value};ee.value.splice(g,0,J)}})}se("sidebarStepsFunctions",{sidebarDataCollector:Ue}),se("addPaymentsStep",{addPaymentsStep:Gt}),se("removePaymentsStep",{removePaymentsStep:Jt});function Gt(){c.value.splice(c.value.length-1,0,Pe),We()}function Jt(){let n=["PaymentStep"];we(c,n,[],A.value),we(ee,n,[],A.value)}function na(n){we(c,[],[le],n),we(ee,[],[],n)}function oa(){we(c,["CartStep"],[],A.value),we(ee,["CartStep"],[],A.value)}function ca(){if(o.getters["entities/getPreselected"].show==="packages"){let g=o.getters["booking/getPackageId"]?[o.getters["entities/getPackage"](o.getters["booking/getPackageId"])]:o.getters["entities/getPackages"];return g.length>0&&g.filter(I=>I.price>0).length===g.length}if(!o.getters["booking/getPackageId"]){let g=o.getters["booking/getServiceId"]?[o.getters["entities/getService"](o.getters["booking/getServiceId"])]:o.getters["entities/getServices"],I=0;for(let J of g){let Le=o.getters["booking/getEmployeeId"]?o.getters["entities/getEmployee"](o.getters["booking/getEmployeeId"])?[o.getters["entities/getEmployee"](o.getters["booking/getEmployeeId"])]:[]:o.getters["entities/getEmployees"],Je=o.getters["booking/getBookingDuration"];if(Le.filter(Ze=>Ze.serviceList.find(je=>je.id===J.id&&(je.price>0||je.customPricing&&je.customPricing.enabled&&(Object.values(je.customPricing.durations).length===Object.values(je.customPricing.durations).filter(Bt=>Bt.price>0).length||Je&&je.customPricing.durations[Je].price>0)))).length===Le.filter(Ze=>Ze.serviceList.find(je=>je.id===J.id)).length)I++;else{let Ze=o.getters["booking/getSelectedExtras"].length?o.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((je,Bt)=>je+Bt.price,0)>0&&I++}}return g.length>0&&I===g.length}return o.getters["entities/getPackage"](o.getters["booking/getPackageId"]).price>0}let ra=h(()=>Ft(o).length?Fa(o)!==0:ca());za(()=>{let n=Ft(o);!n[0].serviceId&&Object.keys(n[0].services).length===0&&w("emptiedCart"),!oe.value&&!ra.value?Jt():oe.value||c.value.indexOf(Pe)===-1&&Gt()},{flush:"post"});function ua(){ee.value.forEach(n=>{n.finished=!1,n.selected=!1}),c.value.forEach(n=>{n.finished=!1,n.selected=!1}),A.value=0,aa(o,!0),Ua(o),ft(o),w("addToCart")}function da(){let n=o.getters["booking/getCurrentCartItem"],g=o.getters["booking/getAllMultipleAppointments"];n?(o.commit("booking/setCartItem",n),o.commit("booking/setCartItemIndex",g.length-1),o.commit("booking/setCurrentCartItem",null)):(g.pop(),o.commit("booking/setCartItemIndex",g.length-1),o.commit("booking/setServiceId",g[g.length-1].serviceId),o.commit("booking/setEmployeeId",g[g.length-1].services[g[g.length-1].serviceId].providerId),o.commit("booking/setLocationId",g[g.length-1].services[g[g.length-1].serviceId].locationId)),Zt(c,A)}let be=h(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",be);let ma=h(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ae(be.value.colorMainText,.2),"--am-c-skeleton-op60":ae(be.value.colorMainText,.6),"--am-font-family":D.value.fontFamily,"--am-mw-main":P.value?k.value?"592px":"760px":"520px","--am-brad-main":P.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function pa(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let g=`@font-face {font-family: '${D.value.fontFamily}'; src: url(${D.value.fontUrl});}`,I=document.createElement("style");n.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(g))}D.value.customFontSelected&&pa();let _a=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_a),Re(()=>{ea("renderForm",{ameliaContainer:y,containerWidth:C,empty:T,amCustomize:p,amFonts:D,sidebarCollapsed:k,sidebarCollapseItemsClass:S,sidebarFooterRef:V,sidebarFooterHeight:ie,sidebarVisibility:P})}),(n,g)=>(t(),i(Z,null,[D.value.customFontSelected?u("",!0):(t(),i(Z,{key:0},[Ti,Bi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(B).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fi)],64)),e(T)?(t(),i("div",Zi,[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ki),a("h1",null,l(e(ne).oops),1),a("h3",null,l(e(ne).no_services_employees),1),a("p",null,l(e(ne).add_services_employees),1),a("a",es,l(e(ne).add_services_url)+"\xA0 ",1),a("span",ts,l(e(ne).and)+"\xA0",1),a("a",as,l(e(ne).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:y,class:R(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:re(e(ma))},[e(C)>560&&e(P)?(t(),he(Ma,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(k)}]),style:re({width:e(k)?"72px":"240px",paddingBottom:`${e(ie)+16}px`})},{"step-list":N(()=>[a("div",zi,[c.value[A.value]!==e(Ce)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(Z,{key:0},ge(ee.value,I=>(t(),i("div",{key:I.key,class:"am-fs-sb__step"},[a("div",Ai,[a("div",Ri,[a("span",{class:R(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(He)(e(o))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e(S)])},l(e(He)(e(o))),3)):u("",!0)]),G(Qe,{name:"fade"},{default:N(()=>[e(k)?u("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e(S)])},l(I.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(S)]])},[G(Qe,{name:"fade"},{default:N(()=>[I.finished?(t(),i("span",Mi)):u("",!0)]),_:2},1024)],2)]),G(Aa,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(v).key&&I.stepSelectedData.length>3}])},{default:N(()=>[e(k)?u("",!0):(t(!0),i(Z,{key:0},ge(I.stepSelectedData,(J,Le)=>(t(),i("p",{key:J.position,class:"am-fs-sb__step-selection"},[I.key!==e(v).key||Le<3?(t(),i("span",Ni,l(J.value),1)):(t(),i("span",Oi,l(e(ne).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[G(Qe,{name:"fade"},{default:N(()=>[e(k)?u("",!0):(t(),he(Ra,{key:0}))]),_:1}),e(k)?(t(),i("div",Ui,[a("div",Wi,[a("div",ji,[a("span",{class:R(`am-icon-${c.value[A.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":c.value[A.value].sidebarData.selected},e(S)]])},[G(Qe,{name:"fade"},{default:N(()=>[c.value[A.value].sidebarData.finished?(t(),i("span",Hi)):u("",!0)]),_:1})],2)])])):u("",!0)]))])]),"support-info":N(()=>[a("div",{ref_key:"sidebarFooterRef",ref:V,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",qi,[G(Qe,{name:"fade"},{default:N(()=>[!e(k)&&e(b).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e(S)])},l(e(ne).get_in_touch),3)):u("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Ji)):(t(),i(Z,{key:0},[pe(l(e(s).company.phone),1)],64))],8,Gi)):u("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",Qi)):(t(),i(Z,{key:0},[pe(l(e(s).company.email),1)],64))],8,Yi)):u("",!0)])):u("",!0),a("div",{class:R(["am-fs-sb__menu",e(S)]),onClick:g[0]||(g[0]=I=>me(k)?k.value=!e(k):k=!e(k))},[G(Qe,{name:"fade"},{default:N(()=>[e(k)?u("",!0):(t(),i("span",Xi,l(e(ne).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):u("",!0),G(Va,null,Ot({step:N(()=>[(t(),he(ta(c.value[A.value]),{"global-class":"am-fs__main-content"}))]),footer:N(()=>[G(e(Oa),{"second-button-show":c.value[A.value]===e(Ce)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ye)(e(o))&&c.value[A.value]===e(le),"back-to-cart-button-show":e(Ye)(e(o))&&e(De).length>1&&c.value[A.value]!==e(le)&&c.value[A.value]!==e(Q)&&c.value[A.value]!==e(Pe)&&c.value[A.value]!==e(Ce),booked:e(Xe),loading:e(Et),ready:e(_t),"payment-gateway":e(Lt),"customized-labels":e(qe),"primary-footer-button-type":e(Ee),"secondary-footer-button-type":e(X),"add-to-cart-button-type":e(U),"back-to-cart-button-type":e(z),"back-to-cart-label":te("cancel","cartStep"),onAddToCart:ua,onBackToCart:da},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[c.value[A.value]!==e(Ce)?{name:"header",fn:N(()=>[G(Na,{"sidebar-visible":e(P),ready:e(_t)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const ss={class:"am-fcil__filter-buttons"},ls={class:"am-fcil__filter"},ns={class:"am-fcil__filter-item__btn-wrapper"},os={class:"am-fcil__heading"},cs={key:0,class:"am-fcil__item-badge__wrapper"},rs={class:"am-fcil__item-badge am-package"},us=a("span",{class:"am-icon-shipment"},null,-1),ds={class:"am-fcil__item-heading"},ms={class:"am-fcil__item-name"},ps={key:0,class:"am-fcil__item-cost"},_s={key:0,class:"am-fcil__item-discount"},vs={class:"am-fcil__item-price"},fs={key:1,class:"am-fcil__item-price"},gs={class:"am-fcil__item-info"},ys={key:0,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-folder"},null,-1),bs={key:1,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-clock"},null,-1),Cs={key:0},$s={key:1},ws={key:2},Ss={key:2,class:"am-fcil__item-info__inner"},xs=a("span",{class:"am-icon-user"},null,-1),Is=a("span",null,"1/1",-1),Ps=[xs,Is],Ds={key:3,class:"am-fcil__item-info__inner"},Es=a("span",{class:"am-icon-locations"},null,-1),Ls={key:2,class:"am-fcil__item-services"},Ts={key:0,class:"am-fcil__item-badge__wrapper"},Bs={class:"am-fcil__item-badge am-service"},Fs=a("span",{class:"am-icon-service"},null,-1),zs={class:"am-fcil__item-heading"},As={class:"am-fcil__item-name"},Rs={key:0,class:"am-fcil__item-cost"},Ms={key:0,class:"am-fcil__item-price"},Ns={key:1,class:"am-fcil__item-price"},Os={class:"am-fcil__item-info"},Vs={key:0,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-folder"},null,-1),Ws={key:1,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-clock"},null,-1),Hs={key:2,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-user"},null,-1),Gs={key:3,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-locations"},null,-1),Ys={class:"am-fcil-employee__header"},Qs={class:"am-fcil-employee__heading"},Xs={class:"am-fcil-employee__heading-left"},Zs={class:"am-fcil-employee__name"},Ks={key:0,class:"am-fcil-employee__heading-right"},el={class:"am-fcil-employee__price"},tl=["innerHTML"],al={key:1,ref:"ameliaContainer",class:"am-empty"},il=["src"],sl={class:"am-empty__heading"},ll={class:"am-empty__subheading"},nl={class:"am-empty__text"},ol={key:0},cl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},rl={key:1},ul={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},dl={name:"CategoryItemsList",key:"categoryItemsList"},ml=Object.assign(dl,{setup(f){let w=F("licence"),{nextPage:m,previousPage:y}=F("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=F("baseUrls");let T=x(!1),d=x(!1),s=x("760px");se("bookingDialogWidth",s);function p(){s.value="760px"}let b=x(!1),D=x(),k=F("containerWidth"),S=F("customizedDataForm"),_=h(()=>S.value.categoryItemsList.options),V=h(()=>"pageScroll"in _.value?_.value.pageScroll.visibility:!0);const ie=F("settings");let P=at();const B=F("shortcodeData"),o=h(()=>P.getters["entities/getPreselected"]);let j=h(()=>{let M=Array.isArray(B.value.category)?B.value.category:B.value.category.split(",");return M=M.filter(E=>E),M.length}),oe=h(()=>{let M=D.value&&D.value.catContainerWidth?D.value.catContainerWidth>768:!0;return j.value!==1&&_.value.sidebar.visibility&&M}),q=F("amEntities"),fe=h(()=>Ye(P)&&He(P)>0),$e=h(()=>He(P));const O=F("labels"),ue=F("localLanguage");let Y=h(()=>ie.general.usedLanguages.includes(ue.value)),v=h(()=>{let M=it(tt({},O));if(ie.customizedData&&ie.customizedData.cbf&&ie.customizedData.cbf.categoryItemsList.translations){let E=ie.customizedData.cbf.categoryItemsList.translations;Object.keys(E).forEach(r=>{E[r][ue.value]&&Y.value?M[r]=E[r][ue.value]:E[r].default&&(M[r]=E[r].default)})}return M}),ce=x(""),Ce=kt({components:{IconComponent:It},template:'<IconComponent icon="search"/>'}),le=x(!0),Q=kt({components:{IconComponent:It},template:'<IconComponent icon="filter"/>'}),Pe=h(()=>D.value&&D.value.catHeaderWidth?D.value.catHeaderWidth:0);window.addEventListener("resize",Fe);function Fe(){Te(()=>{Pe.value>480&&(le.value=!0)})}Re(()=>{Fe()});function Me(M){let E=[];return ce.value.toLowerCase().split(" ").forEach(r=>{E.push(M.toLowerCase().includes(r))}),E.filter(r=>r===!1).length<=0}let c=F("availableCategories"),K=F("categorySelected"),ye=h(()=>ht(B.value,q.value.categories.find(M=>M.id===K.value),q.value,ne.value,qe.value)),H=h(()=>{let M=[];return q.value.packages.forEach(E=>{ye.value.forEach(r=>{E.bookable.filter(_e=>_e.service.id===r).length&&!M.filter(_e=>_e.id===E.id).length&&E.available&&E.status==="visible"&&!jt(q.value,E)&&Ht(q.value,E,B.value)&&(ce.value?Me(E.name):!0)&&M.push(E)})}),M}),De=h(()=>{let M=[];return q.value.services.forEach(E=>{ye.value.forEach(r=>{E.id===r&&(ce.value?Me(E.name):!0)&&M.push(E)})}),M}),ne=x(null),qe=x(null),Ee=x(!0),X=x(!0);function U(M){M==="all"&&(Ee.value=!0,X.value=!0),M==="packages"&&(Ee.value=!0,X.value=!1),M==="services"&&(Ee.value=!1,X.value=!0)}Nt(()=>{o.value.show&&U(o.value.show)});let z=h(()=>{let M=B.value.employee,E=q.value.employees.length,r=B.value.location,_e=q.value.locations.length,xe=_.value.searchInput.visibility,ke=_.value.filterEmployee.visibility&&M.length!==1&&E>1&&!w.isLite,ee=_.value.filterLocation.visibility&&r.length!==1&&_e>1&&!w.isLite&&!w.isStarter,Ue=_.value.filterButtons.visibility&&o.value.show!=="packages"&&o.value.show!=="services"&&H.value.length!==0&&De.value.length!==0&&!He(P),ve={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return Pe.value>992?!xe||!Ue?(ve.employee=!xe&&!Ue?"am-w50":"am-w35",ve.location=!xe&&!Ue?"am-w50":"am-w35",ve.search=!Ue&&!ee&&!ke?"am-w100":"am-w30",ke||(ve.location=!xe&&!Ue?"am-w100":"am-w70"),ee||(ve.employee=!xe&&!Ue?"am-w100":"am-w70")):(ke||(ve.location="am-w40"),ee||(ve.employee="am-w40"),!ke&&!ee&&(ve.search="am-w70")):Pe.value>768||Pe.value>480?(ve.search=Ue?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ve.buttons=xe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ve.employee=ee?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ve.location=ke?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ve.category="am-w100 am-tablet am-order5"):(ve.employee="am-w100 am-mobile",ve.location="am-w100 am-mobile",ve.search="am-w100 am-mobile",ve.buttons="am-w100 am-mobile",ve.category="am-w100 am-mobile"),ve}),te=h(()=>D.value&&D.value.catContainerWidth?D.value.catContainerWidth:0),Oe=h(()=>{let M=H.value.length&&!He(P)?H.value.length:0,E=De.value.length>1?v.value.heading_services:v.value.heading_service,r=M?M>1?v.value.packages:v.value.package:"";if(!De.value.length&&!M)return v.value.no_search_data;if(X.value&&(!Ee.value||!M))return`${v.value.available} - ${De.value.length} ${E}`;if((!X.value||!De.value.length)&&Ee.value)return`${v.value.available} - ${M} ${r}`;let _e=M?"/":"";return`${v.value.available} - ${De.value.length} ${E} ${_e} ${M} ${r}`});Re(()=>{Te(()=>{T.value=H.value.length===0&&De.value.length===0})});function dt(M){K.value=M.id,P.commit("booking/setCategoryId",parseInt(M.id))}let we=F("itemType");function Be(M){P.commit("booking/setServiceId",parseInt(M)),P.commit("booking/setBookableType","appointment"),we.value="appointment",gt(P,{},"SelectService","appointment",null,null),Te(()=>{m()})}function st(M){P.commit("booking/setServiceId",null),P.commit("booking/setPackageId",M.id),P.commit("booking/setBookableType","package"),P.commit("booking/setMultipleAppointments",Pt(0,M)),P.commit("booking/setCartItemIndex",0),we.value="package",gt(P,{},"SelectPackage","package",null,null),Te(()=>{m()})}function mt(){K.value=null,P.commit("booking/setCategoryId",null),y()}function W(){Mt(P),b.value=!0,d.value=!0}let L=x(!1),$=x(""),de=x([]),A=x({}),Ve=x(null);function pt(){$.value="",de.value=[],A.value={},Ve.value=null}function Dt(M){de.value=la(q.value,M,B.value),A.value=M,L.value=!0}function lt(M){let E=[];Object.keys(q.value.entitiesRelations).forEach(_e=>{_e in q.value.entitiesRelations&&M in q.value.entitiesRelations[_e]&&q.value.employees.find(xe=>xe.id===parseInt(_e))&&E.push(q.value.employees.find(xe=>xe.id===parseInt(_e)))}),de.value=E,$.value="service",L.value=!0,Ve.value=M}function _t(M){let E=q.value.services.find(_e=>_e.id===Ve.value).price,r=M.serviceList.find(_e=>_e.id===Ve.value).price;return r!==E?`${r-E>0?E>0?"+":"":"-"} ${Ke(r-E)}`:0}function Et(){$.value==="service"?Be(Ve.value):st(A.value),pt()}function Xe(M,E){let r="";return M>1?(E==="day"&&(r=v.value.expires_days),E==="week"&&(r=v.value.expires_weeks),E==="month"&&(r=v.value.expires_months)):(E==="day"&&(r=v.value.expires_day),E==="week"&&(r=v.value.expires_week),E==="month"&&(r=v.value.expires_month)),r}function Lt(M,E){return ze(M,E).length===1?ze(M,E)[0].address?ze(M,E)[0].address:ze(M,E)[0].name:v.value.multiple_locations}let vt=F("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),Se=F("amColors"),et=h(()=>({"--am-c-fcil-text-op-10":ae(Se.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(Se.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(Se.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(Se.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(Se.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(Se.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(Se.value.colorInpText,.1),"--am-w-fcil-main":j.value!==1&&_.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":D.value&&D.value.catFormWidth<580?"100%":"50%"})),Tt=h(()=>({"--am-f-fcil-employee-f":vt.value.fontFamily,"--am-c-fcil-employee-bgr":Se.value.colorMainBgr,"--am-c-fcil-employee-heading":Se.value.colorMainHeadingText,"--am-c-fcil-employee-text":Se.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(Se.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(Se.value.colorMainText,.15),"--am-c-fcil-employee-primary":Se.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(Se.value.colorPrimary,.1),"--am-c-inp-border":Se.value.colorInpBorder,"--am-c-main-text":Se.value.colorMainText}));return(M,E)=>e(T)?(t(),i("div",al,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,il),a("div",sl,l(e(v).oops),1),a("div",ll,l(e(o).show!=="packages"?e(v).no_services_employees:e(v).no_package_services),1),a("div",nl,[e(o).show!=="packages"?(t(),i("span",ol,l(e(v).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",cl,l(e(v).add_services_url)+"\xA0 ",1),e(o).show!=="packages"?(t(),i("span",rl,l(e(v).and)+"\xA0 ",1)):u("",!0),e(o).show!=="packages"?(t(),i("a",ul,l(e(v).add_employees_url),1)):u("",!0)])],512)):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:D,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(V)?"":"no-scroll"}`,style:re(e(et))},Ot({header:N(()=>[a("span",ss,[e(j)!==1&&!e(B).categories_hidden?(t(),he(Ut,{key:0,"btn-size":e(Pe)<481?"medium":"mini","btn-string":e(v).back_btn,"btn-type":e(_).backBtn.buttonType,"cart-btn-visibility":e(fe),"cart-items-number":e($e),onGoBack:mt,onGoToCart:W},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):u("",!0),e(Pe)<481?(t(),he(Ae,{key:1,size:"medium",category:"secondary",type:e(_).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Q),onClick:E[0]||(E[0]=()=>me(le)?le.value=!e(le):le=!e(le))},null,8,["type","icon"])):u("",!0)]),a("div",ls,[e(_).searchInput.visibility?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(z).search])},[G(Wa,{modelValue:e(ce),"onUpdate:modelValue":E[1]||(E[1]=r=>me(ce)?ce.value=r:ce=r),placeholder:e(v).filter_input,"icon-start":e(Ce)},null,8,["modelValue","placeholder","icon-start"])],2)):u("",!0),G(Qe,{name:"slide-fade"},{default:N(()=>[e(B).employee.length!==1&&e(q).employees.length>1&&e(_).filterEmployee.visibility&&e(le)&&!e(w).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(z).employee])},[G(zt,{modelValue:e(ne),"onUpdate:modelValue":E[2]||(E[2]=r=>me(ne)?ne.value=r:ne=r),clearable:"",filterable:"",placeholder:e(v).filter_employee,"fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(q).employees,r=>(t(),he(At,{key:r.id,value:r.id,label:`${r.firstName} ${r.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),G(Qe,{name:"slide-fade"},{default:N(()=>[e(B).location.length!==1&&e(q).locations.length>1&&e(_).filterLocation.visibility&&e(le)&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(z).location])},[G(zt,{modelValue:e(qe),"onUpdate:modelValue":E[3]||(E[3]=r=>me(qe)?qe.value=r:qe=r),clearable:"",filterable:"",placeholder:e(v).filter_location,"fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(q).locations,r=>(t(),he(At,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),G(Qe,{name:"slide-fade"},{default:N(()=>[e(j)!==1&&e(_).sidebar.visibility&&!e(oe)&&e(le)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(z).category])},[G(zt,{modelValue:e(K),"onUpdate:modelValue":E[4]||(E[4]=r=>me(K)?K.value=r:K=r),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:N(()=>[(t(!0),i(Z,null,ge(e(c),r=>(t(),he(At,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):u("",!0)]),_:1}),!e(o).show&&e(_).filterButtons.visibility&&e(H).length!==0&&e(De).length!==0&&!e(He)(e(P))?(t(),i("div",{key:1,class:R(["am-fcil__filter-item",e(z).buttons])},[a("div",ns,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&e(X)}]),onClick:E[5]||(E[5]=r=>U("all"))},[a("span",null,l(e(v).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&!e(X)}]),onClick:E[6]||(E[6]=r=>U("packages"))},[a("span",null,l(e(v).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(Ee)&&e(X)}]),onClick:E[7]||(E[7]=r=>U("services"))},[a("span",null,l(e(v).filter_services),1)],2)])],2)):u("",!0)])]),heading:N(()=>[a("div",os,l(e(Oe)),1)]),content:N(()=>[e(Ee)&&!e(He)(e(P))?(t(!0),i(Z,{key:0},ge(e(H),r=>{var _e,xe;return t(),i("div",{key:r.id,class:R(["am-fcil__item",{"am-mobile":e(te)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(te)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(r.color,.1)}:{})},[e(_).packageBadge.visibility?(t(),i("div",cs,[a("div",rs,[us,a("span",null,l(e(v).package),1)])])):u("",!0),r.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):u("",!0),a("div",ds,[a("div",ms,l(r.name),1),e(_).packagePrice.visibility?(t(),i("div",ps,[r.discount?(t(),i("span",_s,l(`${e(v).save} ${r.discount}%`),1)):u("",!0),a("span",vs,l(r.price?e(Ke)(e(Vt)(r)):e(v).free),1),r.price&&((xe=(_e=e(_).tax)==null?void 0:_e.visibility)!=null?xe:!0)&&e(yt)(e(P),r.id,"package")?(t(),i("span",fs,[e(ie).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(v).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",gs,[e(_).packageCategory.visibility?(t(),i("div",ys,[hs,a("span",null,l(e(c).find(ke=>ke.id===e(K)).name),1)])):u("",!0),e(_).packageDuration.visibility?(t(),i("div",bs,[ks,r.endDate?(t(),i("span",Cs,l(`${e(v).expires_at} ${r.endDate.split(" ")[0]}`),1)):r.durationCount?(t(),i("span",$s,l(`${e(v).expires_after} ${r.durationCount} ${Xe(r.durationCount,r.durationType)}`),1)):(t(),i("span",ws,l(e(v).without_expiration),1))])):u("",!0),e(_).packageCapacity.visibility?(t(),i("div",Ss,Ps)):u("",!0),e(nt)(e(q),r,e(B)).length&&e(_).packageLocation.visibility?(t(),i("div",Ds,[Es,a("span",null,l(e(nt)(e(q),r,e(B)).length===1?e(nt)(e(q),r,e(B))[0].address?e(nt)(e(q),r,e(B))[0].address:e(nt)(e(q),r,e(B))[0].name:e(v).multiple_locations),1)])):u("",!0)]),e(_).packageServices.visibility?(t(),i("div",Ls,[a("span",null,l(`${e(v).in_package}:`),1),(t(!0),i(Z,null,ge(r.bookable,ke=>(t(),i("span",{key:ke.id},l(ke.service.name),1))),128))])):u("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(te)<481},{"am-micro":e(te)<320}]])},[e(_).cardEmployeeBtn.visibility?(t(),he(Ae,{key:0,class:R({"am-w100":e(te)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ke=>Dt(r)},{default:N(()=>[pe(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),G(Ae,{class:R([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(te)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ke=>st(r)},{default:N(()=>[pe(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),e(X)?(t(!0),i(Z,{key:1},ge(e(De),r=>{var _e,xe;return t(),i("div",{key:r.id,class:R(["am-fcil__item",{"am-mobile":e(te)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(te)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ae)(r.color,.1)}:{})},[e(_).serviceBadge.visibility?(t(),i("div",Ts,[a("div",Bs,[Fs,a("span",null,l(e(v).heading_service),1)])])):u("",!0),r.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):u("",!0),a("div",zs,[a("div",As,l(r.name),1),e(_).servicePrice.visibility?(t(),i("div",Rs,[e(rt)(e(q),r.id).min||e(rt)(e(q),r.id).max?(t(),i("span",Ms,l(e(rt)(e(q),r.id).price),1)):u("",!0),((xe=(_e=e(_).tax)==null?void 0:_e.visibility)!=null?xe:!0)&&e(yt)(e(P),r.id,"service")?(t(),i("span",Ns,[e(ie).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(v).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",Os,[e(_).serviceCategory.visibility?(t(),i("div",Vs,[Us,a("span",null,l(e(c).find(ke=>ke.id===e(K)).name),1)])):u("",!0),e(_).serviceDuration.visibility?(t(),i("div",Ws,[js,a("span",null,l(e(sa)(r.duration)),1)])):u("",!0),e(_).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Hs,[qs,a("span",null,l(e(ia)(e(q),r.id)),1)])):u("",!0),e(ze)(e(q),r.id).length&&e(_).serviceLocation.visibility?(t(),i("div",Gs,[Js,a("span",null,l(Lt(e(q),r.id)),1)])):u("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(te)<481},{"am-micro":e(te)<320}]])},[e(_).cardEmployeeBtn.visibility&&!e(w).isLite?(t(),he(Ae,{key:0,class:R({"am-w100":e(te)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:ke=>lt(r.id)},{default:N(()=>[pe(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),G(Ae,{class:R([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(te)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:ke=>Be(r.id)},{default:N(()=>[pe(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),G(ut,{modelValue:e(L),"onUpdate:modelValue":E[9]||(E[9]=r=>me(L)?L.value=r:L=r),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Tt),width:"648px",onClose:pt},{title:N(()=>[a("div",Ys,l(e(v).employee_info),1)]),default:N(()=>[a("div",null,[G($t,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(de),(r,_e)=>(t(),he(wt,{key:_e,side:""},{heading:N(()=>[a("div",Qs,[a("div",Xs,[G(ct,{"item-class":"am-fcil-employee__img","item-data":r,"trim-string":2},null,8,["item-data"]),a("div",Zs,[pe(l(`${r.firstName} ${r.lastName}`)+" ",1),r.badge?(t(),i("span",{key:0,style:re({background:r.badge.color}),class:"am-fcil-employee__badge"},l(r.badge.content),5)):u("",!0)])]),e($)==="service"&&_t(r)!==0?(t(),i("div",Ks,[a("div",el,l(_t(r)),1)])):u("",!0)])]),default:N(()=>[e(Ne)(r.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":r.description.includes("<!-- Content -->")}]),innerHTML:r.description},null,10,tl)):u("",!0)]),_:2},1024))),128))]),_:1})])]),footer:N(()=>[e(_).dialogEmployeeBtn.visibility?(t(),he(Ae,{key:0,type:e(_).dialogEmployeeBtn.buttonType,category:"primary",onClick:E[8]||(E[8]=r=>Et())},{default:N(()=>[pe(l(e($)==="service"?e(v).book_service:e(v).book_package),1)]),_:1},8,["type"])):u("",!0)]),_:1},8,["modelValue","custom-styles"]),G(ut,{modelValue:e(d),"onUpdate:modelValue":E[10]||(E[10]=r=>me(d)?d.value=r:d=r),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:N(()=>[G(qt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(j)!==1&&e(_).sidebar.visibility&&e(oe)?{name:"side",fn:N(()=>[G(ci,{"menu-items":e(c),"init-selection":e(K),identifier:"id","name-identifier":"name","footer-string":e(v).get_in_touch,"company-email":e(ie).company.email,onClick:dt},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const pl={class:"am-fcis__header-text"},_l={class:"am-fcis__header-name"},vl={key:0,class:"am-fcis__badge am-service"},fl=a("span",{class:"am-icon-service"},null,-1),gl={class:"am-fcis__header-action"},yl={key:0,class:"am-fcis__header-price"},hl={key:1,class:"am-fcis__header-tax"},bl={class:"am-fcis__header-btn"},kl={key:0,class:"am-fcis__header-bottom"},Cl={class:"am-fcis__mini-info"},$l={key:0,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-folder"},null,-1),Sl={key:1,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-clock"},null,-1),Il={key:2,class:"am-fcis__mini-info__inner"},Pl=a("span",{class:"am-icon-user"},null,-1),Dl={key:3,class:"am-fcis__mini-info__inner"},El=a("span",{class:"am-icon-locations"},null,-1),Ll={key:0,class:"am-fcis__gallery"},Tl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bl={class:"am-gd__display-wrapper"},Fl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},zl=["src","alt"],Al={class:"am-gd__selection"},Rl={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Nl={key:1,class:"am-fcis__info"},Ol={class:"am-fcis__info-tab__wrapper"},Vl={class:"am-fcis__info-content__wrapper"},Ul={key:0,class:"am-fcis__info-content"},Wl=["innerHTML"],jl={key:1,class:"am-fcis__info-content"},Hl={class:"am-fcis__info-employee__hero"},ql={class:"am-fcis__info-employee__heading"},Gl={class:"am-fcis__info-employee__name"},Jl={key:0,class:"am-fcis__info-employee__price"},Yl=["innerHTML"],Ql={key:2,class:"am-fcis__include-wrapper"},Xl={class:"am-fcis__include-heading"},Zl={class:"am-fcis__include-heading__text"},Kl=["onClick"],en={class:"am-fcis__include-hero"},tn={key:0,class:"am-fcis__include-cost"},an={key:0,class:"am-fcis__include-discount"},sn={class:"am-fcis__include-price"},ln={key:1,class:"am-fcis__include-price"},nn={class:"am-fcis__include-info"},on={key:0,class:"am-fcis__include-info__inner"},cn=a("span",{class:"am-icon-folder"},null,-1),rn={key:1,class:"am-fcis__include-info__inner"},un=a("span",{class:"am-icon-clock"},null,-1),dn={key:0},mn={key:1},pn={key:2},_n={key:2,class:"am-fcis__include-info__inner"},vn=a("span",{class:"am-icon-user"},null,-1),fn=a("span",null,"1/1",-1),gn=[vn,fn],yn={key:3,class:"am-fcis__include-info__inner"},hn=a("span",{class:"am-icon-locations"},null,-1),bn={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},kn={key:1,ref:"ameliaContainer",class:"am-empty"},Cn=["src"],$n={class:"am-empty__heading"},wn={class:"am-empty__subheading"},Sn={class:"am-empty__text"},xn={key:0},In={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Pn={key:1},Dn={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},En={name:"CategoryService"},Ln=Object.assign(En,{setup(f){let w=F("licence"),{previousPage:m}=F("changingPageFunctions",{previousPage:()=>{}}),y=h(()=>V.getters["entities/getReady"]);const C=F("baseUrls");let T=x(),d=F("containerWidth");const s=F("settings");let p=F("amFonts");const b=F("labels"),D=F("localLanguage");let k=h(()=>s.general.usedLanguages.includes(D.value)),S=h(()=>{let W=it(tt({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let L=s.customizedData.cbf.categoryService.translations;Object.keys(L).forEach($=>{L[$][D.value]&&k.value?W[$]=L[$][D.value]:L[$].default&&(W[$]=L[$].default)})}return W}),_=x(0),V=at(),ie=F("amEntities"),P=h(()=>Ye(V)&&He(V)>0),B=h(()=>He(V)),o=F("customizedDataForm"),j=h(()=>o.value.categoryService.options),oe=h(()=>"pageScroll"in j.value?j.value.pageScroll.visibility:!0),q=F("itemType"),fe=F("categorySelected"),$e=h(()=>ie.value.categories.find(W=>W.id===fe.value)),O=h(()=>{let W=ie.value.services.find(L=>L.id===V.getters["booking/getServiceId"]);return W||{}});function ue(W,L){return ze(W,L).length===1?ze(W,L)[0].address?ze(W,L)[0].address:ze(W,L)[0].name:S.value.multiple_locations}let Y=x("description"),v=h(()=>{let W=[];return Object.keys(ie.value.entitiesRelations).forEach($=>{ie.value.entitiesRelations[$][O.value.id]&&ie.value.employees.find(de=>de.id===parseInt($))&&W.push(ie.value.employees.find(de=>de.id===parseInt($)))}),W});function ce(W){let L=W.serviceList.find($=>$.id===O.value.id).price;return L-O.value.price!==0?`${L-O.value.price>0?O.value.price>0?"+":"":"-"} ${Ke(L-O.value.price)}`:""}Re(()=>{j.value.serviceDescription.visibility||(Y.value="employees"),Ne(O.value.description)||(Y.value="employees")});let Ce=h(()=>{let W=O.value.gallery.length?JSON.parse(JSON.stringify(O.value.gallery)):[];return O.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)}),le=h(()=>{let W=[];return ie.value.packages.forEach(L=>{L.bookable.filter($=>$.service.id===O.value.id).length&&!W.filter($=>$.id===L.id).length&&L.available&&L.status==="visible"&&W.push(L)}),W}),Q=x(!1),Pe=h(()=>{let W=[...le.value];return Q.value?W:W.slice(0,2)}),Fe=h(()=>V.getters["entities/filteredLocations"](V.getters["booking/getSelection"]));function Me(){q.value="",Te(()=>{m()})}let c=x(!1);function K(){Mt(V),c.value=!0,H.value=!0}function ye(){H.value=!1,V.getters["entities/getPreselected"].service.length>1&&Me()}let H=x(!1),De=x("760px");se("bookingDialogWidth",De);function ne(){let W=V.getters["entities/getPreselected"];v.value.length===1&&(V.commit("booking/setEmployeeId",parseInt(v.value[0].id)),W.employee=[parseInt(v.value[0].id)],V.commit("entities/setPreselected",W)),c.value=!1,H.value=!1,ja(V),aa(V,!1),ft(V);let L=ze(ie.value,O.value.id);L.length===1&&(V.commit("booking/setLocationId",parseInt(L[0].id)),W.location=[parseInt(L[0].id)],V.commit("entities/setPreselected",W)),V.commit("booking/setBookableType","appointment"),H.value=!0}F("restoreFormData").value&&ne();function Ee(W){V.commit("booking/setPackageId",W.id),V.commit("booking/setBookableType","package"),V.commit("booking/setMultipleAppointments",Pt(0,W)),V.commit("booking/setMultipleAppointmentsIndex",0),v.value.length===1&&V.commit("booking/setEmployeeId",parseInt(v.value[0].id)),ze(ie.value,O.value.id).length===1&&V.commit("booking/setLocationId",parseInt(ze(ie.value,O.value.id)[0].id)),Te(()=>{H.value=!0})}const X=h(()=>V.getters["entities/getPreselected"]);let U=x("");se("stepName",U);function z(){let W=V.getters["entities/getBookableFromBookableEntities"](V.getters["booking/getSelection"]),L=W.settings?JSON.parse(W.settings):s;"general"in L&&"redirectUrlAfterAppointment"in L.general&&L.general.redirectUrlAfterAppointment?window.location.href=L.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function te(){if(U.value&&U.value==="CongratulationsStep")z();else{if(U.value&&U.value==="DateTimeStep"){let W=Ha(V);W&&console.log(W)}V.commit("booking/setEmployeeId",null),V.commit("booking/setLocationId",null),V.commit("entities/setPreselected",V.getters["entities/getOriginalPreselected"])}De.value="760px"}let Oe=x(!1);function dt(W,L){let $="";return W>1?(L==="day"&&($=S.value.expires_days),L==="week"&&($=S.value.expires_weeks),L==="month"&&($=S.value.expires_months)):(L==="day"&&($=S.value.expires_day),L==="week"&&($=S.value.expires_week),L==="month"&&($=S.value.expires_month)),$}let we=h(()=>Object.keys(O.value).length===0||v.value.length===0),Be=F("amColors"),st=h(()=>({"--am-c-fcis-success-op20":ae(Be.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(Be.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(Be.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(Be.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(Be.value.colorBtnSec,.5)})),mt=h(()=>({"--am-c-fcis-bgr":Be.value.colorMainBgr,"--am-c-fcis-text":Be.value.colorMainText,"--am-c-fcis-success":Be.value.colorSuccess,"--am-c-fcis-primary":Be.value.colorPrimary,"--am-c-scroll-op30":ae(Be.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Be.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(W,L)=>e(y)?(t(),i(Z,{key:0},[e(we)?u("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:re(e(st))},{header:N(()=>[G(Ut,{"btn-string":e(S).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(X).service.length!==1,"cart-btn-visibility":e(P),"cart-items-number":e(B),onGoBack:Me,onGoToCart:K},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:N(()=>{var $,de;return[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"])},[a("div",pl,[a("span",_l,l(e(O).name),1),e(j).serviceBadge.visibility?(t(),i("div",vl,[fl,a("span",null,l(e(S).heading_service),1)])):u("",!0)]),a("div",gl,[e(j).servicePrice.visibility?(t(),i("span",yl,l(e(rt)(e(ie),e(O).id).min||e(rt)(e(ie),e(O).id).max?e(rt)(e(ie),e(O).id).price:e(S).free),1)):u("",!0),((de=($=e(j).tax)==null?void 0:$.visibility)!=null?de:!0)&&e(yt)(e(V),e(O).id,"service")?(t(),i("span",hl,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(S).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(S).incl_tax),1)],64))])):u("",!0),a("span",bl,[G(Ae,{type:e(j).bookingBtn.buttonType,onClick:ne},{default:N(()=>[pe(l(e(S).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(t(),i("div",kl,[a("div",Cl,[e(j).serviceCategory.visibility?(t(),i("div",$l,[wl,a("span",null,l(e($e).name),1)])):u("",!0),e(j).serviceDuration.visibility?(t(),i("div",Sl,[xl,a("span",null,l(e(sa)(e(O).duration)),1)])):u("",!0),e(j).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Il,[Pl,a("span",null,l(e(ia)(e(ie),e(O).id)),1)])):u("",!0),e(ze)(e(ie),e(O).id).length&&e(j).serviceLocation.visibility&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",Dl,[El,a("span",null,l(ue(e(ie),e(O).id)),1)])):u("",!0)])])):u("",!0)]}),content:N(()=>[e(O).gallery.length?(t(),i("div",Ll,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(O).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:re({backgroundImage:`url(${e(O).gallery[0].pictureFullPath})`})},null,6),e(Ce).length&&e(d)>677?(t(),i("div",Tl,[(t(!0),i(Z,null,ge(e(Ce),($,de)=>(t(),i("div",{key:de,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(Ce).length===1}]),style:re({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):u("",!0),G(Ae,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:L[0]||(L[0]=()=>me(Oe)?Oe.value=!0:Oe=!0)},{default:N(()=>[pe(l(e(S).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),G(ut,{modelValue:e(Oe),"onUpdate:modelValue":L[4]||(L[4]=$=>me(Oe)?Oe.value=$:Oe=$),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(mt))},[a("div",Bl,[a("div",Fl,[a("span",{class:"am-icon-arrow-left",onClick:L[1]||(L[1]=()=>me(_)?_.value=e(_)<=0?e(O).gallery.length-1:e(_)-1:_=e(_)<=0?e(O).gallery.length-1:e(_)-1)}),a("span",{class:"am-icon-arrow-right",onClick:L[2]||(L[2]=()=>me(_)?_.value=e(O).gallery.length-1===e(_)?0:e(_)+1:_=e(O).gallery.length-1===e(_)?0:e(_)+1)})]),(t(!0),i(Z,null,ge(e(O).gallery,($,de)=>(t(),i("div",{key:de,class:"am-gd__display",style:re({display:de===e(_)?"flex":"none"}),onClick:L[3]||(L[3]=()=>me(_)?_.value=e(O).gallery.length-1===e(_)?0:e(_)+1:_=e(O).gallery.length-1===e(_)?0:e(_)+1)},[a("img",{src:$.pictureFullPath,alt:de},null,8,zl)],4))),128))]),a("div",Al,l(`${e(_)+1}/${e(O).gallery.length}`),1),a("div",Rl,[(t(!0),i(Z,null,ge(e(O).gallery,($,de)=>(t(),i("div",{key:de,class:R(["am-gd__thumb",{"am-active":de===e(_)}]),style:re({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>me(_)?_.value=de:_=de},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Ne)(e(O).description)||e(j).serviceEmployees.visibility?(t(),i("div",Nl,[a("div",Ol,[e(Ne)(e(O).description)&&e(j).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(Y)==="description"}]),onClick:L[5]||(L[5]=()=>me(Y)?Y.value="description":Y="description")},l(e(S).about_service),3)):u("",!0),e(j).serviceEmployees.visibility&&!e(w).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(Y)==="employees"},"am-fcis__info-tab"]),onClick:L[6]||(L[6]=()=>me(Y)?Y.value="employees":Y="employees")},l(e(S).tab_employees),3)):u("",!0)]),a("div",Vl,[e(Ne)(e(O).description)&&e(j).serviceDescription.visibility?St((t(),i("div",Ul,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(O).description.includes("<!-- Content -->")}]),innerHTML:e(O).description},null,10,Wl)],512)),[[xt,e(Y)==="description"]]):u("",!0),e(j).serviceEmployees.visibility?St((t(),i("div",jl,[G($t,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(v),$=>(t(),he(wt,{key:$.id,side:""},{heading:N(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Hl,[G(ct,{"item-class":"am-fcis__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),a("div",ql,[a("div",Gl,[pe(l($.firstName)+" "+l($.lastName)+" ",1),$.badge?(t(),i("span",{key:0,style:re({background:$.badge.color}),class:"am-fcis__info-employee__badge"},l($.badge.content),5)):u("",!0)]),ce($)&&e(j).serviceEmployeePrice.visibility?(t(),i("div",Jl,l(ce($)),1)):u("",!0)])])],2)]),default:N(()=>[e(Ne)($.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,Yl)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(Y)==="employees"]]):u("",!0)])])):u("",!0),e(le).length&&e(X).show!=="services"&&e(j).servicePackages.visibility&&!e(He)(e(V))?(t(),i("div",Ql,[a("div",Xl,[a("span",Zl,l(e(S).service_available_in_package),1),e(le).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:L[7]||(L[7]=()=>me(Q)?Q.value=!e(Q):Q=!e(Q))},[e(Q)?(t(),i(Z,{key:1},[pe(l(e(S).less_packages),1)],64)):(t(),i(Z,{key:0},[pe(l(e(S).more_packages),1)],64))])):u("",!0)]),(t(!0),i(Z,null,ge(e(Pe),$=>{var de,A;return t(),i("div",{key:$.id,class:"am-fcis__include",onClick:Ve=>Ee($)},[a("div",en,[e(d)>450?(t(),he(ct,{key:0,"item-class":"am-fcis__include-img","item-data":$,"trim-string":3},null,8,["item-data"])):u("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},l($.name),3),e(j).packagePrice.visibility?(t(),i("div",tn,[$.discount?(t(),i("span",an,l(`${e(S).save} ${$.discount}%`),1)):u("",!0),a("span",sn,l($.price?e(Ke)(e(Vt)($)):e(S).free),1),((A=(de=e(j).tax)==null?void 0:de.visibility)!=null?A:!0)&&e(yt)(e(V),$.id,"package")?(t(),i("span",ln,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(S).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(S).incl_tax),1)],64))])):u("",!0)])):u("",!0)],2),a("div",nn,[e(j).packageCategory.visibility?(t(),i("div",on,[cn,a("span",null,l(e($e).name),1)])):u("",!0),e(j).packageDuration.visibility?(t(),i("div",rn,[un,$.endDate?(t(),i("span",dn,l(`${e(S).expires_at} ${$.endDate.split(" ")[0]}`),1)):$.durationCount?(t(),i("span",mn,l(`${e(S).expires_after} ${$.durationCount} ${dt($.durationCount,$.durationType)}`),1)):(t(),i("span",pn,l(e(S).without_expiration),1))])):u("",!0),e(j).packageCapacity.visibility?(t(),i("div",_n,gn)):u("",!0),e(j).packageLocation.visibility&&e(Fe).length?(t(),i("div",yn,[hn,a("span",null,l(e(Fe).length===1?e(Fe)[0].address?e(Fe)[0].address:e(Fe)[0].name:e(S).multiple_locations),1)])):u("",!0),e(j).packageServices.visibility?(t(),i("div",bn,[a("span",null,l(`${e(S).in_package}:`),1),(t(!0),i(Z,null,ge($.bookable,Ve=>(t(),i("span",{key:Ve.id},l(Ve.service.name),1))),128))])):u("",!0)])],2)])],8,Kl)}),128))])):u("",!0),G(ut,{modelValue:e(H),"onUpdate:modelValue":L[9]||(L[9]=$=>me(H)?H.value=$:H=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(De),onClosed:te},{default:N(()=>[G(qt,{"show-cart":e(c),onAddToCart:ye,onEmptiedCart:L[8]||(L[8]=$=>me(H)?H.value=!1:H=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(we)?(t(),i("div",kn,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Cn),a("div",$n,l(e(S).oops),1),a("div",wn,l(e(X).show!=="packages"?e(S).no_services_employees:e(S).no_package_services),1),a("div",Sn,[e(X).show!=="packages"?(t(),i("span",xn,l(e(S).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",In,l(e(S).add_services_url)+"\xA0 ",1),e(X).show!=="packages"?(t(),i("span",Pn,l(e(S).and)+"\xA0 ",1)):u("",!0),e(X).show!=="packages"?(t(),i("a",Dn,l(e(S).add_employees_url),1)):u("",!0)])],512)):u("",!0)],64)):u("",!0)}});const Tn={class:"am-fcip__header-text"},Bn={class:"am-fcip__header-name"},Fn={key:0,class:"am-fcip__badge am-package"},zn=a("span",{class:"am-icon-shipment"},null,-1),An={class:"am-fcip__header-action"},Rn={key:0,class:"am-fcip__header-discount"},Mn={key:1,class:"am-fcip__header-price"},Nn={key:2,class:"am-fcip__header-tax"},On={class:"am-fcip__header-btn"},Vn={key:0,class:"am-fcip__header-bottom"},Un={class:"am-fcip__mini-info"},Wn={key:0,class:"am-fcip__mini-info__inner"},jn=a("span",{class:"am-icon-folder"},null,-1),Hn={key:1,class:"am-fcip__mini-info__inner"},qn=a("span",{class:"am-icon-clock"},null,-1),Gn={key:0},Jn={key:1},Yn={key:2},Qn={key:2,class:"am-fcip__mini-info__inner"},Xn=a("span",{class:"am-icon-user"},null,-1),Zn=a("span",null,"1/1",-1),Kn=[Xn,Zn],eo={key:3,class:"am-fcip__mini-info__inner"},to=a("span",{class:"am-icon-locations"},null,-1),ao={key:0,class:"am-fcip__gallery"},io={key:0,class:"am-fcip__gallery-thumb__wrapper"},so=a("span",{class:"am-icon-gallery"},null,-1),lo={class:"am-gd__display-wrapper"},no={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},oo=["src","alt"],co={class:"am-gd__selection"},ro={class:"am-gd__thumb-wrapper"},uo=["onClick"],mo={key:1,class:"am-fcip__info"},po={class:"am-fcip__info-tab__wrapper"},_o={class:"am-fcip__info-content__wrapper"},vo={key:0,class:"am-fcip__info-content"},fo=["innerHTML"],go={key:1,class:"am-fcip__info-content"},yo={class:"am-fcip__info-employee"},ho={class:"am-fcip__info-employee__hero"},bo={class:"am-fcip__info-employee__name"},ko=["innerHTML"],Co={key:2,class:"am-fcip__include-wrapper"},$o={class:"am-fcip__include-heading"},wo={class:"am-fcip__include-heading__text"},So={class:"am-fcip__include-service"},xo={class:"am-fcip__include-service__info"},Io={key:0},Po=["innerHTML"],Do={class:"am-fcip__include-footer"},Eo={class:"am-fcip__include-footer__text"},Lo={key:1,ref:"ameliaContainer",class:"am-empty"},To=["src"],Bo={class:"am-empty__heading"},Fo={class:"am-empty__subheading"},zo={class:"am-empty__text"},Ao={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ro={name:"CategoryPackage"},Mo=Object.assign(Ro,{setup(f){let{previousPage:w}=F("changingPageFunctions",{previousPage:()=>{}}),m=x(),y=F("containerWidth");const C=F("settings"),T=F("baseUrls");let d=at();const s=F("shortcodeData"),p=h(()=>d.getters["entities/getPreselected"]);let b=F("amEntities"),D=F("customizedDataForm"),k=h(()=>D.value.categoryPackage.options),S=h(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),_=F("itemType"),V=F("categorySelected"),ie=h(()=>b.value.categories.find(X=>X.id===V.value)),P=h(()=>b.value.packages.find(X=>X.id===d.getters["booking/getPackageId"])),B=x(0),o=x("description"),j=h(()=>la(b.value,P.value,s.value)),oe=h(()=>nt(b.value,P.value,s.value)),q=x(p.value.employee.length>0?b.value.unfilteredEmployees.filter(X=>p.value.employee.map(U=>parseInt(U)).includes(X.id)):b.value.unfilteredEmployees);function fe(X){let U=[];return X.providers.length?X.providers.forEach(z=>{q.value.find(te=>te.id===parseInt(z.id))&&U.push(q.value.find(te=>te.id===parseInt(z.id)))}):U=q.value.filter(z=>z.serviceList.find(te=>te.id===X.service.id)),U}Re(()=>{k.value.packageDescription.visibility||(o.value="employees"),Ne(P.value.description)||(o.value="employees")});let $e=x(!1);Nt(()=>{$e.value=d.getters["entities/getEmployees"].length===0||j.value.length===0});let O=x(!1),ue=h(()=>{let X=P.value.gallery.length?JSON.parse(JSON.stringify(P.value.gallery)):[];return P.value.gallery.length===1?[]:(X.shift(),X.length>2&&X.splice(2,X.length-2),X)});function Y(){_.value="",Te(()=>{w()})}let v=x(!1),ce=x("760px");se("bookingDialogWidth",ce);function Ce(){d.commit("booking/setPackageId",P.value.id),d.commit("booking/setMultipleAppointments",Pt(0,P.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),Te(()=>{v.value=!0})}F("restoreFormData").value&&Ce();let Q=x("");se("stepName",Q);function Pe(){let X=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),U=X.settings?JSON.parse(X.settings):C;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Fe(){Q.value&&Q.value==="CongratulationsStep"?Pe():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),ce.value="760px"}let Me=F("amFonts");const c=F("labels"),K=F("localLanguage");let ye=h(()=>C.general.usedLanguages.includes(K.value)),H=h(()=>{let X=it(tt({},c));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let U=C.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(z=>{U[z][K.value]&&ye.value?X[z]=U[z][K.value]:U[z].default&&(X[z]=U[z].default)})}return X});function De(X,U){let z="";return X>1?(U==="day"&&(z=H.value.expires_days),U==="week"&&(z=H.value.expires_weeks),U==="month"&&(z=H.value.expires_months)):(U==="day"&&(z=H.value.expires_day),U==="week"&&(z=H.value.expires_week),U==="month"&&(z=H.value.expires_month)),z}let ne=F("amColors"),qe=h(()=>({"--am-c-fcip-success-op20":ae(ne.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ne.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ne.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ne.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ne.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ne.value.colorBtnSec,.5)})),Ee=h(()=>({"--am-c-fcip-bgr":ne.value.colorMainBgr,"--am-c-fcip-text":ne.value.colorMainText,"--am-c-fcip-success":ne.value.colorSuccess,"--am-c-fcip-primary":ne.value.colorPrimary,"--am-c-scroll-op30":ae(ne.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ne.value.colorPrimary,.1),"--am-font-family":Me.fontFamily}));return(X,U)=>(t(),i(Z,null,[e($e)?u("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:m,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(S)?"":"no-scroll"}`,style:re(e(qe))},Ot({heading:N(()=>{var z,te;return[a("div",{class:R([[{"am-tablet":e(y)<=678},{"am-mobile":e(y)<450}],"am-fcip__header-top"])},[a("div",Tn,[a("span",Bn,[a("span",null,l(e(P).name),1)]),e(k).packageBadge.visibility?(t(),i("div",Fn,[zn,a("span",null,l(e(H).package),1)])):u("",!0)]),a("div",An,[e(P).discount&&e(k).packagePrice.visibility?(t(),i("span",Rn,l(`${e(H).save} ${e(P).discount}%`),1)):u("",!0),e(k).packagePrice.visibility?(t(),i("span",Mn,l(e(P).price?e(Ke)(e(Vt)(e(P))):e(H).free),1)):u("",!0),e(P).price&&((te=(z=e(k).tax)==null?void 0:z.visibility)!=null?te:!0)&&e(yt)(e(d),e(P).id,"package")?(t(),i("span",Nn,[e(C).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(H).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(H).incl_tax),1)],64))])):u("",!0),a("span",On,[G(Ae,{type:e(k).bookingBtn.buttonType,onClick:Ce},{default:N(()=>[pe(l(e(H).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(p).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(oe).length?(t(),i("div",Vn,[a("div",Un,[e(p).package.length!==1&&e(k).packageBadge.visibility?(t(),i("div",Wn,[jn,a("span",null,l(e(ie).name),1)])):u("",!0),e(k).packageDuration.visibility?(t(),i("div",Hn,[qn,e(P).endDate?(t(),i("span",Gn,l(`${e(H).expires_at} ${e(P).endDate.split(" ")[0]}`),1)):e(P).durationCount?(t(),i("span",Jn,l(`${e(H).expires_after} ${e(P).durationCount} ${De(e(P).durationCount,e(P).durationType)}`),1)):(t(),i("span",Yn,l(e(H).without_expiration),1))])):u("",!0),e(k).packageCapacity.visibility?(t(),i("div",Qn,Kn)):u("",!0),e(oe).length&&e(k).packageLocation.visibility?(t(),i("div",eo,[to,a("span",null,l(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(H).multiple_locations),1)])):u("",!0)])])):u("",!0)]}),content:N(()=>[e(P).gallery.length?(t(),i("div",ao,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(P).gallery.length===1},{"am-mobile w100":e(y)<678}]]),style:re({backgroundImage:`url(${e(P).gallery[0].pictureFullPath})`})},null,6),e(ue).length&&e(y)>677?(t(),i("div",io,[(t(!0),i(Z,null,ge(e(ue),(z,te)=>(t(),i("div",{key:te,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(ue).length===1}]),style:re({backgroundImage:`url(${z.pictureFullPath})`})},null,6))),128))])):u("",!0),G(Ae,{"custom-class":`am-fcip__gallery-btn${e(y)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>me(O)?O.value=!0:O=!0)},{default:N(()=>[so,a("span",null,l(e(H).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),G(ut,{modelValue:e(O),"onUpdate:modelValue":U[4]||(U[4]=z=>me(O)?O.value=z:O=z),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(Ee))},[a("div",lo,[a("div",no,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>me(B)?B.value=e(B)<=0?e(P).gallery.length-1:e(B)-1:B=e(B)<=0?e(P).gallery.length-1:e(B)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>me(B)?B.value=e(P).gallery.length-1===e(B)?0:e(B)+1:B=e(P).gallery.length-1===e(B)?0:e(B)+1)})]),(t(!0),i(Z,null,ge(e(P).gallery,(z,te)=>(t(),i("div",{key:te,class:"am-gd__display",style:re({display:te===e(B)?"flex":"none"}),onClick:U[3]||(U[3]=()=>me(B)?B.value=e(P).gallery.length-1===e(B)?0:e(B)+1:B=e(P).gallery.length-1===e(B)?0:e(B)+1)},[a("img",{src:z.pictureFullPath,alt:te},null,8,oo)],4))),128))]),a("div",co,l(`${e(B)+1}/${e(P).gallery.length}`),1),a("div",ro,[(t(!0),i(Z,null,ge(e(P).gallery,(z,te)=>(t(),i("div",{key:te,class:R(["am-gd__thumb",{"am-active":te===e(B)}]),style:re({backgroundImage:`url(${z.pictureFullPath})`}),onClick:()=>me(B)?B.value=te:B=te},null,14,uo))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Ne)(e(P).description)||e(k).packageEmployees.visibility?(t(),i("div",mo,[a("div",po,[e(Ne)(e(P).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(o)==="description"}]),onClick:U[5]||(U[5]=()=>me(o)?o.value="description":o="description")},l(e(H).about_package),3)):u("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(o)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>me(o)?o.value="employees":o="employees")},l(e(H).tab_employees),3)):u("",!0)]),a("div",_o,[e(Ne)(e(P).description)&&e(k).packageDescription.visibility?St((t(),i("div",vo,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(P).description.includes("<!-- Content -->")}]),innerHTML:e(P).description},null,10,fo)],512)),[[xt,e(o)==="description"]]):u("",!0),e(k).packageEmployees.visibility?St((t(),i("div",go,[G($t,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(j),z=>(t(),he(wt,{key:z.id,side:""},{heading:N(()=>[a("div",yo,[a("div",ho,[G(ct,{"item-class":"am-fcip__info-employee__img","item-data":z,"trim-string":3},null,8,["item-data"]),a("div",bo,[pe(l(z.firstName)+" "+l(z.lastName)+" ",1),z.badge?(t(),i("span",{key:0,style:re({background:z.badge.color}),class:"am-fcip__info-employee__badge"},l(z.badge.content),5)):u("",!0)])])])]),default:N(()=>[e(Ne)(z.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":z.description.includes("<!-- Content -->")}]),innerHTML:z.description},null,10,ko)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(o)==="employees"]]):u("",!0)])])):u("",!0),e(k).packageServices.visibility?(t(),i("div",Co,[a("div",$o,[a("span",wo,l(`${e(H).package_includes}:`),1)]),G($t,null,{default:N(()=>[(t(!0),i(Z,null,ge(e(P).bookable,z=>(t(),he(wt,{key:z.id,side:!0},{heading:N(()=>[a("div",So,[G(ct,{"item-class":"am-fcip__include-service__img","item-data":z.service},null,8,["item-data"]),pe(" "+l(z.service.name+(e(P).sharedCapacity?"":" x"+z.quantity)),1)])]),default:N(()=>[a("div",xo,[a("span",null,l(`${e(H).tab_employees}:`),1),(t(!0),i(Z,null,ge(fe(z).slice(0,6),te=>(t(),he(ct,{key:te.id,"item-class":"am-fcip__include-service__info-name","item-data":te,"trim-string":3},null,8,["item-data"]))),128)),fe(z).length>6?(t(),i("span",Io," + "+l(fe(z).length-6),1)):u("",!0),e(Ne)(z.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":z.service.description.includes("<!-- Content -->")}]),innerHTML:z.service.description},null,10,Po)):u("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Do,[a("span",Eo,l(e(H).package_book_service),1)])])):u("",!0),G(ut,{modelValue:e(v),"onUpdate:modelValue":U[7]||(U[7]=z=>me(v)?v.value=z:v=z),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ce),onClosed:Fe},{default:N(()=>[G(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:N(()=>[G(Ut,{"btn-string":e(H).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:Y},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Lo,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,To),a("div",Bo,l(e(H).oops),1),a("div",Fo,l(e(H).no_package_services),1),a("div",zo,[a("a",Ao,l(e(H).add_services_url)+"\xA0 ",1)])],512)):u("",!0)],64))}});const No={name:"CatalogSkeleton"},Oo=Object.assign(No,{setup(f){let w=x(null),m=x(0);window.addEventListener("resize",y);function y(){w.value&&(m.value=w.value.offsetWidth)}Re(()=>{w.value&&(m.value=w.value.offsetWidth)});let C=h(()=>m.value<=500?"am-w100":m.value<=600?"am-w50":m.value<=768?"am-w33":"");return(T,d)=>{const s=Ga,p=qa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:w,class:"am-skeleton-catalog__wrapper"},[G(p,{animated:"",class:"am-skeleton-catalog"},{template:N(()=>[(t(!0),i(Z,null,ge(new Array(8),b=>(t(),i("div",{key:b,class:R(["am-skeleton-catalog__item",e(C)])},[G(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Uo=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wo=["href"],jo={name:"CatalogFormWrapper"},Ho=Object.assign(jo,{emits:["isRestored"],setup(f,{emit:w}){let m=F("isMounted"),y=F("licence"),C=x(null),T=x(20);const d=F("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",p);function p(){C.value&&(s.value=C.value.offsetWidth)}Re(()=>{S.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),gt(S,{},"ViewContent","appointment",null,null),p(),m.value=!0,ea("scrollForm",{offsetFromTop:T})});let b=x(!1);const D=F("settings"),k=F("shortcodeData"),S=at();S.commit("entities/setPreselected",k.value),S.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:y,loadEntities:k.value.trigger||window.ameliaShortcodeData.filter(c=>!c.hasApiCall).length===window.ameliaShortcodeData.length?!0:k.value.hasApiCall,showHidden:!1});const _=Ie(Li),V=Ie(ml),ie=Ie(Ln),P=Ie(Mo);let B=x([_,V]),o=x(0),j=x(null);se("categorySelected",j);let oe=x([]);se("availableCategories",oe);let q=x("");se("itemType",q),Ct(q,()=>{q.value==="appointment"&&B.value.push(ie),q.value==="package"&&B.value.push(P),q.value===""&&B.value.forEach((c,K)=>{c.name==="CategoryService"&&fe(B.value,K),c.name==="CategoryPackage"&&fe(B.value,K)})});function fe(c,K){c.splice(K,1)}function $e(){o.value=o.value+1;let c=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:c,behavior:"smooth"})}function O(){o.value=o.value-1}se("changingPageFunctions",{nextPage:$e,previousPage:O});let ue=h(()=>S.getters["entities/getReady"]),Y=h(()=>S.state.entities);se("amEntities",Y);function v(){let c=S.getters["entities/getPreselected"];if(k.value.categories_hidden&&c.category.length!==1&&(oe.value=JSON.parse(JSON.stringify(di(Y.value,k.value))),j.value=parseInt(oe.value.length?oe.value[0].id:null),S.commit("booking/setCategoryId",parseInt(j.value)),Te(()=>{let K=B.value.findIndex(ye=>ye.name==="CategoriesList");B.value.splice(K,1)})),c.category.length===1&&(S.commit("booking/setCategoryId",parseInt(c.category)),j.value=parseInt(c.category[0]),oe.value=JSON.parse(JSON.stringify(Y.value.categories.filter(K=>K.id===parseInt(c.category[0])&&K.status==="visible"&&K.serviceList.length&&!!ht(k,K,Y.value).length))),Te(()=>{let K=B.value.findIndex(ye=>ye.name==="CategoriesList");B.value.splice(K,1)})),c.service.length===1){S.commit("booking/setServiceId",parseInt(c.service[0]));let K=S.getters["entities/getService"](parseInt(c.service[0]));j.value=K?parseInt(K.categoryId):null,S.commit("booking/setCategoryId",K?parseInt(K.categoryId):null),Te(()=>{B.value=[],B.value.push(ie)})}c.employee.length===1&&S.commit("booking/setEmployeeId",parseInt(c.employee[0])),c.location.length===1&&S.commit("booking/setLocationId",parseInt(c.location[0])),c.package.length===1&&(S.commit("booking/setPackageId",parseInt(c.package[0])),B.value=[],B.value.push(P)),c.show==="packages"?S.commit("booking/setBookableType","package"):S.commit("booking/setBookableType","appointment")}let ce=h(()=>ue.value?Ya(S,k.value):null);se("restoreFormData",ce),Ct(ue,c=>{c&&(v(),b.value=S.getters["entities/getServices"].length===0||S.getters["entities/getEmployees"].length===0,ce.value&&(q.value=S.state.booking.appointment.type,Te(()=>{o.value=B.value.length-1,j.value=S.state.booking.appointment.categoryId,w("isRestored",ce.value)})))});let Ce=h(()=>D.customizedData&&"cbf"in D.customizedData?D.customizedData.cbf:ot.cbf);se("customizedDataForm",Ce);const le=x(D.customizedData?D.customizedData.fonts:ot.fonts);se("amFonts",le);let Q=h(()=>D.customizedData&&"cbf"in D.customizedData?D.customizedData.cbf.colors:ot.cbf.colors);se("amColors",Q);let Pe=h(()=>({"--am-c-primary":Q.value.colorPrimary,"--am-c-success":Q.value.colorSuccess,"--am-c-error":Q.value.colorError,"--am-c-warning":Q.value.colorWarning,"--am-c-main-bgr":Q.value.colorMainBgr,"--am-c-main-heading-text":Q.value.colorMainHeadingText,"--am-c-main-text":Q.value.colorMainText,"--am-c-sb-bgr":Q.value.colorSbBgr,"--am-c-sb-text":Q.value.colorSbText,"--am-c-inp-bgr":Q.value.colorInpBgr,"--am-c-inp-border":Q.value.colorInpBorder,"--am-c-inp-text":Q.value.colorInpText,"--am-c-inp-placeholder":Q.value.colorInpPlaceHolder,"--am-c-drop-bgr":Q.value.colorDropBgr,"--am-c-drop-text":Q.value.colorDropText,"--am-c-card-bgr":Q.value.colorCardBgr,"--am-c-card-text":Q.value.colorCardText,"--am-c-card-border":Q.value.colorCardBorder,"--am-c-btn-prim":Q.value.colorBtnPrim,"--am-c-btn-prim-text":Q.value.colorBtnPrimText,"--am-c-btn-sec":Q.value.colorBtnSec,"--am-c-btn-sec-text":Q.value.colorBtnSecText,"--am-c-skeleton-op20":ae(Q.value.colorMainText,.2),"--am-c-skeleton-op60":ae(Q.value.colorMainText,.6),"--am-font-family":le.value.fontFamily}));function Fe(){let c=document.head||document.getElementsByTagName("head")[0];c.querySelector("#amCustomFont")&&c.querySelector("#amCustomFont").remove();let K=`@font-face {font-family: '${le.value.fontFamily}'; src: url(${le.value.fontUrl});}`,ye=document.createElement("style");c.appendChild(ye),ye.setAttribute("type","text/css"),ye.setAttribute("id","amCustomFont"),ye.appendChild(document.createTextNode(K))}le.value.customFontSelected&&Fe();let Me=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",Me),(c,K)=>(t(),i(Z,null,[le.value.customFontSelected?u("",!0):(t(),i(Z,{key:0},[Vo,Uo,a("link",{rel:"stylesheet",type:"text/css",href:`${e(d).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wo)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Pe))},[e(ue)&&e(B).length?(t(),he(ta(e(B)[e(o)]),{key:0})):(t(),he(Oo,{key:1}))],4),G(e(Ja))],64))}});var Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));export{Jo as C,It as _,ci as a,Ut as b,ct as c,Wt as d,Ho as e};
