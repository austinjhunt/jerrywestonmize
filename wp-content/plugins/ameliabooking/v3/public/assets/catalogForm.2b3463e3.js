import{d as Qt,_ as St,u as ot,o as t,c as i,a,b as e,e as he,w as A,f as me,t as n,g as da,h as ze,i as c,j as q,k as Wt,l as z,m as y,n as ie,F as X,r as ye,p as R,q as re,s as k,v as xe,x as Fe,y as $t,z as Xt,A as nt,B as at,I as ma,C as vt,D as se,E as ut,G as xt,H as Se,J as pa,K as _a,L as va,M as fa,N as ga,O as ya,P as ha,Q as ba,R as ka,S as Ca,T as $a,U as wa,V as Sa,W as xa,X as Qe,Y as Nt,Z as Pa,$ as Dt,a0 as jt,a1 as _t,a2 as Zt,a3 as Ia,a4 as La,a5 as ea,a6 as Ue,a7 as Xe,a8 as Ea,a9 as Da,aa as de,ab as Ta,ac as Ht,ad as Ba,ae as ta,af as za,ag as Fa,ah as aa,ai as Aa,aj as Ra,ak as Mt,al as Pt,am as pt,an as Vt,ao as qt,ap as ft,aq as It,ar as Ne,as as Lt,at as Et,au as Na,av as Ma,aw as Va,ax as Oa,ay as Ua,az as Wa}from"./stepForm.73cd976f.js";const ja={class:"am-cat__header-inner"},Ha={class:"am-cat__back-btn"},qa={key:0,class:"am-cat__cart-btn"},Ga={class:"am-cat__cart-number"},Ja={name:"MainHeader"},Gt=Object.assign(Ja,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(h,{emit:B}){const f=h;let S=Qt({components:{IconComponent:St},template:'<IconComponent icon="arrow-left"></IconComponent>'}),x=Qt({components:{IconComponent:St},template:'<IconComponent icon="cart"/>'});function L(){B("goBack")}const d=ot();function s(){Wt(d),B("goToCart")}return(m,g)=>(t(),i("div",ja,[a("div",Ha,[e(f).backBtnVisibility?(t(),he(ze,{key:0,prefix:e(S),category:"secondary",type:h.btnType,size:h.btnSize,onClick:L,onKeydown:da(L,["enter"])},{default:A(()=>[me(n(e(f).btnString),1)]),_:1},8,["prefix","type","size","onKeydown"])):c("",!0)]),e(f).cartBtnVisibility?(t(),i("div",qa,[a("span",Ga,n(e(f).cartItemsNumber),1),q(ze,{"aria-label":"Go to cart button",category:"secondary",type:h.btnType,size:h.btnSize,round:!0,"icon-only":!0,icon:e(x),onClick:s},null,8,["type","size","icon"])])):c("",!0)]))}});const Ya={class:"am-cat__sidemenu-item__wrapper"},Qa=["onClick"],Xa={key:0,class:"am-cat__sidemenu-footer"},Za={class:"am-cat__sidemenu-footer__text"},Ka=["href"],ei={name:"SideMenu"},ti=Object.assign(ei,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(h,{emit:B}){const f=h;function S(d){B("click",d)}let x=z("amColors"),L=y(()=>({"--am-c-csm-text-op10":ie(x.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(x.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(x.value.colorSbText,.6),"--am-c-csm-text-op80":ie(x.value.colorSbText,.8)}));return(d,s)=>(t(),i("div",{role:"navigation",class:"am-cat__sidemenu",style:re(e(L))},[a("div",Ya,[(t(!0),i(X,null,ye(h.menuItems,(m,g)=>(t(),i("div",{key:g,class:R(["am-cat__sidemenu-item",{"am-active":e(f).initSelection===m[e(f).identifier]}]),onClick:()=>S(m)},n(m[e(f).nameIdentifier]),11,Qa))),128))]),e(f).companyEmail?(t(),i("div",Xa,[a("span",Za,n(e(f).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(f).companyEmail}`},n(e(f).companyEmail),9,Ka)])):c("",!0)],4))}});const ai={name:"MainContent"},Jt=Object.assign(ai,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(h,{expose:B}){let f=k(null),S=k(0),x=k(null),L=k(0),d=k(null),s=k(0),m=k(null),g=k(null),_=k(0);window.addEventListener("resize",O);function O(){xe(()=>{f.value&&(S.value=f.value.offsetWidth),x.value&&(L.value=x.value.offsetWidth),d.value&&(s.value=d.value.offsetWidth)})}Fe(()=>{xe(()=>{if(d.value&&m.value){let N=d.value.offsetHeight-m.value.offsetHeight-2;_.value=N<=656?656:N}O()})}),B({catHeaderWidth:S,catFormWidth:s,catContainerWidth:L});let $=z("amColors"),v=y(()=>({"--am-h-cat-content":`${_.value}px`,"--am-c-scroll-op30":ie($.value.colorPrimary,.3),"--am-c-scroll-op10":ie($.value.colorPrimary,.1)}));return(N,V)=>(t(),i("div",{class:R(["am-cat__wrapper",h.wrapperClass]),role:"main"},[a("div",{ref_key:"catHeader",ref:f,class:"am-cat__header"},[$t(N.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:x,class:"am-cat__main"},[$t(N.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",h.formClass]),style:re(e(v))},[a("div",{ref_key:"catHeading",ref:m,class:R(["am-cat__heading",h.headingClass])},[$t(N.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:g,class:R(["am-cat__content",h.contentClass])},[$t(N.$slots,"content")],2)],6)],512)],2))}}),ii={name:"AmImagePlaceholder"},dt=Object.assign(ii,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(h){const B=h;function f(x){return x.pictureFullPath?{backgroundImage:`url(${x.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function S(x){return x.pictureFullPath?"":("firstName"in x?`${x.firstName} ${x.lastName}`:x.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,B.trimString).replace(/[^\w\s]/g,"")}return(x,L)=>(t(),i("span",{class:R(e(B).itemClass),style:re({...f(e(B).itemData)})},n(S(e(B).itemData)),7))}}),Ot=nt(window.wpAmeliaSettings),Kt=nt(window.wpAmeliaLabels);function ia(h,B,f,S=null,x=null){let L=[],d=h&&h.service?h.service.split(",").map(s=>parseInt(s)):null;return B&&B.serviceList.forEach(s=>{S?S in f.entitiesRelations&&s.id in f.entitiesRelations[S]&&(x?f.entitiesRelations[S][s.id].find(m=>m===x):!0)&&s.status==="visible"&&s.show&&!L.filter(m=>m===s.id).length&&(!d||d.includes(s.id))&&L.push(s.id):f.employees.forEach(m=>{m.id in f.entitiesRelations&&s.id in f.entitiesRelations[m.id]&&(x?f.entitiesRelations[m.id][s.id].find(g=>g===x):!0)&&s.status==="visible"&&s.show&&!L.filter(g=>g===s.id).length&&(!d||d.includes(s.id))&&L.push(s.id)})}),L}function sa(h,B){let f=[],S=[];h.employees.forEach(d=>{if(d.id in h.entitiesRelations&&B in h.entitiesRelations[d.id]){let s=d.serviceList.find(m=>m.id===B);f.push(s.maxCapacity),S.push(s.minCapacity)}});let x=S.reduce((d,s)=>s<d?s:d,S[0]),L=f.reduce((d,s)=>s>d?s:d,f[0]);return x!==L?`${x}/${L}`:x}function la(h){let B=Math.floor(h/3600),f=h/60%60;return(B?B+Kt.h+" ":"")+" "+(f?f+Kt.min:"")}function mt(h,B){let f=[];h.employees.forEach(L=>{if(L.id in h.entitiesRelations&&B in h.entitiesRelations[L.id]){let d=L.serviceList.find(s=>s.id===B);f.push(d.price)}});let S=f.reduce((L,d)=>d<L?d:L,f[0]),x=f.reduce((L,d)=>d>L?d:L,f[0]);return S!==x?{price:`${at(S,!Ot.payments.hideCurrencySymbolFrontend)} - ${at(x,!Ot.payments.hideCurrencySymbolFrontend)}`,min:S,max:x}:{price:at(S,Ot.payments.hideCurrencySymbolFrontend),min:S,max:x}}function lt(h,B){let f=[];return h.employees.forEach(S=>{S.id in h.entitiesRelations&&B in h.entitiesRelations[S.id]&&h.entitiesRelations[S.id][B].length&&h.locations.forEach(x=>{h.entitiesRelations[S.id][B].some(L=>L===x.id)&&!f.find(L=>L===x.id)&&f.push(x)})}),f}function si(h,B){let f=[],S=Object.keys(h.entitiesRelations);return B.bookable.forEach(x=>{let L=[];S.forEach(d=>{h.entitiesRelations[d]&&h.entitiesRelations[d][x.service.id]&&!L.find(s=>s?s.id===parseInt(d):!0)&&L.push(h.employees.find(s=>s.id===parseInt(d)))}),L.length||f.push(!1)}),f.filter(x=>x===!1).length}function li(h,B,f){let S=[],x=Object.keys(h.entitiesRelations),L=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,d=k(L?h.unfilteredEmployees.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):h.unfilteredEmployees);return B.bookable.forEach(s=>{let m=[];s.providers.length?s.providers.forEach(g=>{s.locations.length?s.locations.forEach(_=>{d.value.find(O=>O.id===g.id)&&h.entitiesRelations[g.id]&&h.entitiesRelations[g.id][s.service.id]&&h.entitiesRelations[g.id][s.service.id].indexOf(_.id)!==-1&&!m.find(O=>O.id===g.id)&&m.push(d.value.find(O=>O.id===g.id))}):d.value.find(_=>_.id===g.id)&&!m.find(_=>_.id===g.id)&&m.push(d.value.find(_=>_.id===g.id))}):x.forEach(g=>{s.locations.length?s.locations.forEach(_=>{h.entitiesRelations[g]&&h.entitiesRelations[g][s.service.id]&&h.entitiesRelations[g][s.service.id].indexOf(_.id)!==-1&&d.value.find(O=>O.id===parseInt(g))&&!m.find(O=>O.id===parseInt(g))&&m.push(d.value.find(O=>O.id===parseInt(g)))}):h.entitiesRelations[g]&&h.entitiesRelations[g][s.service.id]&&d.value.find(_=>_.id===parseInt(g))&&!m.find(_=>_.id===parseInt(g))&&m.push(d.value.find(_=>_.id===parseInt(g)))}),S.push(!!m.length)}),!S.filter(s=>s===!1).length}function oa(h,B,f){let S=[],x=Object.keys(h.entitiesRelations),L=f&&f.employee?f.employee.split(",").map(s=>parseInt(s)):null,d=k(L?h.unfilteredEmployees.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):h.unfilteredEmployees);return B.bookable.forEach(s=>{s.providers.length?s.providers.forEach(m=>{s.locations.length?s.locations.forEach(g=>{d.value.find(_=>_.id===m.id)&&h.entitiesRelations[m.id]&&h.entitiesRelations[m.id][s.service.id]&&h.entitiesRelations[m.id][s.service.id].indexOf(g.id)!==-1&&!S.find(_=>_.id===m.id)&&S.push(d.value.find(_=>_.id===m.id))}):d.value.find(g=>g.id===m.id)&&!S.find(g=>g.id===m.id)&&S.push(d.value.find(g=>g.id===m.id))}):x.forEach(m=>{s.locations.length?s.locations.forEach(g=>{h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id]&&h.entitiesRelations[m][s.service.id].indexOf(g.id)!==-1&&d.value.find(_=>_.id===parseInt(m))&&!S.find(_=>_.id===parseInt(m))&&S.push(d.value.find(_=>_.id===parseInt(m)))}):h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id]&&d.value.find(g=>g.id===parseInt(m))&&!S.find(g=>g.id===parseInt(m))&&S.push(d.value.find(g=>g.id===parseInt(m)))})}),S}function Ut(h,B,f){let S=[],x=Object.keys(h.entitiesRelations),L=f&&f.location?f.location.split(",").map(s=>parseInt(s)):null,d=k(L?h.unfilteredLocations.filter(s=>L.map(m=>parseInt(m)).includes(s.id)):h.unfilteredLocations);return B.bookable.forEach(s=>{s.locations.length?s.locations.forEach(m=>{d.value.find(g=>g.id===m.id)&&!S.find(g=>g.id===m.id)&&S.push(d.value.find(g=>g.id===m.id))}):x.forEach(m=>{d.value.forEach(g=>{m in h.entitiesRelations&&s.service.id in h.entitiesRelations[m]&&h.entitiesRelations[m][s.service.id].indexOf(g.id)!==-1&&d.value.find(_=>_.id===g.id)&&!S.find(_=>_.id===parseInt(g.id))&&S.push(d.value.find(_=>_.id===g.id))})})}),S}function wt(h,B,f=null,S=null){let x=[];return h.categories.forEach(L=>{let d=ia(B,L,h,f,S);L.serviceIdList=d,L.packageList=[],h.packages.forEach(s=>{d.forEach(m=>{s.bookable.filter(g=>g.service.id===m).length&&!L.packageList.filter(g=>g===s.id).length&&s.available&&s.status==="visible"&&!si(h,s)&&li(h,s,B)&&L.packageList.push(s.id)})}),L.status==="visible"&&L.serviceList.length&&!!d.length&&(B.show==="packages"?!!L.packageList.length:!0)&&x.push(L)}),x}const oi={class:"am-fcl__item-inner"},ni={class:"am-fcl__item-name"},ri={class:"am-fcl__item-segments"},ci={key:0,class:"am-fcl__item-segments__item"},ui=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),di={class:"am-fcl__item-segments__item-count"},mi={key:1,class:"am-fcl__item-segments__item"},pi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),_i={class:"am-fcl__item-segments__item-count"},vi={class:"am-fcl__item-footer"},fi=["src","alt"],gi={class:"am-empty__heading"},yi={class:"am-empty__subheading"},hi={class:"am-empty__text"},bi={key:0},ki={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ci={key:1},$i={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},wi={name:"CategoriesList",key:"categoriesList"},Si=Object.assign(wi,{setup(h){const B=z("baseUrls");let f=k(null),S=k(0);window.addEventListener("resize",x);function x(){f.value&&(S.value=f.value.offsetWidth)}Fe(()=>{f.value&&(S.value=f.value.offsetWidth)});let L=y(()=>S.value<=500?"am-w100":S.value<=600?"am-w50":S.value<=768?"am-w33":""),{nextPage:d}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let m=ot(),g=z("amEntities"),_=z("customizedDataForm"),O=y(()=>_.value.categoriesList.options);const $=z("shortcodeData"),v=y(()=>m.getters["entities/getPreselected"]);let N=z("availableCategories"),V=y(()=>N.value),Z=z("categorySelected");function _e(ge){Z.value=ge,m.commit("booking/setCategoryId",parseInt(ge)),vt(m,{},"SelectCategory","appointment",null,null),d()}let l=y(()=>V.value.length===0);const I=z("labels"),ne=z("localLanguage");let K=y(()=>s.general.usedLanguages.includes(ne.value)),ce=y(()=>{let ge=nt({...I});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let te=s.customizedData.cbf.categoriesList.translations;Object.keys(te).forEach(ee=>{te[ee][ne.value]&&K.value?ge[ee]=te[ee][ne.value]:te[ee].default&&(ge[ee]=te[ee].default)})}return ge}),ke=z("amColors"),M=y(()=>({"--am-c-fcl-card-text-op80":ie(ke.value.colorCardText,.8)}));return(ge,te)=>e(l)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:f,class:"am-empty"},[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(v).show!=="packages"?e(ce).no_services_employees:e(ce).no_package_services},null,8,fi),a("div",gi,n(e(ce).oops),1),a("div",yi,n(e(v).show!=="packages"?e(ce).no_services_employees:e(ce).no_package_services),1),a("div",hi,[e(v).show!=="packages"?(t(),i("span",bi,n(e(ce).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ki,n(e(ce).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(t(),i("span",Ci,n(e(ce).and)+"\xA0 ",1)):c("",!0),e(v).show!=="packages"?(t(),i("a",$i,n(e(ce).add_employees_url),1)):c("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:f,class:"am-fcl",role:"main",style:re(e(M))},[(t(!0),i(X,null,ye(e(V),ee=>(t(),i("div",{key:ee.id,class:R(["am-fcl__item",e(L)]),role:"group"},[a("div",oi,[a("div",{class:"am-fcl__item-content",style:re(e(O).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:ee.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(O).cardColor&&e(O).cardColor.visibility?{backgroundColor:e(ie)(ee.color,.1)}:{})},[ee.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${ee.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):c("",!0),a("div",ni,n(ee.name),1),a("div",ri,[(!e(v).show||e(v).show==="services")&&e(O).services.visibility?(t(),i("div",ci,[ui,a("span",di,n(e(ia)(e($),ee,e(g)).length),1)])):c("",!0),(!e(v).show||e(v).show==="packages")&&ee.packageList.length&&e(O).packages.visibility?(t(),i("div",mi,[pi,a("span",_i,n(ee.packageList.length),1)])):c("",!0)])],4),a("div",vi,[q(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(O).cardButton.buttonType,suffix:e(ma),onClick:De=>_e(ee.id)},{default:A(()=>[me(n(e(ce).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const xi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Pi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Ii=["href"],Li={class:"am-fs-sb__step-wrapper",tabindex:"0"},Ei={class:"am-fs-sb__step-inner"},Di={class:"am-fs-sb__step-icon"},Ti={key:0,class:"am-icon-check"},Bi={key:0},zi={key:1},Fi={key:1},Ai={key:0,class:"am-fs-sb__step"},Ri={class:"am-fs-sb__step-inner"},Ni={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Vi={key:0,class:"am-fs-sb__support"},Oi=["aria-label","href"],Ui={key:1,class:"am-icon-phone"},Wi=["aria-label","href"],ji={key:1,class:"am-icon-email"},Hi={key:0,class:"am-fs-sb__menu-text"},qi={key:2,class:"am-no-services"},Gi=["src","alt"],Ji={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Yi={style:{"font-size":"14px"}},Qi={href:"https://wpamelia.com/employees/",rel:"nofollow"},Xi={name:"CategoryBooking"},Yt=Object.assign(Xi,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(h,{emit:B}){const f=h;let S=k(null),x=k();se("containerWidth",x);let L=k(!1);window.addEventListener("resize",d);function d(){S.value&&(x.value=S.value.offsetWidth)}Fe(()=>{xe(()=>{S.value&&(x.value=S.value.offsetWidth)}),vt(l,{containerWidth:x},"ContainerWidth","appointment",null,null)});const s=z("settings"),m=s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew:ut.sbsNew;m&&se("amCustomize",m);let g=y(()=>{let r={heading:!0,phone:!0,email:!0};return"supportHeading"in m.sidebar.options&&(r.heading=m.sidebar.options.supportHeading.visibility),"companyPhone"in m.sidebar.options&&(r.phone=m.sidebar.options.companyPhone.visibility),"companyEmail"in m.sidebar.options&&(r.email=m.sidebar.options.companyEmail.visibility),r});const _=k(s.customizedData?s.customizedData.fonts:ut.fonts);se("amFonts",_);let O=k(!1);se("sidebarCollapsed",O);let $=k(""),v=z("bookingDialogWidth");xt(O,r=>{r?setTimeout(()=>{$.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):($.value="",v.value="760px")}),Fe(()=>{m.sidebar.options.self.visibility||(v.value="520px")});let N=k(null),V=k(0);Fe(()=>{setTimeout(()=>{xe(()=>{N.value&&setTimeout(()=>{N.value&&(V.value=N.value.offsetHeight)},200)})},800)});let Z=k(m.sidebar?m.sidebar.options.self.visibility:!0);const _e=z("baseUrls"),l=ot();let I=y(()=>{let r=l.getters["entities/getOriginalPreselected"],b={category:l.state.booking.appointment.categoryId?[l.state.booking.appointment.categoryId]:[],counter:l.state.entities.preselected.counter,employee:l.state.booking.appointment.providerId?[l.state.booking.appointment.providerId]:[],hasApiCall:l.state.entities.preselected.hasApiCall,location:l.state.booking.appointment.locationId?[l.state.booking.appointment.locationId]:[],service:l.state.booking.appointment.serviceId?[l.state.booking.appointment.serviceId]:[],package:l.state.booking.packageId?[l.state.booking.packageId]:[],show:l.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(r).forEach(P=>{P in b||(b[P]=r[P])}),b});l.commit("entities/setPreselected",I.value);let ne=z("restoreFormData");const K=Se(pa),ce=Se(_a),ke=Se(va),M=Se(fa),ge=Se(ga),te=Se(ya),ee=Se(ha),De=Se(ba),ve=Se(ka),Q=Se(Ca),Ce=Se($a),Me=Se(wa),E=Se(Sa),W=Se(xa),u=k(Qe(l)?[K,te,Q,Ce,ve]:[K,te,Ce,ve]);se("stepsArray",u);const ue=z("labels"),Be=z("localLanguage");let pe=y(()=>s.general.usedLanguages.includes(Be.value)),We=Nt(l),j=y(()=>{let r=nt({...ue});return s.customizedData&&s.customizedData.sbsNew&&Object.keys(s.customizedData.sbsNew).forEach(b=>{if(b!=="colors"&&s.customizedData.sbsNew[b].translations){let P=s.customizedData.sbsNew[b].translations;Object.keys(P).forEach(Y=>{P[Y][Be.value]&&pe.value?r[Y]=P[Y][Be.value]:P[Y].default&&(r[Y]=P[Y].default)})}}),r});se("amLabels",j);let Ae=y(()=>{let r={};if(s.customizedData&&s.customizedData.sbsNew){let b=s.customizedData.sbsNew[u.value[C.value].key]?s.customizedData.sbsNew[u.value[C.value].key].translations:null;s.customizedData&&b&&Object.keys(b).forEach(P=>{b[P][Be.value]&&pe.value?r[P]=b[P][Be.value]:b[P].default&&(r[P]=b[P].default)})}return Object.keys(r).length?r:ue}),je=y(()=>{let r="filled";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[u.value[C.value].key]&&(r=s.customizedData.sbsNew[u.value[C.value].key].options.primaryFooterButton.buttonType),r});se("primFooterBtnType",je),se("primDescBtnType",je);let ae=y(()=>{let r="text";return s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew[u.value[C.value].key]&&s.customizedData.sbsNew[u.value[C.value].key].options.secondaryFooterButton&&(r=s.customizedData.sbsNew[u.value[C.value].key].options.secondaryFooterButton.buttonType),r}),Re=y(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),Ie=y(()=>s.customizedData&&s.customizedData.sbsNew&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function G(r,b){let P="";if(s.customizedData&&s.customizedData.sbsNew){let Y=s.customizedData.sbsNew[b]?s.customizedData.sbsNew[b].translations:null;s.customizedData&&Y&&Y[r]&&(P===""&&Y[r][Be.value]&&pe.value?P=Y[r][Be.value]:P===""&&Y[r].default&&(P=Y[r].default))}return P||ue[r]}let U=y(()=>Pa(l.getters["entities/getEmployeeServices"](l.getters["booking/getSelection"])));function T(){let r=l.getters["entities/getPreselected"];if(r.show==="packages")r.package.length>0&&(u.value.splice(0,1),le.value.splice(0,1),we()),p();else{w();let b=l.getters["entities/filteredEmployees"](l.getters["booking/getSelection"]).length<=1,P=!m.initStep.options.employee.visibility,Y=l.getters["entities/filteredLocations"](l.getters["booking/getSelection"]).length<=1,Pe=!m.initStep.options.location.visibility;r.service.length>0&&(r.employee.length>0||b||P)&&(r.location.length>0||Y||Pe)&&(U.value.availability?(u.value.splice(0,1,W),le.value.splice(0,1)):(u.value.splice(0,1),le.value.splice(0,1)),p())}}function J(r,b,P,Y){r.value.map((Ge,tt)=>b.includes(Ge.name)?tt:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{r.value.splice(Ge,1)});let Ye={value:Y};P.forEach(Ge=>{r.value.indexOf(Ge)===-1&&(l.getters["entities/getPreselected"].show==="packages"&&l.getters["entities/getPreselected"].package.length>0?r.value.splice(Ye.value,0,Ge):r.value.splice(Ye.value+1,0,Ge))})}se("goToPackageStep",{goToPackageStep:Te});function Te(r){l.commit("booking/setPackageId",r.id),l.commit("booking/setBookableType","package"),l.commit("booking/setMultipleAppointments",Dt(0,r)),l.commit("booking/setMultipleAppointmentsIndex",0);let b=r.bookable.reduce((Pe,Ye)=>Pe+Ye.maximumScheduled,0),P=[],Y=[];u.value[0]!==ce&&P.push("ExtrasStep"),u.value[0]!==te&&P.push("DateTimeStep"),u.value[0]!==Q&&P.push("CartStep"),b>0?Y=Y.concat([De,ee,ke]):Y.push(ke),J(u,P,Y,C.value),J(le,P,[],C.value),p(),Ve()}function we(){let b=l.state.entities.packages.find(Pe=>Pe.id===l.getters["booking/getPackageId"]).bookable.reduce((Pe,Ye)=>Pe+Ye.maximumScheduled,0),P=[],Y=[];u.value.find(Pe=>Pe.name==="ExtrasStep")&&P.push("ExtrasStep"),u.value.find(Pe=>Pe.name==="DateTimeStep")&&P.push("DateTimeStep"),b>0?Y=Y.concat([De,ee,ke]):Y.push(ke),J(u,P,Y,C.value),J(le,P,[],C.value),p(),Ve()}function Je(){l.commit("booking/setBookableType","appointment"),l.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),l.commit("booking/setPackageId",null),l.commit("booking/setMultipleAppointmentsIndex",0),_t(l);let r=[];u.value[0]!==te&&(Qe(l)&&r.push(Q),r.push(te)),u.value[0]!==ce&&F.value&&F.value.length&&r.push(ce),J(u,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],r,C.value-1),J(le,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],C.value),p()}se("goToRecurringStep",{goToRecurringStep:Le}),se("removeRecurringStep",{removeRecurringStep:H});function Le(){Qe(l)&&Ke();let r=0;for(let b=0;b<u.value.length;b++)if(u.value[b].name==="DateTimeStep"){r=b;break}u.value.splice(r+1,0,M),u.value.splice(r+2,0,ge),p(),Ve()}function H(){for(let r=u.value.length-1;r>=0;r--)(u.value[r].name==="RecurringStep"||u.value[r].name==="RecurringSummary")&&u.value.splice(r+1,1);Qe(l)&&Ee(C.value),p()}let F=y(()=>{let r=l.getters["entities/getService"](l.getters["booking/getServiceId"]);return r?r.extras:[]});function w(){F.value.length&&!u.value.find(r=>r.name==="ExtrasStep")&&(u.value.splice(C.value+1,0,ce),p()),le.value.find(r=>r.name==="ExtrasStep")&&!Object.keys(F.value).length&&(u.value.splice(1,1),le.value.splice(1,1)),f.showCart||_t(l)}se("initDataChanges",{changeInitStepDataService:w});const C=k(0);se("stepIndex",C);let gt=z("stepName",k(""));xt(C,(r,b)=>{r<le.value.length&&(le.value[b].selected=!1,le.value[r].selected=!0),r===le.value.length&&(le.value[b].selected=!1),gt.value=u.value[r].name});let yt=k(!1);se("goBackToPackageBooking",yt);function Tt(){kt(!1),$e.value||(u.value[C.value].name===ke.name&&Je(),u.value[C.value].name===M.name&&(u.value.splice(C.value,2),le.value.splice(C.value,2),Qe(l)&&(u.value.splice(C.value,0,Q),J(le,[],[],C.value),p())),u.value[C.value].name===De.name&&(yt.value=!0),C.value=C.value-1),st.value=!st.value}function Ve(){$e.value||(le.value[C.value].finished=!0,C.value=C.value+1)}let Ze=y(()=>l.getters["entities/getReady"]),rt=y(()=>l.getters["booking/getLoading"]),He=y(()=>l.getters["booking/getBooked"]),it=y(()=>l.getters["booking/getPaymentGateway"]),ct=k(!1),ht=k(!1),st=k(!1);function bt(){ct.value=!0}function Bt(){ct.value=!1}function zt(){st.value=!0}function Ft(){st.value=!1}function kt(r){ht.value=r}function At(){He.value&&(He.value.customerCabinetUrl?window.location.href=He.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:At});let $e=k(!1);se("changingStepsFunctions",{nextStep:Ve,previousStep:Tt,footerButtonClick:bt,footerButtonReset:Bt,footerBtnDisabledUpdater:kt,headerButtonPreviousClick:zt,headerButtonPreviousReset:Ft,footerBtnDisabled:ht,footerButtonClicked:ct,headerButtonPreviousClicked:st,navigateInsideStep:$e});const le=k([]);se("sidebarSteps",le);function Ct(r){le.value[C.value].stepSelectedData.filter(b=>b.reference===r.reference).length?le.value[C.value].stepSelectedData.forEach((b,P,Y)=>{b.reference===r.reference&&r.value&&r.value!==b.value&&(b.value=r.value),b.reference===r.reference&&!r.value&&Y.splice(P,1)}):r.value&&le.value[C.value].stepSelectedData.push(r),le.value[C.value].stepSelectedData.sort((b,P)=>b.position-P.position)}function D(){u.value.forEach((r,b)=>{if(r.name!=="CongratulationsStep"){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:j.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===C.value};le.value.splice(b,0,Y)}})}jt(()=>{D(),T()}),Fe(()=>{switch(l.getters["booking/getBookableType"]){case"appointment":f.showCart||_t(l);break}if(f.showCart&&Zt(u,C),ne.value){u.value.splice(0,u.value.length),le.value.splice(0,le.value.length),C.value=0,ne.value.steps.forEach(b=>{switch(b){case"packageStep":u.value.push(E);break;case"bringingAnyone":u.value.push(W);break;case"initStep":u.value.push(K);break;case"packageInfoStep":u.value.push(ke);break;case"packageAppointmentsStep":u.value.push(ee);break;case"packageAppointmentsListStep":u.value.push(De);break;case"extrasStep":u.value.push(ce);break;case"dateTimeStep":u.value.push(te);break;case"recurringStep":u.value.push(M);break;case"recurringSummary":u.value.push(ge);break;case"cartStep":u.value.push(Q);break;case"infoStep":u.value.push(Ce);break;case"paymentStep":u.value.push(Me);break;case"congratulations":u.value.push(ve);break}let P=ne.value.sidebar.find(Y=>Y.key===b);p(),typeof P<"u"&&P.data&&P.data.forEach(Y=>{Ct({reference:Y.reference,position:Y.position,value:Y.value})}),C.value++}),l.commit("booking/setLoading",!1);let r=-1;ne.value.result==="success"?r=u.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(r=u.value.length-2);for(let b=0;b<=r;b++)u.value[b].finished=!0;for(let b=0;b<=r-1;b++)le.value[b].finished=!0,le.value[b].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(le.value[r].finished=!1,le.value[r].selected=!0),C.value=r}});function p(){u.value.forEach((r,b)=>{if(r.name!=="CongratulationsStep"&&!le.value.find(P=>P.labelKey===r.sidebarData.label)){let P=r.sidebarData.label,Y={name:r.name,key:r.key,label:j.value[P],labelKey:P,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===C.value};le.value.splice(b,0,Y)}})}se("sidebarStepsFunctions",{sidebarDataCollector:Ct}),se("addPaymentsStep",{addPaymentsStep:o}),se("removePaymentsStep",{removePaymentsStep:oe});function o(){u.value.splice(u.value.length-1,0,Me),p()}function oe(){let r=["PaymentStep"];J(u,r,[],C.value),J(le,r,[],C.value)}function Ee(r){J(u,[],[Q],r),J(le,[],[],r)}function Ke(){J(u,["CartStep"],[],C.value),J(le,["CartStep"],[],C.value)}function et(){if(l.getters["entities/getPreselected"].show==="packages"){let b=l.getters["booking/getPackageId"]?[l.getters["entities/getPackage"](l.getters["booking/getPackageId"])]:l.getters["entities/getPackages"];return b.length>0&&b.filter(P=>P.price>0).length===b.length}if(!l.getters["booking/getPackageId"]){let b=l.getters["booking/getServiceId"]?[l.getters["entities/getService"](l.getters["booking/getServiceId"])]:l.getters["entities/getServices"],P=0;for(let Y of b){let Pe=l.getters["booking/getEmployeeId"]?l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])?[l.getters["entities/getEmployee"](l.getters["booking/getEmployeeId"])]:[]:l.getters["entities/getEmployees"],Ye=l.getters["booking/getBookingDuration"];if(Pe.filter(tt=>tt.serviceList.find(Oe=>Oe.id===Y.id&&(Oe.price>0||Oe.customPricing&&Oe.customPricing.enabled&&(Object.values(Oe.customPricing.durations).length===Object.values(Oe.customPricing.durations).filter(Rt=>Rt.price>0).length||Ye&&Oe.customPricing.durations[Ye].price>0)))).length===Pe.filter(tt=>tt.serviceList.find(Oe=>Oe.id===Y.id)).length)P++;else{let tt=l.getters["booking/getSelectedExtras"].length?l.getters["booking/getSelectedExtras"]:[];tt.length>0&&tt.reduce((Oe,Rt)=>Oe+Rt.price,0)>0&&P++}}return b.length>0&&P===b.length}return l.getters["entities/getPackage"](l.getters["booking/getPackageId"]).price>0}let qe=y(()=>Nt(l).length?Ia(l)!==0:et());La(()=>{let r=Nt(l);!r[0].serviceId&&Object.keys(r[0].services).length===0&&B("emptiedCart"),!ne.value&&!qe.value?oe():ne.value||u.value.indexOf(Me)===-1&&o()},{flush:"post"});function fe(){le.value.forEach(r=>{r.finished=!1,r.selected=!1}),u.value.forEach(r=>{r.finished=!1,r.selected=!1}),C.value=0,aa(l,!0),Aa(l),_t(l),B("addToCart")}function na(){let r=l.getters["booking/getCurrentCartItem"],b=l.getters["booking/getAllMultipleAppointments"];r?(l.commit("booking/setCartItem",r),l.commit("booking/setCartItemIndex",b.length-1),l.commit("booking/setCurrentCartItem",null)):(b.pop(),l.commit("booking/setCartItemIndex",b.length-1),l.commit("booking/setServiceId",b[b.length-1].serviceId),l.commit("booking/setEmployeeId",b[b.length-1].services[b[b.length-1].serviceId].providerId),l.commit("booking/setLocationId",b[b.length-1].services[b[b.length-1].serviceId].locationId)),Zt(u,C)}let be=y(()=>s.customizedData&&s.customizedData.sbsNew?s.customizedData.sbsNew.colors:ut.sbsNew.colors);se("amColors",be);let ra=y(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ie(be.value.colorMainText,.2),"--am-c-skeleton-op60":ie(be.value.colorMainText,.6),"--am-font-family":_.value.fontFamily,"--am-mw-main":Z.value?O.value?"592px":"760px":"520px","--am-brad-main":Z.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ca(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let b=`@font-face {font-family: '${_.value.fontFamily}'; src: url(${_.value.fontUrl});}`,P=document.createElement("style");r.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(b))}_.value.customFontSelected&&ca();let ua=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),Fe(()=>{ea("renderForm",{ameliaContainer:S,containerWidth:x,empty:L,amCustomize:m,amFonts:_,sidebarCollapsed:O,sidebarCollapseItemsClass:$,sidebarFooterRef:N,sidebarFooterHeight:V,sidebarVisibility:Z})}),(r,b)=>(t(),i(X,null,[_.value.customFontSelected?c("",!0):(t(),i(X,{key:0},[xi,Pi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(_e).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Ii)],64)),e(L)?(t(),i("div",qi,[a("img",{src:e(_e).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"},alt:e(j).no_services_employees},null,8,Gi),a("h1",null,n(e(j).oops),1),a("h3",null,n(e(j).no_services_employees),1),a("p",null,n(e(j).add_services_employees),1),a("a",Ji,n(e(j).add_services_url)+"\xA0 ",1),a("span",Yi,n(e(j).and)+"\xA0",1),a("a",Qi,n(e(j).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:S,class:R(["am-fs__wrapper",{"am-collapsed":e(O)}]),style:re(e(ra))},[e(x)>560&&e(Z)?(t(),he(Ta,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(O)}]),style:re({width:e(O)?"72px":"240px",paddingBottom:`${e(V)+16}px`})},{"step-list":A(()=>[a("div",Li,[u.value[C.value]!==e(ve)||!e(s).general.addToCalendar||e(He)&&e(He).data.length===0?(t(!0),i(X,{key:0},ye(le.value,P=>(t(),i("div",{key:P.key,class:"am-fs-sb__step"},[a("div",Ei,[a("div",Di,[a("span",{class:R(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(Ue)(e(l))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e($)])},n(e(Ue)(e(l))),3)):c("",!0)]),q(Xe,{name:"fade"},{default:A(()=>[e(O)?c("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e($)])},n(P.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e($)]])},[q(Xe,{name:"fade"},{default:A(()=>[P.finished?(t(),i("span",Ti)):c("",!0)]),_:2},1024)],2)]),q(Ea,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(ee).key&&P.stepSelectedData.length>3}])},{default:A(()=>[e(O)?c("",!0):(t(!0),i(X,{key:0},ye(P.stepSelectedData,(Y,Pe)=>(t(),i("p",{key:Y.position,class:"am-fs-sb__step-selection"},[P.key!==e(ee).key||Pe<3?(t(),i("span",Bi,n(Y.value),1)):(t(),i("span",zi,n(e(j).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Fi,[q(Xe,{name:"fade"},{default:A(()=>[e(O)?c("",!0):(t(),he(Da,{key:0}))]),_:1}),e(O)?(t(),i("div",Ai,[a("div",Ri,[a("div",Ni,[a("span",{class:R(`am-icon-${u.value[C.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":u.value[C.value].sidebarData.selected},e($)]])},[q(Xe,{name:"fade"},{default:A(()=>[u.value[C.value].sidebarData.finished?(t(),i("span",Mi)):c("",!0)]),_:1})],2)])])):c("",!0)]))])]),"support-info":A(()=>[a("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(g).heading||e(g).phone||e(g).email)?(t(),i("div",Vi,[q(Xe,{name:"fade"},{default:A(()=>[!e(O)&&e(g).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e($)])},n(e(j).get_in_touch),3)):c("",!0)]),_:1}),e(s).company.phone&&e(g).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email","aria-label":`Company phone: ${e(s).company.phone}`,href:`tel:${e(s).company.phone}`},[e(O)?(t(),i("span",Ui)):(t(),i(X,{key:0},[me(n(e(s).company.phone),1)],64))],8,Oi)):c("",!0),e(s).company.email&&e(g).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email","aria-label":`Company email: ${e(s).company.email}`,href:`mailto:${e(s).company.email}`},[e(O)?(t(),i("span",ji)):(t(),i(X,{key:0},[me(n(e(s).company.email),1)],64))],8,Wi)):c("",!0)])):c("",!0),a("div",{class:R(["am-fs-sb__menu",e($)]),onClick:b[0]||(b[0]=P=>de(O)?O.value=!e(O):O=!e(O))},[q(Xe,{name:"fade"},{default:A(()=>[e(O)?c("",!0):(t(),i("span",Hi,n(e(j).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(O)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):c("",!0),q(Fa,null,Ht({step:A(()=>[(t(),he(ta(u.value[C.value]),{"global-class":"am-fs__main-content","show-cart":e(f).showCart&&u.value[C.value]===e(te)},null,8,["show-cart"]))]),footer:A(()=>[q(e(za),{"second-button-show":u.value[C.value]===e(ve)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Qe)(e(l))&&u.value[C.value]===e(Q),"back-to-cart-button-show":e(Qe)(e(l))&&e(We).length>1&&u.value[C.value]!==e(Q)&&u.value[C.value]!==e(Ce)&&u.value[C.value]!==e(Me)&&u.value[C.value]!==e(ve),booked:e(He),loading:e(rt),ready:e(Ze),"payment-gateway":e(it),"customized-labels":e(Ae),"primary-footer-button-type":e(je),"secondary-footer-button-type":e(ae),"add-to-cart-button-type":e(Re),"back-to-cart-button-type":e(Ie),"back-to-cart-label":G("cancel","cartStep"),onAddToCart:fe,onBackToCart:na},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[u.value[C.value]!==e(ve)?{name:"header",fn:A(()=>[q(Ba,{"sidebar-visible":e(Z),ready:e(Ze)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const Zi={class:"am-fcil__filter-buttons"},Ki={class:"am-fcil__filter"},es=["aria-label"],ts=["aria-label"],as=["aria-label"],is={class:"am-fcil__filter-item__btn-wrapper"},ss={role:"heading","aria-level":"2",class:"am-fcil__heading"},ls={key:0,class:"am-fcil__item-badge__wrapper"},os={class:"am-fcil__item-badge am-package"},ns=a("span",{class:"am-icon-shipment"},null,-1),rs={class:"am-fcil__item-heading"},cs={class:"am-fcil__item-name"},us={key:0,class:"am-fcil__item-cost"},ds={key:0,class:"am-fcil__item-discount"},ms={class:"am-fcil__item-price"},ps={key:1,class:"am-fcil__item-price"},_s={class:"am-fcil__item-info"},vs={key:0,class:"am-fcil__item-info__inner"},fs=a("span",{class:"am-icon-folder"},null,-1),gs={key:1,class:"am-fcil__item-info__inner"},ys=a("span",{class:"am-icon-clock"},null,-1),hs={key:0},bs={key:1},ks={key:2},Cs={key:2,class:"am-fcil__item-info__inner"},$s=a("span",{class:"am-icon-user"},null,-1),ws=a("span",null,"1/1",-1),Ss=[$s,ws],xs={key:3,class:"am-fcil__item-info__inner"},Ps=a("span",{class:"am-icon-locations"},null,-1),Is={key:2,class:"am-fcil__item-services"},Ls={key:0,class:"am-fcil__item-badge__wrapper"},Es={class:"am-fcil__item-badge am-service"},Ds=a("span",{class:"am-icon-service"},null,-1),Ts={class:"am-fcil__item-heading"},Bs={class:"am-fcil__item-name"},zs={key:0,class:"am-fcil__item-cost"},Fs={key:0,class:"am-fcil__item-price"},As={key:1,class:"am-fcil__item-price"},Rs={class:"am-fcil__item-info"},Ns={key:0,class:"am-fcil__item-info__inner"},Ms=a("span",{class:"am-icon-folder"},null,-1),Vs={key:1,class:"am-fcil__item-info__inner"},Os=a("span",{class:"am-icon-clock"},null,-1),Us={key:2,class:"am-fcil__item-info__inner"},Ws=a("span",{class:"am-icon-user"},null,-1),js={key:3,class:"am-fcil__item-info__inner"},Hs=a("span",{class:"am-icon-locations"},null,-1),qs={class:"am-fcil-employee__header"},Gs={class:"am-fcil-employee__heading"},Js={class:"am-fcil-employee__heading-left"},Ys={class:"am-fcil-employee__name"},Qs={key:0,class:"am-fcil-employee__heading-right"},Xs={class:"am-fcil-employee__price"},Zs=["innerHTML"],Ks={key:1,ref:"ameliaContainer",class:"am-empty"},el=["src"],tl={class:"am-empty__heading"},al={class:"am-empty__subheading"},il={class:"am-empty__text"},sl={key:0},ll={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ol={key:1},nl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},rl={name:"CategoryItemsList",key:"categoryItemsList"},cl=Object.assign(rl,{setup(h){let B=z("licence"),{nextPage:f,previousPage:S}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const x=z("baseUrls");let L=k(!1),d=k(!1),s=k("760px");se("bookingDialogWidth",s);function m(){s.value="760px"}let g=k(!1),_=k(),O=z("containerWidth"),$=z("customizedDataForm"),v=y(()=>$.value.categoryItemsList.options),N=y(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0);const V=z("settings");let Z=ot();const _e=z("shortcodeData"),l=y(()=>Z.getters["entities/getPreselected"]);let I=y(()=>{let D=Array.isArray(_e.value.category)?_e.value.category:_e.value.category.split(",");return D=D.filter(p=>p),D.length}),ne=y(()=>{let D=_.value&&_.value.catContainerWidth?_.value.catContainerWidth>768:!0;return I.value!==1&&v.value.sidebar.visibility&&D}),K=z("amEntities"),ce=k("");function ke(D){ce.value=D.toLowerCase()}let M=y(()=>ce.value?K.value.employees.filter(D=>`${D.firstName} ${D.lastName}`.toLowerCase().includes(ce.value)):K.value.employees),ge=k("");function te(D){ge.value=D.toLowerCase()}let ee=y(()=>ge.value?K.value.locations.filter(D=>D.name.toLowerCase().includes(ge.value)):K.value.locations),De=y(()=>Qe(Z)&&Ue(Z)>0),ve=y(()=>Ue(Z));const Q=z("labels"),Ce=z("localLanguage");let Me=y(()=>V.general.usedLanguages.includes(Ce.value)),E=y(()=>{let D=nt({...Q});if(V.customizedData&&V.customizedData.cbf&&V.customizedData.cbf.categoryItemsList.translations){let p=V.customizedData.cbf.categoryItemsList.translations;Object.keys(p).forEach(o=>{p[o][Ce.value]&&Me.value?D[o]=p[o][Ce.value]:p[o].default&&(D[o]=p[o].default)})}return D}),W=k(""),u={components:{IconComponent:St},template:'<IconComponent icon="search"/>'},ue=k(!0),Be={components:{IconComponent:St},template:'<IconComponent icon="filter"/>'},pe=y(()=>_.value&&_.value.catHeaderWidth?_.value.catHeaderWidth:0);window.addEventListener("resize",We);function We(){xe(()=>{pe.value>480&&(ue.value=!0)})}Fe(()=>{We()});function j(D){let p=[];return W.value.toLowerCase().split(" ").forEach(o=>{p.push(D.toLowerCase().includes(o))}),p.filter(o=>o===!1).length<=0}let Ae=z("availableCategories"),je=y(()=>{let D=[...Ae.value],p=[];return D.forEach(o=>{p.push({id:o.id,name:o.name})}),p.unshift({id:0,name:E.value.filter_all}),p}),ae=z("categorySelected"),Re=y(()=>wt(K.value,_e.value,U.value,T.value)),Ie=y(()=>{let D=[];return Re.value.find(p=>p.id===ae.value)?K.value.packages.forEach(p=>{Re.value.find(o=>o.id===ae.value).packageList.forEach(o=>{p.id===o&&(W.value?j(p.name):!0)&&D.push(p)})}):K.value.packages.forEach(p=>{Re.value.forEach(o=>{o.packageList.forEach(oe=>{p.id===oe&&!D.find(Ee=>Ee.id===oe)&&(W.value?j(p.name):!0)&&D.push(p)})})}),D}),G=y(()=>{let D=[];return ae.value&&Re.value.find(p=>p.id===ae.value)?K.value.services.forEach(p=>{Re.value.find(o=>o.id===ae.value).serviceIdList.forEach(o=>{p.id===o&&(W.value?j(p.name):!0)&&D.push(p)})}):K.value.services.forEach(p=>{Re.value.forEach(o=>{o.serviceIdList.forEach(oe=>{p.id===oe&&(W.value?j(p.name):!0)&&D.push(p)})})}),D}),U=k(null),T=k(null),J=k(!0),Te=k(!0);function we(D){D==="all"&&(J.value=!0,Te.value=!0),D==="packages"&&(J.value=!0,Te.value=!1),D==="services"&&(J.value=!1,Te.value=!0)}jt(()=>{l.value.show&&we(l.value.show)});let Je=y(()=>{let D=_e.value.employee,p=K.value.employees.length,o=_e.value.location,oe=K.value.locations.length,Ee=v.value.searchInput.visibility,Ke=v.value.filterEmployee.visibility&&D.length!==1&&p>1&&!B.isLite,et=v.value.filterLocation.visibility&&o.length!==1&&oe>1&&!B.isLite&&!B.isStarter,qe=v.value.filterButtons.visibility&&l.value.show!=="packages"&&l.value.show!=="services"&&Ie.value.length!==0&&G.value.length!==0&&!Ue(Z),fe={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return pe.value>992?!Ee||!qe?(fe.employee=!Ee&&!qe?"am-w50":"am-w35",fe.location=!Ee&&!qe?"am-w50":"am-w35",fe.search=!qe&&!et&&!Ke?"am-w100":"am-w30",Ke||(fe.location=!Ee&&!qe?"am-w100":"am-w70"),et||(fe.employee=!Ee&&!qe?"am-w100":"am-w70")):(Ke||(fe.location="am-w40"),et||(fe.employee="am-w40"),!Ke&&!et&&(fe.search="am-w70")):pe.value>768||pe.value>480?(fe.search=qe?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",fe.buttons=Ee?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",fe.employee=et?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",fe.location=Ke?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",fe.category="am-w100 am-tablet am-order5"):(fe.employee="am-w100 am-mobile",fe.location="am-w100 am-mobile",fe.search="am-w100 am-mobile",fe.buttons="am-w100 am-mobile",fe.category="am-w100 am-mobile"),fe}),Le=y(()=>_.value&&_.value.catContainerWidth?_.value.catContainerWidth:0),H=y(()=>{let D=Ie.value.length&&!Ue(Z)?Ie.value.length:0,p=G.value.length>1?E.value.heading_services:E.value.heading_service,o=D?D>1?E.value.packages:E.value.package:"";if(!G.value.length&&!D)return E.value.no_search_data;if(Te.value&&(!J.value||!D))return`${E.value.available} - ${G.value.length} ${p}`;if((!Te.value||!G.value.length)&&J.value)return`${E.value.available} - ${D} ${o}`;let oe=D?"/":"";return`${E.value.available} - ${G.value.length} ${p} ${oe} ${D} ${o}`});Fe(()=>{xe(()=>{L.value=Ie.value.length===0&&G.value.length===0})});function F(D){const p=D.id===0?null:D.id;ae.value=p,Z.commit("booking/setCategoryId",p)}let w=z("itemType");function C(D){Z.commit("booking/setServiceId",parseInt(D)),Z.commit("booking/setBookableType","appointment"),w.value="appointment",vt(Z,{},"SelectService","appointment",null,null),xe(()=>{f()})}function gt(D){Z.commit("booking/setServiceId",null),Z.commit("booking/setPackageId",D.id),Z.commit("booking/setBookableType","package"),Z.commit("booking/setMultipleAppointments",Dt(0,D)),Z.commit("booking/setCartItemIndex",0),w.value="package",vt(Z,{},"SelectPackage","package",null,null),xe(()=>{f()})}function yt(){ae.value=null,Z.commit("booking/setCategoryId",null),S()}function Tt(){Wt(Z),g.value=!0,d.value=!0}let Ve=k(!1),Ze=k(""),rt=k([]),He=k({}),it=k(null);function ct(){Ze.value="",rt.value=[],He.value={},it.value=null}function ht(D){rt.value=oa(K.value,D,_e.value),He.value=D,Ve.value=!0}function st(D){let p=[];Object.keys(K.value.entitiesRelations).forEach(oe=>{oe in K.value.entitiesRelations&&D in K.value.entitiesRelations[oe]&&K.value.employees.find(Ee=>Ee.id===parseInt(oe))&&p.push(K.value.employees.find(Ee=>Ee.id===parseInt(oe)))}),rt.value=p,Ze.value="service",Ve.value=!0,it.value=D}function bt(D){let p=K.value.services.find(oe=>oe.id===it.value).price,o=D.serviceList.find(oe=>oe.id===it.value).price;return o!==p?`${o-p>0?p>0?"+":"":"-"} ${at(o-p)}`:0}function Bt(){Ze.value==="service"?C(it.value):gt(He.value),ct()}function zt(D,p){let o="";return D>1?(p==="day"&&(o=E.value.expires_days),p==="week"&&(o=E.value.expires_weeks),p==="month"&&(o=E.value.expires_months)):(p==="day"&&(o=E.value.expires_day),p==="week"&&(o=E.value.expires_week),p==="month"&&(o=E.value.expires_month)),o}function Ft(D,p){let o=Ut(D,p);return o.length===1||o.length&&o.every(oe=>oe.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}function kt(D,p){let o=lt(D,p);return o.length===1||o.length&&o.every(oe=>oe.id===o[0].id)?o[0].address?o[0].address:o[0].name:E.value.multiple_locations}let At=z("amFonts",k({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=z("amColors"),le=y(()=>({"--am-c-fcil-text-op-10":ie($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie($e.value.colorInpText,.1),"--am-w-fcil-main":Ae.value.length!==1&&I.value!==1&&v.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":_.value&&_.value.catFormWidth<580?"100%":"50%"})),Ct=y(()=>({"--am-f-fcil-employee-f":At.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ie($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(D,p)=>e(L)?(t(),i("div",Ks,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,el),a("div",tl,n(e(E).oops),1),a("div",al,n(e(l).show!=="packages"?e(E).no_services_employees:e(E).no_package_services),1),a("div",il,[e(l).show!=="packages"?(t(),i("span",sl,n(e(E).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",ll,n(e(E).add_services_url)+"\xA0 ",1),e(l).show!=="packages"?(t(),i("span",ol,n(e(E).and)+"\xA0 ",1)):c("",!0),e(l).show!=="packages"?(t(),i("a",nl,n(e(E).add_employees_url),1)):c("",!0)])],512)):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:_,"wrapper-class":`am-fcil ${e(O)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(O)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(O)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:re(e(le))},Ht({header:A(()=>[a("span",Zi,[e(I)!==1&&!e(_e).categories_hidden&&e(Ae).length!==1?(t(),he(Gt,{key:0,"btn-size":e(pe)<481?"medium":"mini","btn-string":e(E).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(De),"cart-items-number":e(ve),onGoBack:yt,onGoToCart:Tt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):c("",!0),e(pe)<481?(t(),he(ze,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Be),onClick:p[0]||(p[0]=()=>de(ue)?ue.value=!e(ue):ue=!e(ue))},null,8,["type","icon"])):c("",!0)]),a("div",Ki,[e(v).searchInput.visibility?(t(),i("div",{key:0,role:"search","aria-label":e(E).filter_input,class:R(["am-fcil__filter-item",e(Je).search])},[q(Ra,{modelValue:e(W),"onUpdate:modelValue":p[1]||(p[1]=o=>de(W)?W.value=o:W=o),placeholder:e(E).filter_input,"prefix-icon":e(u)},null,8,["modelValue","placeholder","prefix-icon"])],10,es)):c("",!0),q(Xe,{name:"slide-fade"},{default:A(()=>[e(_e).employee.length!==1&&e(K).employees.length>1&&e(v).filterEmployee.visibility&&e(ue)&&!e(B).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(Je).employee]),role:"search","aria-label":e(E).filter_employee},[q(Mt,{modelValue:e(U),"onUpdate:modelValue":p[2]||(p[2]=o=>de(U)?U.value=o:U=o),clearable:"",filterable:"",placeholder:e(E).filter_employee,"aria-label":e(E).filter_employee,"filter-method":ke,"fit-input-width":!0},{default:A(()=>[(t(!0),i(X,null,ye(e(M),o=>(t(),he(Vt,{key:o.id,value:o.id,label:`${o.firstName} ${o.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,ts)):c("",!0)]),_:1}),q(Xe,{name:"slide-fade"},{default:A(()=>[e(_e).location.length!==1&&e(K).locations.length>1&&e(v).filterLocation.visibility&&e(ue)&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(Je).location]),role:"search","aria-label":e(E).filter_location},[q(Mt,{modelValue:e(T),"onUpdate:modelValue":p[3]||(p[3]=o=>de(T)?T.value=o:T=o),clearable:"",filterable:"",placeholder:e(E).filter_location,"aria-label":e(E).filter_location,"fit-input-width":!0,"filter-method":te},{default:A(()=>[(t(!0),i(X,null,ye(e(ee),o=>(t(),he(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","aria-label"])],10,as)):c("",!0)]),_:1}),q(Xe,{name:"slide-fade"},{default:A(()=>[e(Ae).length!==1&&e(I)!==1&&e(v).sidebar.visibility&&!e(ne)&&e(ue)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(Je).category])},[q(Mt,{modelValue:e(ae),"onUpdate:modelValue":p[4]||(p[4]=o=>de(ae)?ae.value=o:ae=o),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(t(!0),i(X,null,ye(e(je),o=>(t(),he(Vt,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):c("",!0)]),_:1}),!e(l).show&&e(v).filterButtons.visibility&&e(Ie).length!==0&&e(G).length!==0&&!e(Ue)(e(Z))?(t(),i("div",{key:1,role:"search","aria-label":"Filter Buttons",class:R(["am-fcil__filter-item",e(Je).buttons])},[a("div",is,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&e(Te)}]),onClick:p[5]||(p[5]=o=>we("all"))},[a("span",null,n(e(E).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(J)&&!e(Te)}]),onClick:p[6]||(p[6]=o=>we("packages"))},[a("span",null,n(e(E).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(J)&&e(Te)}]),onClick:p[7]||(p[7]=o=>we("services"))},[a("span",null,n(e(E).filter_services),1)],2)])],2)):c("",!0)])]),heading:A(()=>[a("div",ss,n(e(H)),1)]),content:A(()=>[e(J)&&!e(Ue)(e(Z))?(t(!0),i(X,{key:0},ye(e(Ie),o=>(t(),i("div",{key:o.id,role:"group",class:R(["am-fcil__item",{"am-mobile":e(Le)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Le)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(v).packageBadge.visibility?(t(),i("div",ls,[a("div",os,[ns,a("span",null,n(e(E).package),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",rs,[a("div",cs,n(o.name),1),e(v).packagePrice.visibility?(t(),i("div",us,[o.discount?(t(),i("span",ds,n(`${e(E).save} ${o.discount}%`),1)):c("",!0),a("span",ms,n(o.price?e(at)(e(qt)(o)):e(E).free),1),o.price&&(e(v).tax?.visibility??!0)&&e(ft)(e(Z),o.id,"package")?(t(),i("span",ps,[e(V).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",_s,[e(v).packageCategory.visibility&&e(ae)?(t(),i("div",vs,[fs,a("span",null,n(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(v).packageDuration.visibility?(t(),i("div",gs,[ys,o.endDate?(t(),i("span",hs,n(`${e(E).expires_at} ${o.endDate.split(" ")[0]}`),1)):o.durationCount?(t(),i("span",bs,n(`${e(E).expires_after} ${o.durationCount} ${zt(o.durationCount,o.durationType)}`),1)):(t(),i("span",ks,n(e(E).without_expiration),1))])):c("",!0),e(v).packageCapacity.visibility?(t(),i("div",Cs,Ss)):c("",!0),e(Ut)(e(K),o,e(_e)).length&&e(v).packageLocation.visibility?(t(),i("div",xs,[Ps,a("span",null,n(Ft(e(K),o)),1)])):c("",!0)]),e(v).packageServices.visibility?(t(),i("div",Is,[a("span",null,n(`${e(E).in_package}:`),1),(t(!0),i(X,null,ye(o.bookable,oe=>(t(),i("span",{key:oe.id},n(oe.service.name),1))),128))])):c("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Le)<481},{"am-micro":e(Le)<320}]])},[e(v).cardEmployeeBtn.visibility?(t(),he(ze,{key:0,class:R({"am-w100":e(Le)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:oe=>ht(o)},{default:A(()=>[me(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(ze,{class:R([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Le)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:oe=>gt(o)},{default:A(()=>[me(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),e(Te)?(t(!0),i(X,{key:1},ye(e(G),o=>(t(),i("div",{key:o.id,class:R(["am-fcil__item",{"am-mobile":e(Le)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(Le)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ie)(o.color,.1)}:{})},[e(v).serviceBadge.visibility?(t(),i("div",Ls,[a("div",Es,[Ds,a("span",null,n(e(E).heading_service),1)])])):c("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):c("",!0),a("div",Ts,[a("div",Bs,n(o.name),1),e(v).servicePrice.visibility?(t(),i("div",zs,[e(mt)(e(K),o.id).min||e(mt)(e(K),o.id).max?(t(),i("span",Fs,n(e(mt)(e(K),o.id).price),1)):c("",!0),(e(v).tax?.visibility??!0)&&e(ft)(e(Z),o.id,"service")?(t(),i("span",As,[e(V).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(E).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(E).incl_tax),1)],64))])):c("",!0)])):c("",!0)]),a("div",Rs,[e(v).serviceCategory.visibility&&e(ae)?(t(),i("div",Ns,[Ms,a("span",null,n(e(Ae).find(oe=>oe.id===e(ae)).name),1)])):c("",!0),e(v).serviceDuration.visibility?(t(),i("div",Vs,[Os,a("span",null,n(e(la)(o.duration)),1)])):c("",!0),e(v).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",Us,[Ws,a("span",null,n(e(sa)(e(K),o.id)),1)])):c("",!0),e(lt)(e(K),o.id).length&&e(v).serviceLocation.visibility?(t(),i("div",js,[Hs,a("span",null,n(kt(e(K),o.id)),1)])):c("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(Le)<481},{"am-micro":e(Le)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(B).isLite?(t(),he(ze,{key:0,class:R({"am-w100":e(Le)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:oe=>st(o.id)},{default:A(()=>[me(n(e(E).view_employees),1)]),_:2},1032,["class","type","onClick"])):c("",!0),q(ze,{class:R([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Le)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:oe=>C(o.id)},{default:A(()=>[me(n(e(E).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):c("",!0),q(pt,{modelValue:e(Ve),"onUpdate:modelValue":p[9]||(p[9]=o=>de(Ve)?Ve.value=o:Ve=o),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Ct),width:"648px",onClose:ct},{title:A(()=>[a("div",qs,n(e(E).employee_info),1)]),default:A(()=>[a("div",null,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,ye(e(rt),(o,oe)=>(t(),he(It,{key:oe,side:""},{heading:A(()=>[a("div",Gs,[a("div",Js,[q(dt,{"item-class":"am-fcil-employee__img","item-data":o,"trim-string":2},null,8,["item-data"]),a("div",Ys,[me(n(`${o.firstName} ${o.lastName}`)+" ",1),o.badge?(t(),i("span",{key:0,style:re({background:o.badge.color}),class:"am-fcil-employee__badge"},n(o.badge.content),5)):c("",!0)])]),e(Ze)==="service"&&bt(o)!==0?(t(),i("div",Qs,[a("div",Xs,n(bt(o)),1)])):c("",!0)])]),default:A(()=>[e(Ne)(o.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":o.description.includes("<!-- Content -->")}]),innerHTML:o.description},null,10,Zs)):c("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(v).dialogEmployeeBtn.visibility?(t(),he(ze,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:p[8]||(p[8]=o=>Bt())},{default:A(()=>[me(n(e(Ze)==="service"?e(E).book_service:e(E).book_package),1)]),_:1},8,["type"])):c("",!0)]),_:1},8,["modelValue","custom-styles"]),q(pt,{modelValue:e(d),"onUpdate:modelValue":p[10]||(p[10]=o=>de(d)?d.value=o:d=o),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:m},{default:A(()=>[q(Yt,{"show-cart":e(g)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(Ae).length!==1&&e(I)!==1&&e(v).sidebar.visibility&&e(ne)?{name:"side",fn:A(()=>[q(ti,{"menu-items":e(je),"init-selection":e(ae),identifier:"id","name-identifier":"name","footer-string":e(E).get_in_touch,"company-email":e(V).company.email,onClick:F},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ul={class:"am-fcis__header-text"},dl={class:"am-fcis__header-name",role:"heading","aria-level":"1"},ml={key:0,class:"am-fcis__badge am-service"},pl=a("span",{class:"am-icon-service"},null,-1),_l={class:"am-fcis__header-action"},vl={key:0,class:"am-fcis__header-price"},fl={key:1,class:"am-fcis__header-tax"},gl={class:"am-fcis__header-btn"},yl={key:0,class:"am-fcis__header-bottom"},hl={class:"am-fcis__mini-info"},bl={key:0,class:"am-fcis__mini-info__inner"},kl=a("span",{class:"am-icon-folder"},null,-1),Cl={key:1,class:"am-fcis__mini-info__inner"},$l=a("span",{class:"am-icon-clock"},null,-1),wl={key:2,class:"am-fcis__mini-info__inner"},Sl=a("span",{class:"am-icon-user"},null,-1),xl={key:3,class:"am-fcis__mini-info__inner"},Pl=a("span",{class:"am-icon-locations"},null,-1),Il={key:0,class:"am-fcis__gallery"},Ll={key:0,class:"am-fcis__gallery-thumb__wrapper"},El={class:"am-gd__display-wrapper"},Dl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Tl=["src","alt"],Bl={class:"am-gd__selection"},zl={class:"am-gd__thumb-wrapper"},Fl=["onClick"],Al={key:1,class:"am-fcis__info"},Rl={class:"am-fcis__info-tab__wrapper"},Nl={class:"am-fcis__info-content__wrapper"},Ml={key:0,class:"am-fcis__info-content"},Vl=["innerHTML"],Ol={key:1,class:"am-fcis__info-content"},Ul={class:"am-fcis__info-employee__hero"},Wl={class:"am-fcis__info-employee__heading"},jl={class:"am-fcis__info-employee__name"},Hl={key:0,class:"am-fcis__info-employee__price"},ql=["innerHTML"],Gl={key:2,class:"am-fcis__include-wrapper"},Jl={class:"am-fcis__include-heading"},Yl={class:"am-fcis__include-heading__text"},Ql=["onClick"],Xl={class:"am-fcis__include-hero"},Zl={key:0,class:"am-fcis__include-cost"},Kl={key:0,class:"am-fcis__include-discount"},eo={class:"am-fcis__include-price"},to={key:1,class:"am-fcis__include-price"},ao={class:"am-fcis__include-info"},io={key:0,class:"am-fcis__include-info__inner"},so=a("span",{class:"am-icon-folder"},null,-1),lo={key:1,class:"am-fcis__include-info__inner"},oo=a("span",{class:"am-icon-clock"},null,-1),no={key:0},ro={key:1},co={key:2},uo={key:2,class:"am-fcis__include-info__inner"},mo=a("span",{class:"am-icon-user"},null,-1),po=a("span",null,"1/1",-1),_o=[mo,po],vo={key:3,class:"am-fcis__include-info__inner"},fo=a("span",{class:"am-icon-locations"},null,-1),go={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},yo={key:1,ref:"ameliaContainer",class:"am-empty"},ho=["src","alt"],bo={class:"am-empty__heading"},ko={class:"am-empty__subheading"},Co={class:"am-empty__text"},$o={key:0},wo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},So={key:1},xo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Po={name:"CategoryService"},Io=Object.assign(Po,{setup(h){let B=z("licence"),{previousPage:f}=z("changingPageFunctions",{previousPage:()=>{}}),S=y(()=>N.getters["entities/getReady"]);const x=z("baseUrls");let L=k(),d=z("containerWidth");const s=z("settings");let m=z("amFonts");const g=z("labels"),_=z("localLanguage");let O=y(()=>s.general.usedLanguages.includes(_.value)),$=y(()=>{let H=nt({...g});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let F=s.customizedData.cbf.categoryService.translations;Object.keys(F).forEach(w=>{F[w][_.value]&&O.value?H[w]=F[w][_.value]:F[w].default&&(H[w]=F[w].default)})}return H}),v=k(0),N=ot(),V=z("amEntities"),Z=y(()=>Qe(N)&&Ue(N)>0),_e=y(()=>Ue(N)),l=z("customizedDataForm"),I=y(()=>l.value.categoryService.options),ne=y(()=>"pageScroll"in I.value?I.value.pageScroll.visibility:!0),K=z("itemType"),ce=z("categorySelected"),ke=y(()=>V.value.categories.find(H=>H.id===ce.value)),M=y(()=>{let H=V.value.services.find(F=>F.id===N.getters["booking/getServiceId"]);return H||{}});function ge(H,F){let w=lt(H,F);return w.length===1||w.length&&w.every(C=>C.id===w[0].id)?w[0].address?w[0].address:w[0].name:$.value.multiple_locations}let te=k("description"),ee=y(()=>{let H=[];return Object.keys(V.value.entitiesRelations).forEach(w=>{V.value.entitiesRelations[w][M.value.id]&&V.value.employees.find(C=>C.id===parseInt(w))&&H.push(V.value.employees.find(C=>C.id===parseInt(w)))}),H});function De(H){let F=H.serviceList.find(w=>w.id===M.value.id).price;return F-M.value.price!==0?`${F-M.value.price>0?M.value.price>0?"+":"":"-"} ${at(F-M.value.price)}`:""}Fe(()=>{I.value.serviceDescription.visibility||(te.value="employees"),Ne(M.value.description)||(te.value="employees")});let ve=y(()=>{let H=M.value.gallery.length?JSON.parse(JSON.stringify(M.value.gallery)):[];return M.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),Q=y(()=>{let H=[];return V.value.packages.forEach(F=>{F.bookable.filter(w=>w.service.id===M.value.id).length&&!H.filter(w=>w.id===F.id).length&&F.available&&F.status==="visible"&&H.push(F)}),H}),Ce=k(!1),Me=y(()=>{let H=[...Q.value];return Ce.value?H:H.slice(0,2)}),E=y(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function W(){K.value="",xe(()=>{f()})}let u=k(!1);function ue(){N.commit("booking/setShownCart",!1),Wt(N),u.value=!0,pe.value=!0}function Be(){pe.value=!1,N.getters["entities/getPreselected"].service.length>1&&W()}let pe=k(!1),We=k("760px");se("bookingDialogWidth",We);function j(){let H=N.getters["entities/getPreselected"];ee.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),H.employee=[parseInt(ee.value[0].id)],N.commit("entities/setPreselected",H)),u.value=!1,pe.value=!1,Na(N),aa(N,!1),_t(N);let F=lt(V.value,M.value.id);F.length===1&&(N.commit("booking/setLocationId",parseInt(F[0].id)),H.location=[parseInt(F[0].id)],N.commit("entities/setPreselected",H)),N.commit("booking/setBookableType","appointment"),pe.value=!0}z("restoreFormData").value&&j();function je(H){N.commit("booking/setPackageId",H.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",Dt(0,H)),N.commit("booking/setMultipleAppointmentsIndex",0),ee.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ee.value[0].id)),lt(V.value,M.value.id).length===1&&N.commit("booking/setLocationId",parseInt(lt(V.value,M.value.id)[0].id)),xe(()=>{pe.value=!0})}const ae=y(()=>N.getters["entities/getPreselected"]);let Re=k(V.value.services.length!==1&&ae.value.service.length!==1),Ie=k("");se("stepName",Ie);function G(){let H=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),F=H.settings?JSON.parse(H.settings):s;"general"in F&&"redirectUrlAfterAppointment"in F.general&&F.general.redirectUrlAfterAppointment?window.location.href=F.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function U(){if(Ie.value&&Ie.value==="CongratulationsStep")G();else{if(Ie.value&&Ie.value==="DateTimeStep"){let H=Ma(N);H&&console.log(H)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}We.value="760px"}let T=k(!1);function J(H,F){let w="";return H>1?(F==="day"&&(w=$.value.expires_days),F==="week"&&(w=$.value.expires_weeks),F==="month"&&(w=$.value.expires_months)):(F==="day"&&(w=$.value.expires_day),F==="week"&&(w=$.value.expires_week),F==="month"&&(w=$.value.expires_month)),w}let Te=y(()=>Object.keys(M.value).length===0||ee.value.length===0),we=z("amColors"),Je=y(()=>({"--am-c-fcis-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(we.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(we.value.colorBtnSec,.5)})),Le=y(()=>({"--am-c-fcis-bgr":we.value.colorMainBgr,"--am-c-fcis-text":we.value.colorMainText,"--am-c-fcis-success":we.value.colorSuccess,"--am-c-fcis-primary":we.value.colorPrimary,"--am-c-scroll-op30":ie(we.value.colorPrimary,.3),"--am-c-scroll-op10":ie(we.value.colorPrimary,.1),"--am-font-family":m.fontFamily}));return(H,F)=>e(S)?(t(),i(X,{key:0},[e(Te)?c("",!0):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(Je))},{header:A(()=>[q(Gt,{"btn-string":e($).back_btn,"btn-type":e(I).backBtn.buttonType,"back-btn-visibility":e(Re),"cart-btn-visibility":e(Z),"cart-items-number":e(_e),role:"navigation","aria-label":"Navigation Controls",onGoBack:W,onGoToCart:ue},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"]),role:"region","aria-label":"Service Information"},[a("div",ul,[a("span",dl,n(e(M).name),1),e(I).serviceBadge.visibility?(t(),i("div",ml,[pl,a("span",null,n(e($).heading_service),1)])):c("",!0)]),a("div",_l,[e(I).servicePrice.visibility?(t(),i("span",vl,n(e(mt)(e(V),e(M).id).min||e(mt)(e(V),e(M).id).max?e(mt)(e(V),e(M).id).price:e($).free),1)):c("",!0),(e(I).tax?.visibility??!0)&&e(ft)(e(N),e(M).id,"service")?(t(),i("span",fl,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e($).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e($).incl_tax),1)],64))])):c("",!0),a("span",gl,[q(ze,{type:e(I).bookingBtn.buttonType,onClick:j},{default:A(()=>[me(n(e($).book_now),1)]),_:1},8,["type"])])])],2),e(I).serviceCategory.visibility||e(I).serviceDuration.visibility||e(I).serviceCapacity.visibility||e(I).serviceLocation.visibility?(t(),i("div",yl,[a("div",hl,[e(I).serviceCategory.visibility&&e(ke)?(t(),i("div",bl,[kl,a("span",null,n(e(ke).name),1)])):c("",!0),e(I).serviceDuration.visibility?(t(),i("div",Cl,[$l,a("span",null,n(e(la)(e(M).duration)),1)])):c("",!0),e(I).serviceCapacity.visibility&&!e(B).isLite?(t(),i("div",wl,[Sl,a("span",null,n(e(sa)(e(V),e(M).id)),1)])):c("",!0),e(lt)(e(V),e(M).id).length&&e(I).serviceLocation.visibility&&!e(B).isLite&&!e(B).isStarter?(t(),i("div",xl,[Pl,a("span",null,n(ge(e(V),e(M).id)),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(M).gallery.length?(t(),i("div",Il,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(M).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:re({backgroundImage:`url(${e(M).gallery[0].pictureFullPath})`})},null,6),e(ve).length&&e(d)>677?(t(),i("div",Ll,[(t(!0),i(X,null,ye(e(ve),(w,C)=>(t(),i("div",{key:C,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(ve).length===1}]),style:re({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):c("",!0),q(ze,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:F[0]||(F[0]=()=>de(T)?T.value=!0:T=!0)},{default:A(()=>[me(n(e($).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(pt,{modelValue:e(T),"onUpdate:modelValue":F[4]||(F[4]=w=>de(T)?T.value=w:T=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(Le))},[a("div",El,[a("div",Dl,[a("span",{class:"am-icon-arrow-left",onClick:F[1]||(F[1]=()=>de(v)?v.value=e(v)<=0?e(M).gallery.length-1:e(v)-1:v=e(v)<=0?e(M).gallery.length-1:e(v)-1)}),a("span",{class:"am-icon-arrow-right",onClick:F[2]||(F[2]=()=>de(v)?v.value=e(M).gallery.length-1===e(v)?0:e(v)+1:v=e(M).gallery.length-1===e(v)?0:e(v)+1)})]),(t(!0),i(X,null,ye(e(M).gallery,(w,C)=>(t(),i("div",{key:C,class:"am-gd__display",style:re({display:C===e(v)?"flex":"none"}),onClick:F[3]||(F[3]=()=>de(v)?v.value=e(M).gallery.length-1===e(v)?0:e(v)+1:v=e(M).gallery.length-1===e(v)?0:e(v)+1)},[a("img",{src:w.pictureFullPath,alt:C},null,8,Tl)],4))),128))]),a("div",Bl,n(`${e(v)+1}/${e(M).gallery.length}`),1),a("div",zl,[(t(!0),i(X,null,ye(e(M).gallery,(w,C)=>(t(),i("div",{key:C,class:R(["am-gd__thumb",{"am-active":C===e(v)}]),style:re({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>de(v)?v.value=C:v=C},null,14,Fl))),128))])],4)]),_:1},8,["modelValue"]),e(I).serviceDescription.visibility&&e(Ne)(e(M).description)||e(I).serviceEmployees.visibility?(t(),i("div",Al,[a("div",Rl,[e(Ne)(e(M).description)&&e(I).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(te)==="description"}]),onClick:F[5]||(F[5]=()=>de(te)?te.value="description":te="description")},n(e($).about_service),3)):c("",!0),e(I).serviceEmployees.visibility&&!e(B).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(te)==="employees"},"am-fcis__info-tab"]),onClick:F[6]||(F[6]=()=>de(te)?te.value="employees":te="employees")},n(e($).tab_employees),3)):c("",!0)]),a("div",Nl,[e(Ne)(e(M).description)&&e(I).serviceDescription.visibility?Lt((t(),i("div",Ml,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(M).description.includes("<!-- Content -->")}]),innerHTML:e(M).description},null,10,Vl)],512)),[[Et,e(te)==="description"]]):c("",!0),e(I).serviceEmployees.visibility?Lt((t(),i("div",Ol,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,ye(e(ee),w=>(t(),he(It,{key:w.id,side:""},{heading:A(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Ul,[q(dt,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),a("div",Wl,[a("div",jl,[me(n(w.firstName)+" "+n(w.lastName)+" ",1),w.badge?(t(),i("span",{key:0,style:re({background:w.badge.color}),class:"am-fcis__info-employee__badge"},n(w.badge.content),5)):c("",!0)]),De(w)&&e(I).serviceEmployeePrice.visibility?(t(),i("div",Hl,n(De(w)),1)):c("",!0)])])],2)]),default:A(()=>[e(Ne)(w.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,ql)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Et,e(te)==="employees"]]):c("",!0)])])):c("",!0),e(Q).length&&e(ae).show!=="services"&&e(I).servicePackages.visibility&&!e(Ue)(e(N))?(t(),i("div",Gl,[a("div",Jl,[a("span",Yl,n(e($).service_available_in_package),1),e(Q).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:F[7]||(F[7]=()=>de(Ce)?Ce.value=!e(Ce):Ce=!e(Ce))},[e(Ce)?(t(),i(X,{key:1},[me(n(e($).less_packages),1)],64)):(t(),i(X,{key:0},[me(n(e($).more_packages),1)],64))])):c("",!0)]),(t(!0),i(X,null,ye(e(Me),w=>(t(),i("div",{key:w.id,class:"am-fcis__include",onClick:C=>je(w)},[a("div",Xl,[e(d)>450?(t(),he(dt,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):c("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},n(w.name),3),e(I).packagePrice.visibility?(t(),i("div",Zl,[w.discount?(t(),i("span",Kl,n(`${e($).save} ${w.discount}%`),1)):c("",!0),a("span",eo,n(w.price?e(at)(e(qt)(w)):e($).free),1),(e(I).tax?.visibility??!0)&&e(ft)(e(N),w.id,"package")?(t(),i("span",to,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e($).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e($).incl_tax),1)],64))])):c("",!0)])):c("",!0)],2),a("div",ao,[e(I).packageCategory.visibility&&e(ke)?(t(),i("div",io,[so,a("span",null,n(e(ke).name),1)])):c("",!0),e(I).packageDuration.visibility?(t(),i("div",lo,[oo,w.endDate?(t(),i("span",no,n(`${e($).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(t(),i("span",ro,n(`${e($).expires_after} ${w.durationCount} ${J(w.durationCount,w.durationType)}`),1)):(t(),i("span",co,n(e($).without_expiration),1))])):c("",!0),e(I).packageCapacity.visibility?(t(),i("div",uo,_o)):c("",!0),e(I).packageLocation.visibility&&e(E).length?(t(),i("div",vo,[fo,a("span",null,n(e(E).length===1?e(E)[0].address?e(E)[0].address:e(E)[0].name:e($).multiple_locations),1)])):c("",!0),e(I).packageServices.visibility?(t(),i("div",go,[a("span",null,n(`${e($).in_package}:`),1),(t(!0),i(X,null,ye(w.bookable,C=>(t(),i("span",{key:C.id},n(C.service.name),1))),128))])):c("",!0)])],2)])],8,Ql))),128))])):c("",!0),q(pt,{modelValue:e(pe),"onUpdate:modelValue":F[9]||(F[9]=w=>de(pe)?pe.value=w:pe=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(We),onClosed:U},{default:A(()=>[q(Yt,{"show-cart":e(u),onAddToCart:Be,onEmptiedCart:F[8]||(F[8]=w=>de(pe)?pe.value=!1:pe=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Te)?(t(),i("div",yo,[a("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(ae).show!=="packages"?e($).no_services_employees:e($).no_package_services},null,8,ho),a("div",bo,n(e($).oops),1),a("div",ko,n(e(ae).show!=="packages"?e($).no_services_employees:e($).no_package_services),1),a("div",Co,[e(ae).show!=="packages"?(t(),i("span",$o,n(e($).add_services_employees)+"\xA0 ",1)):c("",!0),a("a",wo,n(e($).add_services_url)+"\xA0 ",1),e(ae).show!=="packages"?(t(),i("span",So,n(e($).and)+"\xA0 ",1)):c("",!0),e(ae).show!=="packages"?(t(),i("a",xo,n(e($).add_employees_url),1)):c("",!0)])],512)):c("",!0)],64)):c("",!0)}});const Lo={class:"am-fcip__header-text"},Eo={class:"am-fcip__header-name",role:"heading","aria-level":"1"},Do={key:0,class:"am-fcip__badge am-package"},To=a("span",{class:"am-icon-shipment"},null,-1),Bo={class:"am-fcip__header-action"},zo={key:0,class:"am-fcip__header-discount"},Fo={key:1,class:"am-fcip__header-price"},Ao={key:2,class:"am-fcip__header-tax"},Ro={class:"am-fcip__header-btn"},No={key:0,class:"am-fcip__header-bottom"},Mo={class:"am-fcip__mini-info"},Vo={key:0,class:"am-fcip__mini-info__inner"},Oo=a("span",{class:"am-icon-folder"},null,-1),Uo={key:1,class:"am-fcip__mini-info__inner"},Wo=a("span",{class:"am-icon-clock"},null,-1),jo={key:0},Ho={key:1},qo={key:2},Go={key:2,class:"am-fcip__mini-info__inner"},Jo=a("span",{class:"am-icon-user"},null,-1),Yo=a("span",null,"1/1",-1),Qo=[Jo,Yo],Xo={key:3,class:"am-fcip__mini-info__inner"},Zo=a("span",{class:"am-icon-locations"},null,-1),Ko={key:0,class:"am-fcip__gallery"},en={key:0,class:"am-fcip__gallery-thumb__wrapper"},tn=a("span",{class:"am-icon-gallery"},null,-1),an={class:"am-gd__display-wrapper"},sn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},ln=["src","alt"],on={class:"am-gd__selection"},nn={class:"am-gd__thumb-wrapper"},rn=["onClick"],cn={key:1,class:"am-fcip__info"},un={class:"am-fcip__info-tab__wrapper"},dn={class:"am-fcip__info-content__wrapper"},mn={key:0,class:"am-fcip__info-content"},pn=["innerHTML"],_n={key:1,class:"am-fcip__info-content"},vn={class:"am-fcip__info-employee"},fn={class:"am-fcip__info-employee__hero"},gn={class:"am-fcip__info-employee__name"},yn=["innerHTML"],hn={key:2,class:"am-fcip__include-wrapper"},bn={class:"am-fcip__include-heading"},kn={class:"am-fcip__include-heading__text"},Cn={class:"am-fcip__include-service"},$n={class:"am-fcip__include-service__info"},wn={key:0},Sn=["innerHTML"],xn={class:"am-fcip__include-footer"},Pn={class:"am-fcip__include-footer__text"},In={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src","alt"],En={class:"am-empty__heading"},Dn={class:"am-empty__subheading"},Tn={class:"am-empty__text"},Bn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},zn={name:"CategoryPackage"},Fn=Object.assign(zn,{setup(h){let{previousPage:B}=z("changingPageFunctions",{previousPage:()=>{}}),f=k(),S=z("containerWidth");const x=z("settings"),L=z("baseUrls");let d=ot();const s=z("shortcodeData"),m=y(()=>d.getters["entities/getPreselected"]);let g=k(m.value.package.length!==1),_=z("amEntities"),O=z("customizedDataForm"),$=y(()=>O.value.categoryPackage.options),v=y(()=>"pageScroll"in $.value?$.value.pageScroll.visibility:!0),N=z("itemType"),V=z("categorySelected"),Z=y(()=>_.value.categories.find(G=>G.id===V.value)),_e=k(m.value.package.length!==1&&$.value.packageCategory.visibility&&Z),l=y(()=>_.value.packages.find(G=>G.id===d.getters["booking/getPackageId"])),I=k(0),ne=k("description"),K=y(()=>oa(_.value,l.value,s.value)),ce=y(()=>Ut(_.value,l.value,s.value)),ke=k(m.value.employee.length>0?_.value.unfilteredEmployees.filter(G=>m.value.employee.map(U=>parseInt(U)).includes(G.id)):_.value.unfilteredEmployees);function M(G){let U=[];return G.providers.length?G.providers.forEach(T=>{ke.value.find(J=>J.id===parseInt(T.id))&&U.push(ke.value.find(J=>J.id===parseInt(T.id)))}):U=ke.value.filter(T=>T.serviceList.find(J=>J.id===G.service.id)),U}Fe(()=>{$.value.packageDescription.visibility||(ne.value="employees"),Ne(l.value.description)||(ne.value="employees")});let ge=k(!1);jt(()=>{ge.value=d.getters["entities/getEmployees"].length===0||K.value.length===0});let te=k(!1),ee=y(()=>{let G=l.value.gallery.length?JSON.parse(JSON.stringify(l.value.gallery)):[];return l.value.gallery.length===1?[]:(G.shift(),G.length>2&&G.splice(2,G.length-2),G)});function De(){N.value="",xe(()=>{B()})}let ve=k(!1),Q=k("760px");se("bookingDialogWidth",Q);function Ce(){d.commit("booking/setPackageId",l.value.id),d.commit("booking/setMultipleAppointments",Dt(0,l.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),xe(()=>{ve.value=!0})}z("restoreFormData").value&&Ce();let E=k("");se("stepName",E);function W(){let G=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),U=G.settings?JSON.parse(G.settings):x;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:x.general.redirectUrlAfterAppointment?window.location.href=x.general.redirectUrlAfterAppointment:window.location.reload()}function u(){E.value&&E.value==="CongratulationsStep"?W():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),Q.value="760px"}let ue=z("amFonts");const Be=z("labels"),pe=z("localLanguage");let We=y(()=>x.general.usedLanguages.includes(pe.value)),j=y(()=>{let G=nt({...Be});if(x.customizedData&&x.customizedData.cbf&&x.customizedData.cbf.categoryPackage.translations){let U=x.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(T=>{U[T][pe.value]&&We.value?G[T]=U[T][pe.value]:U[T].default&&(G[T]=U[T].default)})}return G});function Ae(G){return G.length===1||G.length&&G.every(U=>U.id===G[0].id)?G[0].address?G[0].address:G[0].name:j.value.multiple_locations}function je(G,U){let T="";return G>1?(U==="day"&&(T=j.value.expires_days),U==="week"&&(T=j.value.expires_weeks),U==="month"&&(T=j.value.expires_months)):(U==="day"&&(T=j.value.expires_day),U==="week"&&(T=j.value.expires_week),U==="month"&&(T=j.value.expires_month)),T}let ae=z("amColors"),Re=y(()=>({"--am-c-fcip-success-op20":ie(ae.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ae.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ae.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ae.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ae.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ae.value.colorBtnSec,.5)})),Ie=y(()=>({"--am-c-fcip-bgr":ae.value.colorMainBgr,"--am-c-fcip-text":ae.value.colorMainText,"--am-c-fcip-success":ae.value.colorSuccess,"--am-c-fcip-primary":ae.value.colorPrimary,"--am-c-scroll-op30":ie(ae.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ae.value.colorPrimary,.1),"--am-font-family":ue.fontFamily}));return(G,U)=>(t(),i(X,null,[e(ge)?c("",!0):(t(),he(Jt,{key:0,ref_key:"contentRef",ref:f,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(v)?"":"no-scroll"}`,style:re(e(Re))},Ht({heading:A(()=>[a("div",{class:R([[{"am-tablet":e(S)<=678},{"am-mobile":e(S)<450}],"am-fcip__header-top"]),role:"region","aria-label":"Package Information"},[a("div",Lo,[a("span",Eo,[a("span",null,n(e(l).name),1)]),e($).packageBadge.visibility?(t(),i("div",Do,[To,a("span",null,n(e(j).package),1)])):c("",!0)]),a("div",Bo,[e(l).discount&&e($).packagePrice.visibility?(t(),i("span",zo,n(`${e(j).save} ${e(l).discount}%`),1)):c("",!0),e($).packagePrice.visibility?(t(),i("span",Fo,n(e(l).price?e(at)(e(qt)(e(l))):e(j).free),1)):c("",!0),e(l).price&&(e($).tax?.visibility??!0)&&e(ft)(e(d),e(l).id,"package")?(t(),i("span",Ao,[e(x).payments.taxes.excluded?(t(),i(X,{key:0},[me(n(`+${e(j).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(n(e(j).incl_tax),1)],64))])):c("",!0),a("span",Ro,[q(ze,{type:e($).bookingBtn.buttonType,onClick:Ce},{default:A(()=>[me(n(e(j).book_now),1)]),_:1},8,["type"])])])],2),e($).packageCategory.visibility&&e(m).package.length!==1||e($).packageDuration.visibility||e($).packageCapacity.visibility||e($).packageLocation.visibility&&e(ce).length?(t(),i("div",No,[a("div",Mo,[e(_e)?(t(),i("div",Vo,[Oo,a("span",null,n(e(Z).name),1)])):c("",!0),e($).packageDuration.visibility?(t(),i("div",Uo,[Wo,e(l).endDate?(t(),i("span",jo,n(`${e(j).expires_at} ${e(l).endDate.split(" ")[0]}`),1)):e(l).durationCount?(t(),i("span",Ho,n(`${e(j).expires_after} ${e(l).durationCount} ${je(e(l).durationCount,e(l).durationType)}`),1)):(t(),i("span",qo,n(e(j).without_expiration),1))])):c("",!0),e($).packageCapacity.visibility?(t(),i("div",Go,Qo)):c("",!0),e(ce).length&&e($).packageLocation.visibility?(t(),i("div",Xo,[Zo,a("span",null,n(Ae(e(ce))),1)])):c("",!0)])])):c("",!0)]),content:A(()=>[e(l).gallery.length?(t(),i("div",Ko,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(l).gallery.length===1},{"am-mobile w100":e(S)<678}]]),style:re({backgroundImage:`url(${e(l).gallery[0].pictureFullPath})`})},null,6),e(ee).length&&e(S)>677?(t(),i("div",en,[(t(!0),i(X,null,ye(e(ee),(T,J)=>(t(),i("div",{key:J,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(ee).length===1}]),style:re({backgroundImage:`url(${T.pictureFullPath})`})},null,6))),128))])):c("",!0),q(ze,{"custom-class":`am-fcip__gallery-btn${e(S)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>de(te)?te.value=!0:te=!0)},{default:A(()=>[tn,a("span",null,n(e(j).view_all_photos),1)]),_:1},8,["custom-class"])])):c("",!0),q(pt,{modelValue:e(te),"onUpdate:modelValue":U[4]||(U[4]=T=>de(te)?te.value=T:te=T),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[a("div",{class:"am-gd",style:re(e(Ie))},[a("div",an,[a("div",sn,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>de(I)?I.value=e(I)<=0?e(l).gallery.length-1:e(I)-1:I=e(I)<=0?e(l).gallery.length-1:e(I)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>de(I)?I.value=e(l).gallery.length-1===e(I)?0:e(I)+1:I=e(l).gallery.length-1===e(I)?0:e(I)+1)})]),(t(!0),i(X,null,ye(e(l).gallery,(T,J)=>(t(),i("div",{key:J,class:"am-gd__display",style:re({display:J===e(I)?"flex":"none"}),onClick:U[3]||(U[3]=()=>de(I)?I.value=e(l).gallery.length-1===e(I)?0:e(I)+1:I=e(l).gallery.length-1===e(I)?0:e(I)+1)},[a("img",{src:T.pictureFullPath,alt:J},null,8,ln)],4))),128))]),a("div",on,n(`${e(I)+1}/${e(l).gallery.length}`),1),a("div",nn,[(t(!0),i(X,null,ye(e(l).gallery,(T,J)=>(t(),i("div",{key:J,class:R(["am-gd__thumb",{"am-active":J===e(I)}]),style:re({backgroundImage:`url(${T.pictureFullPath})`}),onClick:()=>de(I)?I.value=J:I=J},null,14,rn))),128))])],4)]),_:1},8,["modelValue"]),e($).packageDescription.visibility&&e(Ne)(e(l).description)||e($).packageEmployees.visibility?(t(),i("div",cn,[a("div",un,[e(Ne)(e(l).description)&&e($).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(ne)==="description"}]),onClick:U[5]||(U[5]=()=>de(ne)?ne.value="description":ne="description")},n(e(j).about_package),3)):c("",!0),e($).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(ne)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>de(ne)?ne.value="employees":ne="employees")},n(e(j).tab_employees),3)):c("",!0)]),a("div",dn,[e(Ne)(e(l).description)&&e($).packageDescription.visibility?Lt((t(),i("div",mn,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(l).description.includes("<!-- Content -->")}]),innerHTML:e(l).description},null,10,pn)],512)),[[Et,e(ne)==="description"]]):c("",!0),e($).packageEmployees.visibility?Lt((t(),i("div",_n,[q(Pt,null,{default:A(()=>[(t(!0),i(X,null,ye(e(K),T=>(t(),he(It,{key:T.id,side:""},{heading:A(()=>[a("div",vn,[a("div",fn,[q(dt,{"item-class":"am-fcip__info-employee__img","item-data":T,"trim-string":3},null,8,["item-data"]),a("div",gn,[me(n(T.firstName)+" "+n(T.lastName)+" ",1),T.badge?(t(),i("span",{key:0,style:re({background:T.badge.color}),class:"am-fcip__info-employee__badge"},n(T.badge.content),5)):c("",!0)])])])]),default:A(()=>[e(Ne)(T.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":T.description.includes("<!-- Content -->")}]),innerHTML:T.description},null,10,yn)):c("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Et,e(ne)==="employees"]]):c("",!0)])])):c("",!0),e($).packageServices.visibility?(t(),i("div",hn,[a("div",bn,[a("span",kn,n(`${e(j).package_includes}:`),1)]),q(Pt,null,{default:A(()=>[(t(!0),i(X,null,ye(e(l).bookable,T=>(t(),he(It,{key:T.id,side:!0},{heading:A(()=>[a("div",Cn,[q(dt,{"item-class":"am-fcip__include-service__img","item-data":T.service},null,8,["item-data"]),me(" "+n(T.service.name+(e(l).sharedCapacity?"":" x"+T.quantity)),1)])]),default:A(()=>[a("div",$n,[a("span",null,n(`${e(j).tab_employees}:`),1),(t(!0),i(X,null,ye(M(T).slice(0,6),J=>(t(),he(dt,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),M(T).length>6?(t(),i("span",wn," + "+n(M(T).length-6),1)):c("",!0),e(Ne)(T.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":T.service.description.includes("<!-- Content -->")}]),innerHTML:T.service.description},null,10,Sn)):c("",!0)])]),_:2},1024))),128))]),_:1}),a("div",xn,[a("span",Pn,n(e(j).package_book_service),1)])])):c("",!0),q(pt,{modelValue:e(ve),"onUpdate:modelValue":U[7]||(U[7]=T=>de(ve)?ve.value=T:ve=T),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Q),onClosed:u},{default:A(()=>[q(Yt)]),_:1},8,["modelValue","width"])]),_:2},[e(g)?{name:"header",fn:A(()=>[q(Gt,{"btn-string":e(j).back_btn,"btn-type":e($).backBtn.buttonType,role:"presentation","aria-label":"Back",onGoBack:De},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ge)?(t(),i("div",In,[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:e(j).no_package_services},null,8,Ln),a("div",En,n(e(j).oops),1),a("div",Dn,n(e(j).no_package_services),1),a("div",Tn,[a("a",Bn,n(e(j).add_services_url)+"\xA0 ",1)])],512)):c("",!0)],64))}});const An={name:"CatalogSkeleton"},Rn=Object.assign(An,{setup(h){let B=k(null),f=k(0);window.addEventListener("resize",S);function S(){B.value&&(f.value=B.value.offsetWidth)}Fe(()=>{B.value&&(f.value=B.value.offsetWidth)});let x=y(()=>f.value<=500?"am-w100":f.value<=600?"am-w50":f.value<=768?"am-w33":"");return(L,d)=>{const s=Oa,m=Va;return t(),i("div",{ref_key:"amSkeletonContainer",ref:B,class:"am-skeleton-catalog__wrapper"},[q(m,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(t(!0),i(X,null,ye(new Array(8),g=>(t(),i("div",{key:g,class:R(["am-skeleton-catalog__item",e(x)])},[q(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Nn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Mn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Vn=["href"],On={name:"CatalogFormWrapper"},Un=Object.assign(On,{setup(h){let B=z("licence"),f=k(null),S=k(20);const x=z("baseUrls");let L=k(0);se("containerWidth",L),window.addEventListener("resize",d);function d(){f.value&&(L.value=f.value.offsetWidth)}Fe(()=>{_.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+g.value.counter).classList.add("amelia-v2-booking-"+g.value.counter+"-loaded"),vt(_,{},"ViewContent","appointment",null,null),d(),ea("scrollForm",{offsetFromTop:S})});let s=k(!1);const m=z("settings"),g=z("shortcodeData"),_=ot();_.commit("entities/setPreselected",g.value),_.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:B,loadEntities:g.value.hasApiCall||g.value.in_dialog,showHidden:!1,isPanel:!1});const O=Se(Si),$=Se(cl),v=Se(Io),N=Se(Fn);let V=k([O,$]),Z=k(0),_e=k(null);se("categorySelected",_e);let l=k([]);se("availableCategories",l);let I=k("");se("itemType",I),xt(I,()=>{I.value==="appointment"&&V.value.push(v),I.value==="package"&&V.value.push(N),I.value===""&&V.value.forEach((W,u)=>{W.name==="CategoryService"&&ne(V.value,u),W.name==="CategoryPackage"&&ne(V.value,u)})});function ne(W,u){W.splice(u,1)}function K(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ce(){if(Z.value=Z.value+1,K())setTimeout(()=>{let W=f.value.getBoundingClientRect().top+window.pageYOffset-S.value;window.scrollTo({top:W,behavior:"smooth"})},500);else{let W=f.value.getBoundingClientRect().top+window.pageYOffset-S.value;window.scrollTo({top:W,behavior:"smooth"})}}function ke(){Z.value=Z.value-1}se("changingPageFunctions",{nextPage:ce,previousPage:ke});let M=y(()=>_.getters["entities/getReady"]),ge=y(()=>_.state.entities);se("amEntities",ge);function te(){let W=_.getters["entities/getPreselected"];if(W.category.length!==1&&(g.value.categories_hidden&&(l.value=JSON.parse(JSON.stringify(wt(ge.value,g.value))),xe(()=>{let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)})),g.value.categories_hidden||(l.value=JSON.parse(JSON.stringify(wt(ge.value,g.value))),xe(()=>{if(l.value.length===1){_.commit("booking/setCategoryId",parseInt(l.value[0].id)),_e.value=parseInt(l.value[0].id);let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)}}))),W.category.length===1&&(_.commit("booking/setCategoryId",parseInt(W.category)),_e.value=parseInt(W.category[0]),l.value=JSON.parse(JSON.stringify(wt(ge.value,g.value).filter(u=>u.id===parseInt(W.category[0])))),xe(()=>{let u=V.value.findIndex(ue=>ue.name==="CategoriesList");V.value.splice(u,1)})),W.service.length===1){_.commit("booking/setServiceId",parseInt(W.service[0]));let u=_.getters["entities/getService"](parseInt(W.service[0]));_e.value=u?parseInt(u.categoryId):null,_.commit("booking/setCategoryId",u?parseInt(u.categoryId):null),xe(()=>{V.value=[],V.value.push(v)})}W.employee.length===1&&_.commit("booking/setEmployeeId",parseInt(W.employee[0])),W.location.length===1&&_.commit("booking/setLocationId",parseInt(W.location[0])),W.package.length===1&&_.getters["entities/getPackages"].length&&(V.value=[],_.commit("booking/setPackageId",parseInt(W.package[0])),xe(()=>{V.value.push(N)})),W.show==="packages"?_.commit("booking/setBookableType","package"):_.commit("booking/setBookableType","appointment")}let ee=y(()=>M.value?Wa(_,g.value):null);se("restoreFormData",ee),xt(M,W=>{W&&(te(),s.value=_.getters["entities/getServices"].length===0||_.getters["entities/getEmployees"].length===0,ee.value&&(I.value=_.state.booking.appointment.type,xe(()=>{Z.value=V.value.length-1,_e.value=_.state.booking.appointment.categoryId})))});let De=y(()=>m.customizedData&&"cbf"in m.customizedData?m.customizedData.cbf:ut.cbf);se("customizedDataForm",De);const ve=k(m.customizedData?m.customizedData.fonts:ut.fonts);se("amFonts",ve);let Q=y(()=>m.customizedData&&"cbf"in m.customizedData?m.customizedData.cbf.colors:ut.cbf.colors);se("amColors",Q);let Ce=y(()=>({"--am-c-primary":Q.value.colorPrimary,"--am-c-success":Q.value.colorSuccess,"--am-c-error":Q.value.colorError,"--am-c-warning":Q.value.colorWarning,"--am-c-main-bgr":Q.value.colorMainBgr,"--am-c-main-heading-text":Q.value.colorMainHeadingText,"--am-c-main-text":Q.value.colorMainText,"--am-c-sb-bgr":Q.value.colorSbBgr,"--am-c-sb-text":Q.value.colorSbText,"--am-c-inp-bgr":Q.value.colorInpBgr,"--am-c-inp-border":Q.value.colorInpBorder,"--am-c-inp-text":Q.value.colorInpText,"--am-c-inp-placeholder":Q.value.colorInpPlaceHolder,"--am-c-drop-bgr":Q.value.colorDropBgr,"--am-c-drop-text":Q.value.colorDropText,"--am-c-card-bgr":Q.value.colorCardBgr,"--am-c-card-text":Q.value.colorCardText,"--am-c-card-border":Q.value.colorCardBorder,"--am-c-btn-prim":Q.value.colorBtnPrim,"--am-c-btn-prim-text":Q.value.colorBtnPrimText,"--am-c-btn-sec":Q.value.colorBtnSec,"--am-c-btn-sec-text":Q.value.colorBtnSecText,"--am-c-skeleton-op20":ie(Q.value.colorMainText,.2),"--am-c-skeleton-op60":ie(Q.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Me(){let W=document.head||document.getElementsByTagName("head")[0];W.querySelector("#amCustomFont")&&W.querySelector("#amCustomFont").remove();let u=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,ue=document.createElement("style");W.appendChild(ue),ue.setAttribute("type","text/css"),ue.setAttribute("id","amCustomFont"),ue.appendChild(document.createTextNode(u))}ve.value.customFontSelected&&Me();let E=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",E),(W,u)=>(t(),i(X,null,[ve.value.customFontSelected?c("",!0):(t(),i(X,{key:0},[Nn,Mn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(x).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Vn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:f,class:"am-fc__wrapper",style:re(e(Ce))},[e(M)&&e(V).length?(t(),he(ta(e(V)[e(Z)]),{key:0})):(t(),he(Rn,{key:1}))],4),q(e(Ua))],64))}});var jn=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"}));export{jn as C,ti as _,Gt as a,dt as b,Jt as c,Un as d};
