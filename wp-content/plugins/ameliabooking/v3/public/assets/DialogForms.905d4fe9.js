import{x as E,D as n,c4 as D,m as i,A as b,C as k,q as B,a2 as C,j as g,a1 as z,a3 as p,w as R,f as o,a8 as W,ak as V,i as v,B as M,o as _,ac as S}from"./stepForm.557a9dcb.js";import{e as $}from"./catalogForm.1f511ffa.js";import j from"./EventsListForm.27a25cd3.js";import"./customizeForm.d62bdd41.js";const A={name:"EventsListFormWrapper"},I=Object.assign(A,{setup(L){let e=v("shortcodeData"),h=E({sbsNew:n(D),cbf:n($),elf:n(j)}),l=i(0);b("dialogWrapperWidth",l);let r=i(!1),m=i(!1),u=e.value.trigger_type&&e.value.trigger_type==="class"?[...document.getElementsByClassName(e.value.trigger)]:[document.getElementById(e.value.trigger)];function w(s){m.value=s}let d=i(100);u.forEach(s=>{s.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),r.value=!0,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},d.value)})}),k(m,s=>{s&&u.forEach(t=>{t.dispatchEvent(new Event("click"))})});function x(){r.value=!1}B(()=>{C("renderPopup",{resizeAfter:d})});const c=v("settings");let a=g(()=>c.customizedData&&"elf"in c.customizedData?c.customizedData[e.value.triggered_form].colors:M[e.value.triggered_form].colors),y=g(()=>({"--am-c-primary":a.value.colorPrimary,"--am-c-success":a.value.colorSuccess,"--am-c-error":a.value.colorError,"--am-c-warning":a.value.colorWarning,"--am-c-main-bgr":a.value.colorMainBgr,"--am-c-main-heading-text":a.value.colorMainHeadingText,"--am-c-main-text":a.value.colorMainText}));return z(()=>{e.value.triggered_form==="sbsNew"&&(l.value="760px"),e.value.triggered_form==="cbf"&&(l.value="1140px"),e.value.triggered_form==="elf"&&(l.value="792px")},{flush:"post"}),(s,t)=>(_(),p(V,{modelValue:o(r),"onUpdate:modelValue":t[0]||(t[0]=f=>W(r)?r.value=f:r=f),"append-to-body":!0,"modal-class":`amelia-v2-booking am-forms-dialog am-${o(e).triggered_form}`,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-styles":o(y),"used-for-shortcode":!0,width:o(l),onClosed:x},{default:R(()=>[(_(),p(S(o(h)[o(e).triggered_form]),{onIsRestored:w}))]),_:1},8,["modelValue","modal-class","custom-styles","width"]))}});export{I as default};
