import{y as V,E as c,cZ as B,p as n,B as _,D as C,s as R,a3 as W,k as m,a2 as $,e as h,w as L,b as i,a8 as M,ak as S,j as w,C as y,o as D,ac as j}from"./stepForm.55ab4bc3.js";import{e as N}from"./catalogForm.0107d17f.js";import{v as P}from"./eventListForm.5836c50e.js";import T from"./eventCalendarForm.86409c1c.js";const A={name:"EventsListFormWrapper"},Z=Object.assign(A,{setup(F){let e=w("shortcodeData"),x=V({sbsNew:c(B),cbf:c(N),elf:c(P),ecf:c(T)}),l=n(0);_("dialogWrapperWidth",l);let a=n(!1);_("formDialogVisibility",a);let d=n(!1),f=e.value.trigger_type&&e.value.trigger_type==="class"?[...document.getElementsByClassName(e.value.trigger)]:[document.getElementById(e.value.trigger)];function E(s){d.value=s}let g=n(100);f.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),a.value=!0,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},g.value)})}),C(d,s=>{s&&f.forEach(r=>{r.dispatchEvent(new Event("click"))})});function b(){a.value=!1}let u=n(0);function v(){u.value=window.visualViewport.height}window.addEventListener("resize",v),R(()=>{W("renderPopup",{resizeAfter:g}),v()});const o=w("settings");let t=m(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form].colors:y[e.value.triggered_form].colors),z=m(()=>o.customizedData&&e.value.triggered_form in o.customizedData?o.customizedData[e.value.triggered_form]:y[e.value.triggered_form]),k=m(()=>({"--am-c-primary":t.value.colorPrimary,"--am-c-success":t.value.colorSuccess,"--am-c-error":t.value.colorError,"--am-c-warning":t.value.colorWarning,"--am-c-main-bgr":t.value.colorMainBgr,"--am-c-main-heading-text":t.value.colorMainHeadingText,"--am-c-main-text":t.value.colorMainText,"--am-dvh":u.value?`${u.value}px`:"100dvh"}));return $(()=>{e.value.triggered_form==="sbsNew"&&(l.value=z.value.sidebar.options.self.visibility?"760px":"520px"),e.value.triggered_form==="cbf"&&(l.value="1140px"),e.value.triggered_form==="elf"&&(l.value="792px")},{flush:"post"}),(s,r)=>(D(),h(S,{modelValue:i(a),"onUpdate:modelValue":r[0]||(r[0]=p=>M(a)?a.value=p:a=p),"append-to-body":!0,"modal-class":`amelia-v2-booking am-forms-dialog am-${i(e).triggered_form}`,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-styles":i(k),"used-for-shortcode":!0,width:i(l),onClosed:b},{default:L(()=>[(D(),h(j(i(x)[i(e).triggered_form]),{onIsRestored:E}))]),_:1},8,["modelValue","modal-class","custom-styles","width"]))}});export{Z as default};
